(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2518e880"],{"02b9":function(t,e,a){"use strict";a.r(e),a.d(e,"router",(function(){return s}));var n=window.require("express"),i=a("54b5"),o=n.Router();o.get("/get_device_id",i.getDeviceId),o.get("/uiselector/static_assets/:file_path",i.getUiSelectorStaticAssets);var s=o},"0f95":function(t,e,a){},1:function(t,e){},1457:function(t,e,a){"use strict";var n=a("e98d"),i=a.n(n);i.a},"1e5f":function(t,e,a){"use strict";a.r(e),a.d(e,"doGetDeviceId",(function(){return i})),a.d(e,"doGetUiSelectorStaticAssets",(function(){return o}));var n=window.require("path"),i=function(){var t=new Promise((function(t,e){t({is_installed:!0})}));return t},o=function(t,e){e.sendFile(n.resolve()+"/public/base_integration/uiauto_uiselector/js/"+t.params.file_path)}},"1fa3":function(t,e,a){},2:function(t,e){},"2cfa":function(t,e,a){"use strict";var n=a("a9a8"),i=a.n(n);i.a},"344a":function(t,e,a){"use strict";var n=a("53db"),i=a.n(n);i.a},"389c":function(t,e,a){"use strict";a.r(e),a.d(e,"start_server",(function(){return i}));var n=window.require("ws");function i(){var t=new n.Server({port:63380,perMessageDeflate:!1}),e=null;t.on("connection",(function(t){console.log("websocket connect>>>>>>>>>>"),t.on("message",(function(a){console.log("message>>>>>>>",a),a=JSON.parse(a),"browser"===a.client&&(console.log(window["pythonws"]),e&&e.send(JSON.stringify(a.data))),"python"===a.client&&(e=t),console.log("received: %s",a)}))}))}},"4a80":function(t,e,a){"use strict";var n=a("b82b"),i=a.n(n);i.a},"53db":function(t,e,a){},"54b5":function(t,e,a){"use strict";a.r(e),a.d(e,"getDeviceId",(function(){return o})),a.d(e,"getUiSelectorStaticAssets",(function(){return s}));var n=a("1e5f"),i=a("a530"),o=function(t,e){n.doGetDeviceId().then((function(t){i.formatResult(null,t,e)})).catch((function(t){i.formatResult(t,null,e)}))},s=function(t,e){n.doGetUiSelectorStaticAssets(t,e)}},7146:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{background:"#eeeeee"}},[a("div",{staticClass:"navbar"},[a("div",{staticClass:"left-menu"},[t._v("项目库")]),t._v(" "),a("el-button",{staticClass:"button",staticStyle:{float:"right",margin:"5px 15px 5px 0",height:"30px"},attrs:{type:"primary",size:"mini"},on:{click:t.syncProject}},[t._v("同步项目")]),t._v(" "),a("el-button",{staticClass:"button",staticStyle:{float:"right",margin:"5px 15px",height:"30px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){t.dialogSelectVisible=!0}}},[t._v("导入项目")]),t._v(" "),a("el-dialog",{attrs:{title:"导入项目",visible:t.dialogSelectVisible,width:"30%",center:""},on:{"update:visible":function(e){t.dialogSelectVisible=e}}},[a("el-dialog",{attrs:{title:"正在导入项目环境",width:"25%",top:"25vh",visible:t.uploadLoading,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"append-to-body":"",center:""},on:{"update:visible":function(e){t.uploadLoading=e}}},[a("div",{staticClass:"loading"},[a("i",{staticClass:"el-icon-loading uploadLoading"})])]),t._v(" "),a("div",{attrs:{"class-name":"small-padding fixed-width"}},[a("el-input",{staticStyle:{width:"70%",height:"32px"},attrs:{autocomplete:"off",readonly:!0},model:{value:t.filePath,callback:function(e){t.filePath=e},expression:"filePath"}}),t._v(" "),a("el-button",{staticStyle:{height:"32px","line-height":"7px"},attrs:{type:"primary"},on:{click:function(e){return t.exportProject()}}},[t._v("选择文件")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px"},attrs:{type:"primary",disabled:""===t.filePath},on:{click:function(e){return t.upload()}}},[t._v("导入")]),t._v(" "),a("el-button",{staticStyle:{color:"#1890ff",border:"1px solid #1890ff",width:"70px",height:"32px","line-height":"7px"},on:{click:function(e){t.dialogSelectVisible=!1,t.filePath=""}}},[t._v("取消")])],1)],1),t._v(" "),a("div",{staticClass:"header-search",class:{showSearch:t.showSearch}},[a("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"search"},on:{click:function(e){return e.stopPropagation(),t.searchClick(e)}}}),t._v(" "),a("el-input",{ref:"headerSearchSelect",staticClass:"header-search-select",attrs:{placeholder:"请输入项目名称",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchFn()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("div",{staticClass:"welcome-container"},[a("div",{staticClass:"dashboard-editor-container"},[a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col-created",attrs:{xs:12,sm:12,lg:6},nativeOn:{click:function(e){t.showDialog=!0}}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-edit"},[a("svg-icon",{attrs:{"icon-class":"edit","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description",staticStyle:{margin:"51px 0"}},[a("div",{staticClass:"card-panel-text",staticStyle:{color:"#1890ff"}},[t._v("新建项目")])])])]),t._v(" "),a("el-col",{staticClass:"card-panel-col-created",attrs:{xs:12,sm:12,lg:6},nativeOn:{click:function(e){return t.createFolder()}}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-edit"},[a("svg-icon",{attrs:{"icon-class":"createfolder","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description",staticStyle:{margin:"51px 0"}},[a("div",{staticClass:"card-panel-text",staticStyle:{color:"#1890ff"}},[t._v("新建文件夹")])])])])],1),t._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[t.showTip?a("div",{staticStyle:{height:"60px","line-height":"60px","text-align":"center",color:"#909399"}},[t._v("请到系统管理设置项目路径")]):t._e(),t._v(" "),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-s-grid"}),t._v(" 项目宫格\n          ")]),t._v(" "),a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[t._l(t.local_folderLs,(function(e,n){return a("el-col",{key:n,staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6},on:{dragover:function(t){t.preventDefault()}},nativeOn:{drop:function(a){return t.drog(a,e.folder_name)},click:function(a){return t.openFolder(e)}}},[a("div",{staticClass:"card-panel",staticStyle:{"margin-top":"20px"},on:{mouseenter:function(a){return t.enterFolder(e)},mouseleave:function(a){return t.leaveFolder(e)}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-clipboard"},[a("svg-icon",{attrs:{"icon-class":"folder","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description",staticStyle:{position:"absolute",left:"120px",top:"auto"}},[a("div",{staticClass:"card-panel-text"},[t._v(t._s(e.folder_name))]),t._v(" "),a("div",{staticClass:"card-panel-num"},[t._v("文件夹")]),t._v(" "),a("div",{staticClass:"card-panel-num"},[t._v(t._s(e.date))])]),t._v(" "),a("transition",{attrs:{name:"slide-fade"}},[t.show&&t.showCurrent===e.folder_name?a("div",{staticStyle:{position:"absolute",right:"0",margin:"13px 20px"}},[a("div",{staticStyle:{"margin-bottom":"5px"}},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(a){return a.stopPropagation(),t.editFolder(e)}}})],1),t._v(" "),a("div",[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return a.stopPropagation(),t.deleteFolder(e)}}})],1)]):t._e()])],1)])})),t._v(" "),t._l(t.searchProjectLs.length?t.searchProjectLs:t.projectLs,(function(e){return a("el-col",{directives:[{name:"show",rawName:"v-show",value:t.changeStatus(e.project_name),expression:"changeStatus(item.project_name)"}],key:e.project_name,staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6,draggable:"true"},nativeOn:{click:function(a){e.json&&t.handleSetLineChartData(e)},dragstart:function(a){return t.dragstart(a,e.project_name)},dragend:function(e){return t.dragend(e)}}},[a("div",{staticClass:"card-panel",staticStyle:{"margin-top":"20px"},on:{mouseenter:function(a){e.json&&t.enter(e)},mouseleave:function(a){e.json&&t.leave(e)}}},[e.isDownloading?a("el-progress",{staticClass:"progress",attrs:{type:"circle",percentage:e.downloadRate,width:50,"stroke-width":3}}):t._e(),t._v(" "),e.isDownloading?a("div",{style:{filter:"blur("+(100-e.downloadRate)/10+"px) contrast(0.8)"}},[a("div",{staticClass:"card-panel-icon-wrapper icon-clipboard"},[a("svg-icon",{attrs:{"icon-class":"clipboard","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description",staticStyle:{position:"absolute",left:"120px"}},[a("div",{staticClass:"card-panel-text"},[t._v(t._s(e.project_name))]),t._v(" "),a("div",{staticClass:"card-panel-num"},[t._v(t._s(e.project_type?"cloud"==e.project_type?"云端":"本地":""))]),t._v(" "),a("div",{staticClass:"card-panel-num"},[t._v(t._s(e.date))])])]):t._e(),t._v(" "),e.isDownloading?t._e():a("div",[a("div",{staticClass:"card-panel-icon-wrapper icon-clipboard"},[a("svg-icon",{attrs:{"icon-class":"clipboard","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description",staticStyle:{position:"absolute",left:"120px"}},[a("div",{staticClass:"card-panel-text"},[t._v(t._s(e.project_name))]),t._v(" "),a("div",{staticClass:"card-panel-num"},[t._v(t._s(e.project_type?"cloud"==e.project_type?"云端":"本地":""))]),t._v(" "),a("div",{staticClass:"card-panel-num"},[t._v(t._s(e.date))])])]),t._v(" "),a("transition",{attrs:{name:"slide-fade"}},[t.show&&t.showCurrent===e.project_name?a("div",{staticStyle:{position:"absolute",right:"0",margin:"13px 20px"}},[a("div",{staticStyle:{"margin-bottom":"5px"}},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(a){return a.stopPropagation(),t.editClick(e)}}})],1),t._v(" "),a("div",{staticStyle:{"margin-bottom":"5px"}},[a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-download",circle:""},on:{click:function(a){return a.stopPropagation(),t.download(e)}}})],1),t._v(" "),a("div",[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return a.stopPropagation(),t.deleteProject(e)}}})],1)]):t._e()])],1)])}))],2)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"项目列表"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-s-unfold"}),t._v(" 项目列表\n          ")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{border:"",data:t.searchProjectLs.length?t.searchProjectLs:t.projectLs}},[a("el-table-column",{attrs:{prop:"project_name",align:"center",label:"项目名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"json.cron",align:"center",label:"执行规则"}}),t._v(" "),a("el-table-column",{attrs:{prop:"json.retry_count",align:"center",label:"重试次数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"json.retry_interval",align:"center",label:"重试间隔(毫秒)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"json.time_out",align:"center",label:"超时时间(毫秒)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",align:"center",label:"日期"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"300","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.editClick(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return t.handleSetLineChartData(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){return t.download(e.row)}}},[t._v("导出")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.deleteProject(e.row)}}},[t._v("删除")])]}}])})],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"新建项目",visible:t.showDialog,center:"","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.showDialog=e}}},[a("div",{staticStyle:{height:"32px","margin-bottom":"12px"}},[a("span",{staticClass:"title-name"},[t._v("项目名称：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.projectName,expression:"projectName"}],staticStyle:{"vertical-align":"middle",resize:"none","word-wrap":"normal",overflow:"hidden",width:"70%",height:"32px","line-height":"24px","border-radius":"5px",border:"1px solid #ccc"},attrs:{maxlength:"100",clearable:""},domProps:{value:t.projectName},on:{input:function(e){e.target.composing||(t.projectName=e.target.value)}}})]),t._v(" "),a("div",[a("span",{staticClass:"title-name"},[t._v("项目描述：")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticStyle:{"vertical-align":"top",resize:"none",overflow:"hidden",width:"70%",height:"150px","line-height":"24px","border-radius":"5px",border:"1px solid #ccc"},attrs:{clearable:""},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px"},attrs:{type:"primary"},on:{click:function(e){return t.commitHandleClick()}}},[t._v("确定")]),t._v(" "),a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px",color:"#1890ff",border:"1px solid #1890ff"},on:{click:function(e){return t.cancelClick()}}},[t._v("取消")])],1)]),t._v(" "),a("folder",{ref:"childFolder"}),t._v(" "),a("edit",{ref:"editForm"})],1)])])},i=[],o=(a("20d6"),a("386d"),a("7514"),a("f559"),a("a481"),a("28a5"),a("ac6a"),a("2ef0")),s=a.n(o),r=a("c1df"),l=a.n(r),c=a("9448"),p=a("f22f"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"编辑操作",visible:t.showDialog,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.showDialog=e},closed:t.reset}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:8}},[t._v("项目名称")]),t._v(" "),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:"请输入项目名称",disabled:t.isDisabled},model:{value:t.form.project_name,callback:function(e){t.$set(t.form,"project_name",e)},expression:"form.project_name"}}),t._v(" "),t.isDisabled?a("font",{staticStyle:{float:"left","font-size":"12px",color:"red"}},[t._v("云端项目不支持修改")]):t._e()],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:8}},[t._v("开启执行规则")]),t._v(" "),a("el-col",{attrs:{span:16}},[a("el-switch",{staticStyle:{float:"left",height:"32px"},attrs:{"active-text":"是","inactive-text":"否"},model:{value:t.cronOpen,callback:function(e){t.cronOpen=e},expression:"cronOpen"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:8}},[t._v("开启录屏")]),t._v(" "),a("el-col",{attrs:{span:16}},[a("el-switch",{staticStyle:{float:"left",height:"32px"},attrs:{"active-text":"是","inactive-text":"否"},model:{value:t.recordOpen,callback:function(e){t.recordOpen=e},expression:"recordOpen"}})],1)],1),t._v(" "),t.cronOpen?a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[t.cronOpen?a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:8}},[t._v("执行规则")]),t._v(" "),a("el-col",{attrs:{span:16}},[t.showCronBox?a("cron",{model:{value:t.form.cron,callback:function(e){t.$set(t.form,"cron",e)},expression:"form.cron"}}):t._e(),t._v(" "),a("el-input",{attrs:{"auto-complete":"off",readonly:"",placeholder:"请输入定时策略"},model:{value:t.form.cron,callback:function(e){t.$set(t.form,"cron",e)},expression:"form.cron"}},[t.showCronBox?a("el-button",{attrs:{slot:"append",icon:"el-icon-arrow-down",title:"关闭图形配置"},on:{click:function(e){t.showCronBox=!1}},slot:"append"}):a("el-button",{attrs:{slot:"append",icon:"el-icon-arrow-up",title:"打开图形配置"},on:{click:function(e){t.showCronBox=!0}},slot:"append"})],1)],1)],1):t._e(),t._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:8}},[t._v("重试(次)")]),t._v(" "),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:"请输入重试次数",type:"number"},model:{value:t.form.retry_count,callback:function(e){t.$set(t.form,"retry_count",e)},expression:"form.retry_count"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:8}},[t._v("重试间隔(毫秒)")]),t._v(" "),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:"请输入重试时间",type:"number"},model:{value:t.form.retry_interval,callback:function(e){t.$set(t.form,"retry_interval",e)},expression:"form.retry_interval"}})],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:8}},[t._v("超时时间(毫秒)")]),t._v(" "),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:"请输入超时时间",type:"number"},model:{value:t.form.time_out,callback:function(e){t.$set(t.form,"time_out",e)},expression:"form.time_out"}})],1)],1)],1):t._e(),t._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px"},attrs:{type:"primary"},on:{click:function(e){return t.commitEdit()}}},[t._v("确定")]),t._v(" "),a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px",color:"#1890ff",border:"1px solid #1890ff"},on:{click:function(e){t.showDialog=!1}}},[t._v("取消")])],1)],1)},d=[],h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cron",attrs:{val:t.value_}},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"秒",name:"s"}},[a("second-and-minute",{attrs:{lable:"秒"},model:{value:t.sVal,callback:function(e){t.sVal=e},expression:"sVal"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"分",name:"m"}},[a("second-and-minute",{attrs:{lable:"分"},model:{value:t.mVal,callback:function(e){t.mVal=e},expression:"mVal"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"时",name:"h"}},[a("hour",{attrs:{lable:"时"},model:{value:t.hVal,callback:function(e){t.hVal=e},expression:"hVal"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"日",name:"d"}},[a("day",{attrs:{lable:"日"},model:{value:t.dVal,callback:function(e){t.dVal=e},expression:"dVal"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"月",name:"month"}},[a("month",{attrs:{lable:"月"},model:{value:t.monthVal,callback:function(e){t.monthVal=e},expression:"monthVal"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"周",name:"week"}},[a("week",{attrs:{lable:"周"},model:{value:t.weekVal,callback:function(e){t.weekVal=e},expression:"weekVal"}})],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini",border:""}},[a("el-table-column",{attrs:{prop:"sVal",label:"秒",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mVal",label:"分",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"hVal",label:"时",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dVal",label:"日",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"monthVal",label:"月",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"weekVal",label:"周",width:"70"}})],1)],1)},f=[],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{val:t.value_}},[a("div",[a("el-radio",{attrs:{label:"1",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("每"+t._s(t.lable))])],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"2",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("周期")]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[t._v("从")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:59,size:"mini"},on:{change:function(e){t.type="2"}},model:{value:t.cycle.start,callback:function(e){t.$set(t.cycle,"start",e)},expression:"cycle.start"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[t._v("至")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:2,max:59,size:"mini"},on:{change:function(e){t.type="2"}},model:{value:t.cycle.end,callback:function(e){t.$set(t.cycle,"end",e)},expression:"cycle.end"}}),t._v("\n    "+t._s(t.lable)+"\n  ")],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"3",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("循环")]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[t._v("从")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,max:59,size:"mini"},on:{change:function(e){t.type="3"}},model:{value:t.loop.start,callback:function(e){t.$set(t.loop,"start",e)},expression:"loop.start"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[t._v(t._s(t.lable)+"开始，每")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:59,size:"mini"},on:{change:function(e){t.type="3"}},model:{value:t.loop.end,callback:function(e){t.$set(t.loop,"end",e)},expression:"loop.end"}}),t._v("\n    "+t._s(t.lable)+"执行一次\n  ")],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"4",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("指定")]),t._v(" "),a("el-checkbox-group",{model:{value:t.appoint,callback:function(e){t.appoint=e},expression:"appoint"}},t._l(6,(function(e){return a("div",{key:e,staticStyle:{"margin-left":"10px","line-height":"25px"}},t._l(10,(function(n){return a("el-checkbox",{key:n,attrs:{label:(e-1==0?"":e-1)+""+(n-1)},on:{change:function(e){t.type="4"}}})})),1)})),0)],1)])},v=[],_={props:{value:{type:String,default:"*"},lable:{type:String}},data:function(){return{type:"1",cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},work:0,last:0,appoint:[]}},computed:{value_:function(){var t=[];switch(this.type){case"1":t.push("*");break;case"2":t.push("".concat(this.cycle.start,"-").concat(this.cycle.end));break;case"3":t.push("".concat(this.loop.start,"/").concat(this.loop.end));break;case"4":t.push(this.appoint.join(","));break;case"6":t.push("".concat(0===this.last?"":this.last,"L"));break;default:t.push("?");break}return this.$emit("input",t.join("")),t.join("")}},watch:{value:function(t,e){this.updateVal()}},methods:{updateVal:function(){this.value&&("?"===this.value?this.type="5":-1!==this.value.indexOf("-")?2===this.value.split("-").length&&(this.type="2",this.cycle.start=this.value.split("-")[0],this.cycle.end=this.value.split("-")[1]):-1!==this.value.indexOf("/")?2===this.value.split("/").length&&(this.type="3",this.loop.start=this.value.split("/")[0],this.loop.end=this.value.split("/")[1]):-1!==this.value.indexOf("*")?this.type="1":-1!==this.value.indexOf("L")?(this.type="6",this.last=this.value.replace("L","")):-1!==this.value.indexOf("#")?2===this.value.split("#").length&&(this.type="7",this.week.start=this.value.split("#")[0],this.week.end=this.value.split("#")[1]):-1!==this.value.indexOf("W")?(this.type="8",this.work=this.value.replace("W","")):(this.type="4",this.appoint=this.value.split(",")))}},created:function(){this.updateVal()}},y=_,g=(a("4a80"),a("2877")),x=Object(g["a"])(y,m,v,!1,null,null,null),b=x.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{val:t.value_}},[a("div",[a("el-radio",{attrs:{label:"1",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("每时")])],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"2",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("周期")]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[t._v("从")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,max:23,size:"mini"},on:{change:function(e){t.type="2"}},model:{value:t.cycle.start,callback:function(e){t.$set(t.cycle,"start",e)},expression:"cycle.start"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[t._v("至")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:2,max:23,size:"mini"},on:{change:function(e){t.type="2"}},model:{value:t.cycle.end,callback:function(e){t.$set(t.cycle,"end",e)},expression:"cycle.end"}}),t._v("\n    时\n  ")],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"3",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("循环")]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[t._v("从")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,max:23,size:"mini"},on:{change:function(e){t.type="3"}},model:{value:t.loop.start,callback:function(e){t.$set(t.loop,"start",e)},expression:"loop.start"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[t._v("时开始，每")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:23,size:"mini"},on:{change:function(e){t.type="3"}},model:{value:t.loop.end,callback:function(e){t.$set(t.loop,"end",e)},expression:"loop.end"}}),t._v("\n    时执行一次\n  ")],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"4",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("指定")]),t._v(" "),a("el-checkbox-group",{model:{value:t.appoint,callback:function(e){t.appoint=e},expression:"appoint"}},t._l(3,(function(e){return a("div",{key:e,staticStyle:{"margin-left":"10px","line-height":"25px"}},t._l(10,(function(n){return parseInt(e-1+""+(n-1))<24?a("el-checkbox",{key:n,attrs:{label:(e-1==0?"":e-1)+""+(n-1)},on:{change:function(e){t.type="4"}}}):t._e()})),1)})),0)],1)])},j=[],k={props:{value:{type:String,default:"*"}},data:function(){return{type:"1",cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},work:0,last:0,appoint:[]}},computed:{value_:function(){var t=[];switch(this.type){case"1":t.push("*");break;case"2":t.push("".concat(this.cycle.start,"-").concat(this.cycle.end));break;case"3":t.push("".concat(this.loop.start,"/").concat(this.loop.end));break;case"4":t.push(this.appoint.join(","));break;case"6":t.push("".concat(0===this.last?"":this.last,"L"));break;default:t.push("?");break}return this.$emit("input",t.join("")),t.join("")}},watch:{value:function(t,e){this.updateVal()}},methods:{updateVal:function(){this.value&&("?"===this.value?this.type="5":-1!==this.value.indexOf("-")?2===this.value.split("-").length&&(this.type="2",this.cycle.start=this.value.split("-")[0],this.cycle.end=this.value.split("-")[1]):-1!==this.value.indexOf("/")?2===this.value.split("/").length&&(this.type="3",this.loop.start=this.value.split("/")[0],this.loop.end=this.value.split("/")[1]):-1!==this.value.indexOf("*")?this.type="1":-1!==this.value.indexOf("L")?(this.type="6",this.last=this.value.replace("L","")):-1!==this.value.indexOf("#")?2===this.value.split("#").length&&(this.type="7",this.week.start=this.value.split("#")[0],this.week.end=this.value.split("#")[1]):-1!==this.value.indexOf("W")?(this.type="8",this.work=this.value.replace("W","")):(this.type="4",this.appoint=this.value.split(",")))}},created:function(){this.updateVal()}},S=k,D=(a("ff96"),Object(g["a"])(S,w,j,!1,null,null,null)),$=D.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{val:t.value_}},[a("div",[a("el-radio",{attrs:{label:"1",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("每日")])],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"2",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("周期")]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[t._v("从")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:31,size:"mini"},on:{change:function(e){t.type="2"}},model:{value:t.cycle.start,callback:function(e){t.$set(t.cycle,"start",e)},expression:"cycle.start"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[t._v("至")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:2,max:31,size:"mini"},on:{change:function(e){t.type="2"}},model:{value:t.cycle.end,callback:function(e){t.$set(t.cycle,"end",e)},expression:"cycle.end"}}),t._v("\n    日\n  ")],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"3",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("循环")]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[t._v("从")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:31,size:"mini"},on:{change:function(e){t.type="3"}},model:{value:t.loop.start,callback:function(e){t.$set(t.loop,"start",e)},expression:"loop.start"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[t._v("日开始，每")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:31,size:"mini"},on:{change:function(e){t.type="3"}},model:{value:t.loop.end,callback:function(e){t.$set(t.loop,"end",e)},expression:"loop.end"}}),t._v("\n    日执行一次\n  ")],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"8",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("工作日")]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[t._v("本月")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:7,size:"mini"},on:{change:function(e){t.type="8"}},model:{value:t.work,callback:function(e){t.work=e},expression:"work"}}),t._v("\n    号，最近的工作日\n  ")],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"6",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("本月最后一天")])],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"4",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("指定")]),t._v(" "),a("el-checkbox-group",{model:{value:t.appoint,callback:function(e){t.appoint=e},expression:"appoint"}},t._l(4,(function(e){return a("div",{key:e,staticStyle:{"margin-left":"10px","line-height":"25px"}},t._l(10,(function(n){return parseInt(e-1+""+(n-1))<32&&(1!==e||1!==n)?a("el-checkbox",{key:n,attrs:{label:(e-1==0?"":e-1)+""+(n-1)},on:{change:function(e){t.type="4"}}}):t._e()})),1)})),0)],1)])},C=[],N={props:{value:{type:String,default:"*"}},data:function(){return{type:"5",cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},work:0,last:0,appoint:[]}},computed:{value_:function(){var t=[];switch(this.type){case"1":t.push("*");break;case"2":t.push("".concat(this.cycle.start,"-").concat(this.cycle.end));break;case"3":t.push("".concat(this.loop.start,"/").concat(this.loop.end));break;case"4":t.push(this.appoint.join(","));break;case"6":t.push("".concat(0===this.last?"":this.last,"L"));break;case"7":t.push("".concat(this.week.start,"#").concat(this.week.end));break;case"8":t.push("".concat(this.work,"W"));break;default:t.push("*");break}return this.$emit("input",t.join("")),t.join("")}},watch:{value:function(t,e){this.updateVal()}},methods:{updateVal:function(){this.value&&("?"===this.value?this.type="5":-1!==this.value.indexOf("-")?2===this.value.split("-").length&&(this.type="2",this.cycle.start=this.value.split("-")[0],this.cycle.end=this.value.split("-")[1]):-1!==this.value.indexOf("/")?2===this.value.split("/").length&&(this.type="3",this.loop.start=this.value.split("/")[0],this.loop.end=this.value.split("/")[1]):-1!==this.value.indexOf("*")?this.type="1":-1!==this.value.indexOf("L")?(this.type="6",this.last=this.value.replace("L","")):-1!==this.value.indexOf("#")?2===this.value.split("#").length&&(this.type="7",this.week.start=this.value.split("#")[0],this.week.end=this.value.split("#")[1]):-1!==this.value.indexOf("W")?(this.type="8",this.work=this.value.replace("W","")):(this.type="4",this.appoint=this.value.split(",")))}},created:function(){this.updateVal()}},P=N,L=(a("2cfa"),Object(g["a"])(P,O,C,!1,null,null,null)),F=L.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{val:t.value_}},[a("div",[a("el-radio",{attrs:{label:"1",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("每月")])],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"2",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("周期")]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[t._v("从")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:12,size:"mini"},on:{change:function(e){t.type="2"}},model:{value:t.cycle.start,callback:function(e){t.$set(t.cycle,"start",e)},expression:"cycle.start"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[t._v("至")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:2,max:12,size:"mini"},on:{change:function(e){t.type="2"}},model:{value:t.cycle.end,callback:function(e){t.$set(t.cycle,"end",e)},expression:"cycle.end"}}),t._v("\n    月\n  ")],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"3",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("循环")]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[t._v("从")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:12,size:"mini"},on:{change:function(e){t.type="3"}},model:{value:t.loop.start,callback:function(e){t.$set(t.loop,"start",e)},expression:"loop.start"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[t._v("月开始，每")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:12,size:"mini"},on:{change:function(e){t.type="3"}},model:{value:t.loop.end,callback:function(e){t.$set(t.loop,"end",e)},expression:"loop.end"}}),t._v("\n    月执行一次\n  ")],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"4",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("指定")]),t._v(" "),a("el-checkbox-group",{staticStyle:{"margin-left":"0px","line-height":"25px"},model:{value:t.appoint,callback:function(e){t.appoint=e},expression:"appoint"}},t._l(12,(function(e){return a("el-checkbox",{key:e,attrs:{label:e},on:{change:function(e){t.type="4"}}})})),1)],1)])},V=[],E={props:{value:{type:String,default:"*"}},data:function(){return{type:"1",cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},work:0,last:0,appoint:[]}},computed:{value_:function(){var t=[];switch(this.type){case"1":t.push("*");break;case"2":t.push("".concat(this.cycle.start,"-").concat(this.cycle.end));break;case"3":t.push("".concat(this.loop.start,"/").concat(this.loop.end));break;case"4":t.push(this.appoint.join(","));break;case"6":t.push("".concat(0===this.last?"":this.last,"L"));break;default:t.push("?");break}return this.$emit("input",t.join("")),t.join("")}},watch:{value:function(t,e){this.updateVal()}},methods:{updateVal:function(){this.value&&("?"===this.value?this.type="5":-1!==this.value.indexOf("-")?2===this.value.split("-").length&&(this.type="2",this.cycle.start=this.value.split("-")[0],this.cycle.end=this.value.split("-")[1]):-1!==this.value.indexOf("/")?2===this.value.split("/").length&&(this.type="3",this.loop.start=this.value.split("/")[0],this.loop.end=this.value.split("/")[1]):-1!==this.value.indexOf("*")?this.type="1":-1!==this.value.indexOf("L")?(this.type="6",this.last=this.value.replace("L","")):-1!==this.value.indexOf("#")?2===this.value.split("#").length&&(this.type="7",this.week.start=this.value.split("#")[0],this.week.end=this.value.split("#")[1]):-1!==this.value.indexOf("W")?(this.type="8",this.work=this.value.replace("W","")):(this.type="4",this.appoint=this.value.split(",")))}},created:function(){this.updateVal()}},Y=E,J=(a("9a0f"),Object(g["a"])(Y,z,V,!1,null,null,null)),T=J.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{val:t.value_}},[a("div",[a("el-radio",{attrs:{label:"1",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("每周")])],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"2",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("周期")]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[t._v("从星期")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:7,size:"mini"},on:{change:function(e){t.type="2"}},model:{value:t.cycle.start,callback:function(e){t.$set(t.cycle,"start",e)},expression:"cycle.start"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[t._v("至星期")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:2,max:7,size:"mini"},on:{change:function(e){t.type="2"}},model:{value:t.cycle.end,callback:function(e){t.$set(t.cycle,"end",e)},expression:"cycle.end"}})],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"3",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("循环")]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[t._v("从星期")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:7,size:"mini"},on:{change:function(e){t.type="3"}},model:{value:t.loop.start,callback:function(e){t.$set(t.loop,"start",e)},expression:"loop.start"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[t._v("开始，每")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:7,size:"mini"},on:{change:function(e){t.type="3"}},model:{value:t.loop.end,callback:function(e){t.$set(t.loop,"end",e)},expression:"loop.end"}}),t._v("\n    天执行一次\n  ")],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"7",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("指定周")]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[t._v("本月第")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:4,size:"mini"},on:{change:function(e){t.type="7"}},model:{value:t.week.start,callback:function(e){t.$set(t.week,"start",e)},expression:"week.start"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[t._v("周，星期")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:7,size:"mini"},on:{change:function(e){t.type="7"}},model:{value:t.week.end,callback:function(e){t.$set(t.week,"end",e)},expression:"week.end"}})],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"6",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("本月最后一个")]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[t._v("星期")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:7,size:"mini"},on:{change:function(e){t.type="6"}},model:{value:t.last,callback:function(e){t.last=e},expression:"last"}})],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"4",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("指定")]),t._v(" "),a("el-checkbox-group",{staticStyle:{"margin-left":"50px","line-height":"25px"},model:{value:t.appoint,callback:function(e){t.appoint=e},expression:"appoint"}},t._l(7,(function(e){return a("el-checkbox",{key:e,attrs:{label:e},on:{change:function(e){t.type="4"}}})})),1)],1)])},M=[],R={props:{value:{type:String,default:"*"}},data:function(){return{type:"1",cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},work:0,last:0,appoint:[]}},computed:{value_:function(){var t=[];switch(this.type){case"1":t.push("*");break;case"2":t.push("".concat(this.cycle.start,"-").concat(this.cycle.end));break;case"3":t.push("".concat(this.loop.start,"/").concat(this.loop.end));break;case"4":t.push(this.appoint.join(","));break;case"6":t.push("".concat(0===this.last?"":this.last,"L"));break;case"7":t.push("".concat(this.week.start,"#").concat(this.week.end));break;default:t.push("?");break}return this.$emit("input",t.join("")),t.join("")}},watch:{value:function(t,e){this.updateVal()}},methods:{updateVal:function(){this.value&&("?"===this.value?this.type="5":-1!==this.value.indexOf("-")?2===this.value.split("-").length&&(this.type="2",this.cycle.start=this.value.split("-")[0],this.cycle.end=this.value.split("-")[1]):-1!==this.value.indexOf("/")?2===this.value.split("/").length&&(this.type="3",this.loop.start=this.value.split("/")[0],this.loop.end=this.value.split("/")[1]):-1!==this.value.indexOf("*")?this.type="1":-1!==this.value.indexOf("L")?(this.type="6",this.last=this.value.replace("L","")):-1!==this.value.indexOf("#")?2===this.value.split("#").length&&(this.type="7",this.week.start=this.value.split("#")[0],this.week.end=this.value.split("#")[1]):-1!==this.value.indexOf("W")?(this.type="8",this.work=this.value.replace("W","")):(this.type="4",this.appoint=this.value.split(",")))}},created:function(){this.updateVal()}},q=R,I=(a("344a"),Object(g["a"])(q,A,M,!1,null,null,null)),H=I.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{val:t.value_}},[a("div",[a("el-radio",{attrs:{label:"1",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("每年")])],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"5",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("不指定")])],1),t._v(" "),a("div",[a("el-radio",{attrs:{label:"2",size:"mini",border:""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v("周期")]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[t._v("从")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:2e3,size:"mini"},on:{change:function(e){t.type="2"}},model:{value:t.cycle.start,callback:function(e){t.$set(t.cycle,"start",e)},expression:"cycle.start"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[t._v("至")]),t._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:2e3,size:"mini"},on:{change:function(e){t.type="2"}},model:{value:t.cycle.end,callback:function(e){t.$set(t.cycle,"end",e)},expression:"cycle.end"}}),t._v("\n    年\n  ")],1)])},W=[],U={props:{value:{type:String,default:"*"}},data:function(){var t=(new Date).getFullYear();return{type:"1",cycle:{start:t,end:t},loop:{start:0,end:0},week:{start:0,end:0},work:0,last:0,appoint:[]}},computed:{value_:function(){var t=[];switch(this.type){case"1":t.push("*");break;case"2":t.push("".concat(this.cycle.start,"-").concat(this.cycle.end));break;case"3":t.push("".concat(this.loop.start,"/").concat(this.loop.end));break;case"4":t.push(this.appoint.join(","));break;case"6":t.push("".concat(0===this.last?"":this.last,"L"));break;default:t.push("?");break}return this.$emit("input",t.join("")),t.join("")}},watch:{value:function(t,e){this.updateVal()}},methods:{updateVal:function(){this.value&&("?"===this.value?this.type="5":-1!==this.value.indexOf("-")?2===this.value.split("-").length&&(this.type="2",this.cycle.start=this.value.split("-")[0],this.cycle.end=this.value.split("-")[1]):-1!==this.value.indexOf("/")?2===this.value.split("/").length&&(this.type="3",this.loop.start=this.value.split("/")[0],this.loop.end=this.value.split("/")[1]):-1!==this.value.indexOf("*")?this.type="1":-1!==this.value.indexOf("L")?(this.type="6",this.last=this.value.replace("L","")):-1!==this.value.indexOf("#")?2===this.value.split("#").length&&(this.type="7",this.week.start=this.value.split("#")[0],this.week.end=this.value.split("#")[1]):-1!==this.value.indexOf("W")?(this.type="8",this.work=this.value.replace("W","")):(this.type="4",this.appoint=this.value.split(",")))}},created:function(){this.updateVal()}},G=U,X=(a("eb31"),Object(g["a"])(G,B,W,!1,null,null,null)),K=X.exports,Q={props:{value:{type:String}},data:function(){return{activeName:"s",sVal:"",mVal:"",hVal:"",dVal:"",monthVal:"",weekVal:""}},watch:{value:function(t,e){this.updateVal()}},computed:{tableData:function(){return[{sVal:this.sVal,mVal:this.mVal,hVal:this.hVal,dVal:this.dVal,monthVal:this.monthVal,weekVal:this.weekVal}]},value_:function(){if(!this.dVal&&!this.weekVal)return"";var t="".concat(this.sVal," ").concat(this.mVal," ").concat(this.hVal," ").concat(this.dVal," ").concat(this.monthVal," ").concat(this.weekVal);return t!==this.value&&this.$emit("input",t),t}},methods:{updateVal:function(){if(this.value){var t=this.value.split(" ");this.sVal=t[0],this.mVal=t[1],this.hVal=t[2],this.dVal=t[3],this.monthVal=t[4],this.weekVal=t[5]}}},created:function(){this.updateVal()},components:{SecondAndMinute:b,hour:$,day:F,month:T,week:H,year:K}},Z=Q,tt=(a("959d"),Object(g["a"])(Z,h,f,!1,null,null,null)),et=tt.exports,at=(a("71f1"),window.require("fs")),nt=(window.require("os"),window.require("path"),window.require("fs-extra")),it=(window.require("decompress"),{name:"Edit",components:{cron:et},data:function(){return{showDialog:!1,cronOpen:!0,recordOpen:!1,showCronBox:!1,isDisabled:!1,propProjectName:"",readJson:"",form:{project_name:"",cron:"",retry_count:"",retry_interval:"",time_out:""},folderName:""}},computed:{},mounted:function(){},methods:{show:function(t){this.readJson=t.json,this.showDialog=!0,this.propProjectName=t.json.project_name,this.cronOpen=!!t.json.cron,this.recordOpen=!!t.json.automatic_recording,this.form.project_name=t.json.project_name,this.form.cron=t.json.cron||"",this.form.retry_count=t.json.retry_count||"",this.form.retry_interval=t.json.retry_interval||"",this.form.time_out=t.json.time_out||"",this.isDisabled="cloud"===t.project_type,this.folderName=t.folder_name},reset:function(){this.showDialog=!1,this.cronOpen=!0,this.recordOpen=!1,this.showCronBox=!1,this.isDisabled=!1,this.propProjectName="",this.form={project_name:"",cron:"",retry_count:"",retry_interval:"",time_out:""},this.folderName=""},commitEdit:function(){var t=this,e=this;if(this.cronOpen||(this.form.cron=""),this.cronOpen&&!this.cron&&(this.cronOpen=!1),"* * * * * *"!==this.form.cron)if(this.recordOpen?this.readJson["automatic_recording"]=!0:this.readJson["automatic_recording"]=!1,s.a.each(["cron","retry_count","retry_interval","time_out","updateAt"],(function(e){t.readJson[e]="updateAt"===e?l()().format("YYYY-MM-DD HH:mm:ss"):t.form[e]})),this.propProjectName!==this.form.project_name){if(at.existsSync("".concat(p["default"].projectsPath,"/").concat(this.form.project_name)))return void this.$message({message:"项目已存在",type:"error"});if(this.$parent.delDir("".concat(p["default"].projectsPath,"/").concat(this.propProjectName)),this.$store.commit("project/LOCAL_PROJECT_DELETE",{project_name:this.propProjectName}),nt.ensureDirSync("".concat(p["default"].projectsPath,"/").concat(this.form.project_name)),this.readJson["project_name"]=this.form.project_name,nt.writeFileSync("".concat(p["default"].projectsPath,"/").concat(this.form.project_name,"/").concat(this.form.project_name,".json"),JSON.stringify(this.readJson,null,"\t"),"utf8"),this.showDialog=!1,this.$parent.addProject(this.form.project_name),""!==this.folder_name){this.$store.commit("project/LOCAL_PROJECT_FOLDER_DELETE",{folder_name:this.folderName});var a="";try{a=nt.readJsonSync("".concat(p["default"].projectsPath,"/").concat(this.folderName,"/").concat(this.folderName,".json"))}catch(o){console.error(o)}var n=s.a.findIndex(a["projects"],(function(t){return t===e.propProjectName}));-1!==n&&(a["projects"][n]=this.form.project_name),a["updateAt"]=l()().format("YYYY-MM-DD HH:mm:ss"),nt.writeFileSync("".concat(p["default"].projectsPath,"/").concat(this.folderName,"/").concat(this.folderName,".json"),JSON.stringify(a,null,"\t"),"utf8");var i={folder_name:this.folderName,project_type:a.project_type||"folder",projects:a.projects||[],json:a,date:l()(a.updateAt).format("YYYY-MM-DD")};this.$store.commit("project/LOCAL_PROJECT_FOLDERS",i)}else console.error("===============================");this.$parent.$refs["childFolder"].showOpenFolder=!1,this.$message({message:"修改成功",type:"success"})}else nt.writeFileSync("".concat(p["default"].projectsPath,"/").concat(this.propProjectName,"/").concat(this.propProjectName,".json"),JSON.stringify(this.readJson,null,"\t"),"utf8"),this.showDialog=!1,this.$parent.addProject(this.propProjectName),this.$message({message:"修改成功",type:"success"});else this.$message({message:"cron不能设置为每秒执行",type:"error"})}}}),ot=it,st=Object(g["a"])(ot,u,d,!1,null,"3c038daa",null),rt=st.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"新建文件夹",visible:t.showDialog_create_folder,center:"","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.showDialog_create_folder=e}}},[a("div",{staticStyle:{height:"32px","margin-bottom":"12px"}},[a("span",{staticClass:"title-name"},[t._v("文件夹名称：")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.folderName,expression:"folderName"}],staticStyle:{"vertical-align":"middle",resize:"none","word-wrap":"normal",overflow:"hidden",width:"70%",height:"32px","line-height":"24px","border-radius":"5px",border:"1px solid #ccc"},attrs:{maxlength:"100",clearable:""},domProps:{value:t.folderName},on:{input:function(e){e.target.composing||(t.folderName=e.target.value)}}})]),t._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px"},attrs:{type:"primary"},on:{click:function(e){return t.commitCreateFolder()}}},[t._v("确定")]),t._v(" "),a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px",color:"#1890ff",border:"1px solid #1890ff"},on:{click:function(e){return t.cancelCreateFolder()}}},[t._v("取消")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"重命名文件夹",visible:t.showDialog_rename_folder,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.showDialog_rename_folder=e}}},[a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:6}},[t._v("文件夹新名称")]),t._v(" "),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入文件夹名称"},model:{value:t.folderNewName,callback:function(e){t.folderNewName=e},expression:"folderNewName"}})],1)],1),t._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px"},attrs:{type:"primary"},on:{click:function(e){return t.commitRenameFolder()}}},[t._v("确定")]),t._v(" "),a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px",color:"#1890ff",border:"1px solid #1890ff"},on:{click:function(e){return t.cancelRenameFolder()}}},[t._v("取消")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.showProjectMove,width:"30%",center:""},on:{"update:visible":function(e){t.showProjectMove=e}}},[a("span",{staticStyle:{"font-size":"large"}},[t._v("确定将项目 "+t._s(t.dropData.projectName)+" 移动到文件夹 "+t._s(t.dropData.folderName)+" 下吗？")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showProjectMove=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.moveProject}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:t.tempFolderName,visible:t.showOpenFolder,width:"35%",center:""},on:{"update:visible":function(e){t.showOpenFolder=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.openFolderInfo}},[a("el-table-column",{attrs:{prop:"project_name",align:"center",label:"项目名称",draggable:"true"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"400","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.editClick(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return t.handleSetLineChartData(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){return t.download(e.row)}}},[t._v("导出")]),t._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){return t.outFolder(e.row)}}},[t._v("移出")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.deleteProject(e.row)}}},[t._v("删除")])]}}])})],1)],1)],1)},ct=[],pt=(a("71f1"),window.require("fs")),ut=(window.require("os"),window.require("path"),window.require("fs-extra")),dt=(window.require("decompress"),{name:"Folder",components:[],data:function(){return{projects_path:"",showDialog_create_folder:!1,folderName:"",folders:[],showDialog_rename_folder:!1,folderNewName:"",showProjectMove:!1,dropData:"",tempFolders:[],folderJson:{},folderInfo:"",openFolderInfo:"",showOpenFolder:!1,tempFolderName:""}},computed:{},mounted:function(){this.getFolderList()},methods:{createFolder:function(){this.showDialog_create_folder=!0},addFolder:function(t){var e=this;e.projects_path=p["default"].projectsPath+"/";var a="";try{a=ut.readJsonSync("".concat(e.projects_path,"/").concat(t,"/").concat(t,".json"))}catch(i){}var n={folder_name:a.folder_name,project_type:a.project_type||"folder",projects:a.projects||[],json:a,date:l()(a.updatedAt).format("YYYY-MM-DD")};this.$store.commit("project/LOCAL_PROJECT_FOLDERS",n)},getFolderList:function(){var t=this,e=this;if(p["default"].projectsPath){e.projects_path=p["default"].projectsPath+"/";var a=[],n="",i=pt.readdirSync(e.projects_path);i.forEach((function(t,i){var o=pt.statSync(e.projects_path+"\\"+t);o.isDirectory()&&(n=ut.readJsonSync("".concat(e.projects_path,"/").concat(t,"/").concat(t,".json")),"folder"===n.project_type&&a.push(t))})),this.tempFolders=s.a.each(a,(function(e,a){t.addFolder(e)}))}},commitCreateFolder:function(){if(this.folderName.trim()){if(!p["default"].projectsPath)return void this.$parent.message("请先到系统管理设置项目路径","warning");try{pt.accessSync(this.$parent.projects_path+this.folderName+"/"+this.folderName+".json",pt.F_OK)}catch(e){if(!pt.existsSync(this.$parent.projects_path+this.folderName)){ut.ensureDirSync(this.$parent.projects_path+this.folderName);var t=s.a.extend({folder_name:this.folderName},{project_type:"folder"},{projects:[]},{createAt:l()().format("YYYY-MM-DD HH:mm:ss")},{updateAt:l()().format("YYYY-MM-DD HH:mm:ss")});ut.writeJsonSync("".concat(this.$parent.projects_path).concat(this.folderName,"/").concat(this.folderName,".json"),t,"utf8"),this.addFolder(this.folderName)}}this.cancelCreateFolder()}else this.$parent.message("文件夹名称不能为空","warning")},cancelCreateFolder:function(){this.folderName="",this.showDialog_create_folder=!1},enterFolder:function(t){this.$parent.show=!0,this.$parent.showCurrent=t.folder_name},leaveFolder:function(t){this.$parent.show=!1,this.$parent.showCurrent=""},editFolder:function(t){var e="";try{e=ut.readJsonSync("".concat(this.$parent.projects_path,"/").concat(t.folder_name,"/").concat(t.folder_name,".json"))}catch(a){}this.folderInfo=e,this.folderNewName=e.folder_name,this.showDialog_rename_folder=!0},commitRenameFolder:function(){if(this.folderNewName.trim()){var t=this;if(s.a.each(["folder_name","project_type","projects","createAt","updateAt"],(function(e){t.folderJson[e]="updateAt"===e?l()().format("YYYY-MM-DD HH:mm:ss"):t.folderInfo[e]})),this.folderInfo.folder_name!==this.folderNewName){if(pt.existsSync("".concat(p["default"].projectsPath,"/").concat(this.folderNewName)))return void this.$message({message:"文件夹已存在",type:"error"});this.$parent.delDir("".concat(p["default"].projectsPath,"/").concat(this.folderInfo.folder_name)),this.$store.commit("project/LOCAL_PROJECT_FOLDER_DELETE",this.folderInfo),ut.ensureDirSync("".concat(p["default"].projectsPath,"/").concat(this.folderNewName)),t.folderJson["folder_name"]=this.folderNewName,ut.writeFileSync("".concat(p["default"].projectsPath,"/").concat(this.folderNewName,"/").concat(this.folderNewName,".json"),JSON.stringify(t.folderJson,null,"\t"),"utf8"),this.addFolder(this.folderNewName),this.$message({message:"修改成功",type:"success"}),this.folderNewName="",this.showDialog_rename_folder=!1}else ut.writeFileSync("".concat(p["default"].projectsPath,"/").concat(this.folderInfo.folder_name,"/").concat(this.folderInfo.folder_name,".json"),JSON.stringify(this.folderJson,null,"\t"),"utf8"),this.folderNewName="",this.showDialog_rename_folder=!1,this.addFolder(this.folderInfo.folder_name),this.$message({message:"修改成功",type:"success"})}else this.$parent.message("文件夹名称不能为空","warning")},cancelRenameFolder:function(){this.folderNewName="",this.showDialog_rename_folder=!1},deleteFolder:function(t){var e=this;this.$confirm("此操作将永久删除该文件夹, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$parent.delDir(e.$parent.projects_path+t.folder_name),e.$message({type:"success",message:"删除成功"}),e.$store.commit("project/LOCAL_PROJECT_FOLDER_DELETE",t)})).catch((function(t){console.log(t),e.$message({type:"".concat("cancel"===t?"info":"error"),message:"".concat("cancel"===t?"已取消删除":"文件被占用，请稍后再试")})}))},dragstart:function(t,e){console.log("dragstart======================"),t.dataTransfer.setData("item",e)},dragend:function(t){console.log("dragend=========================="),t.dataTransfer.clearData()},drog:function(t,e){t.preventDefault(),console.log("droping==============================");var a=t.dataTransfer.getData("item");console.log("data: ",a),this.showProjectMove=!0,this.dropData={folderName:e,projectName:a}},moveProject:function(){var t=this;t.projects_path=p["default"].projectsPath+"/";var e="";try{e=ut.readJsonSync("".concat(t.projects_path,"/").concat(this.dropData.folderName,"/").concat(this.dropData.folderName,".json"))}catch(i){}var a=s.a.findIndex(e.projects,(function(e){return e===t.dropData.projectName}));if(-1===a){e["projects"].push(this.dropData.projectName),e["updateAt"]=l()().format("YYYY-MM-DD HH:mm:ss"),ut.writeFileSync("".concat(t.projects_path,"/").concat(this.dropData.folderName,"/").concat(this.dropData.folderName,".json"),JSON.stringify(e,null,"\t"),"utf8"),this.$store.commit("project/LOCAL_PROJECT_FOLDER_DELETE",{folder_name:this.dropData.folderName});var n={folder_name:this.dropData.folderName,project_type:e.project_type||"folder",projects:e.projects||[],json:e,date:l()(e.updateAt).format("YYYY-MM-DD")};this.$store.commit("project/LOCAL_PROJECT_FOLDERS",n),this.$message({type:"success",message:"移动成功"}),this.showProjectMove=!1,this.dropData=""}else this.$message({message:"文件夹 ".concat(this.dropData.folderName," 中已存在项目 ").concat(this.dropData.projectName),type:"warning"})},outFolder:function(t){var e=this;this.$confirm("是否将项目 ".concat(t.project_name," 移出文件夹 ").concat(t.folder_name,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=[],n=e.$parent.local_folderLs,i=s.a.findIndex(n,(function(e){return e.folder_name===t.folder_name}));e.$store.commit("project/LOCAL_PROJECT_FOLDER_DELETE",t);var o="";try{o=ut.readJsonSync("".concat(p["default"].projectsPath,"/").concat(t.folder_name,"/").concat(t.folder_name,".json"))}catch(c){console.error(c)}a=-1!==i?n[i].projects:o.projects,o["projects"]=s.a.pull(a,t.project_name),o["updateAt"]=l()().format("YYYY-MM-DD HH:mm:ss"),ut.writeFileSync("".concat(p["default"].projectsPath,"/").concat(t.folder_name,"/").concat(t.folder_name,".json"),JSON.stringify(o,null,"\t"),"utf8");var r={folder_name:t.folder_name,project_type:o.project_type||"folder",projects:o.projects||[],json:o,date:l()(o.updateAt).format("YYYY-MM-DD")};e.$store.commit("project/LOCAL_PROJECT_FOLDERS",r),e.$message({type:"success",message:"移出成功"}),e.showOpenFolder=!1})).catch((function(t){console.log(t),e.$message({type:"".concat("cancel"===t?"info":"error"),message:"".concat("cancel"===t?"已取消移出":"文件被占用，请稍后再试")})}))},openFolder:function(t){var e=this;e.projects_path=p["default"].projectsPath+"/",this.tempFolderName="",this.showOpenFolder=!0;var a=this.$parent.local_folderLs,n=this.$parent.local_folder_projects,i="";if(a.length){var o=s.a.findIndex(a,(function(e){return e.folder_name===t.folder_name}));if(-1!==o){this.tempFolderName=a[o].folder_name;var r=[];s.a.each(a[o].projects,(function(t){var c=s.a.findIndex(n,(function(e){return e===t}));if(-1!==c){try{i=ut.readJsonSync("".concat(e.projects_path,"/").concat(t,"/").concat(t,".json"))}catch(p){}r.push({project_name:t,folder_name:a[o].folder_name,folder_info:a[o].json,date:l()(i.updatedAt).format("YYYY-MM-DD"),project_type:i.project_type||"",json:i})}})),this.openFolderInfo=r}}},editClick:function(t){this.$parent.editClick(t)},handleSetLineChartData:function(t){this.$parent.handleSetLineChartData(t)},download:function(t){this.$parent.download(t)},deleteProject:function(t){this.$parent.deleteProject(t)}}}),ht=dt,ft=Object(g["a"])(ht,lt,ct,!1,null,"3b777dbb",null),mt=ft.exports,vt=a("7c39"),_t=a("71f1"),yt=window.require("fs"),gt=(window.require("os"),window.require("path")),xt=window.require("fs-extra"),bt=window.require("decompress"),wt=(window.require("electron").remote.app,window.require("electron").ipcRenderer,a("1e55")),jt=wt.fileSelector,kt=a("1e55"),St=kt.pluginDownload,Dt=a("9e11"),$t=Dt.getSynchronizeParams,Ot=window.require(gt.resolve()+"/public/runner/index.js"),Ct=Ot.execute,Nt=a("ce74");Nt.start_server(),document.ondragover=function(t){t.preventDefault()},document.ondrop=function(t){t.preventDefault()};var Pt={name:"Workspace",components:{edit:rt,folder:mt},data:function(){return{search:"",showSearch:!1,show:!1,showTip:""===p["default"].projectsPath,showCurrent:"",projectName:"",description:"",projects_path:"",showDialog:!1,projectList:[],uploadLoading:!1,filePath:"",dialogSelectVisible:!1,cronExpression:"",webPlugins_global:[],searchProjectLs:[]}},computed:{vuex_download_projectLs:function(){return this.$store.state.project.projectDownload},vuex_local_projectLs:function(){return this.$store.state.project.localProjectLs},local_projectLs:function(){var t=[];for(var e in this.vuex_local_projectLs)t.push(this.vuex_local_projectLs[e]);return t},download_projectLs:function(){var t=[];for(var e in this.vuex_download_projectLs)t.push(this.vuex_download_projectLs[e]);return t},projectLs:function(){return s.a.concat(this.local_projectLs,this.download_projectLs)},vuex_local_folderLs:function(){return this.$store.state.project.localProjectFoldersLs},local_folderLs:function(){var t=[];for(var e in this.vuex_local_folderLs)t.push(this.vuex_local_folderLs[e]);return t},local_folder_projects:function(){var t=[],e="";for(var a in this.vuex_local_folderLs)e=this.vuex_local_folderLs[a].projects,t=s.a.concat(t,e);return t}},created:function(){},mounted:function(){var t=this;this.getProjectList(),this.pluginViewsFn().then((function(e){t.webPlugins_global=e}))},methods:{addProject:function(t){var e="";try{e=xt.readJsonSync("".concat(this.projects_path,"/").concat(t,"/").concat(t,".json"))}catch(n){}var a={project_name:t,project_type:e.project_type||"",json:e,date:l()(e.updateAt).format("YYYY-MM-DD")};this.$store.commit("project/LOCAL_PROJECT",a)},getProjectList:function(){var t=this,e=this;if(p["default"].projectsPath){this.projects_path=p["default"].projectsPath+"/";var a=[],n="",i=yt.readdirSync(this.projects_path);i.forEach((function(t,i){var o=yt.statSync(e.projects_path+"/"+t);o.isDirectory()&&(n=xt.readJsonSync("".concat(e.projects_path,"/").concat(t,"/").concat(t,".json")),"folder"!==n.project_type&&a.push(t))})),this.projectList=s.a.each(a,(function(e,a){t.addProject(e)}))}},enter:function(t){this.show=!0,this.showCurrent=t.project_name},leave:function(t){this.show=!1,this.showCurrent=""},cancelClick:function(){this.projectName="",this.description="",this.showDialog=!1},message:function(t,e){this.$message({message:t,type:e})},commitHandleClick:function(){var t=this;if(this.projectName.trim()){if(!p["default"].projectsPath)return void this.message("请先到系统管理设置项目路径","warning");try{yt.accessSync(this.projects_path+this.projectName+"/"+this.projectName+".json",yt.F_OK),this.$confirm("文件已存在, 是否打开该文件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$router.push({path:"/project",query:{projectName:t.projectName,projectType:"local"}})})).catch((function(){}))}catch(a){if(!yt.existsSync(this.projects_path+this.projectName)){xt.ensureDirSync(this.projects_path+this.projectName);var e=s.a.extend({project_name:this.projectName},{project_type:"local"},{createAt:l()().format("YYYY-MM-DD HH:mm:ss")},{updateAt:l()().format("YYYY-MM-DD HH:mm:ss")},{cron:""},{retry_count:""},{retry_interval:""},{time_out:""},{description:this.description},{nodes:[{"v-146d869c":"",type:"node",shape:"flow-circle",shapeType:"Start",size:"44*44",label:"开始",color:"#79C900",operation_id:"start",plugin_id:"base",input:[],output:{},version:"1.0.0",x:417.171875,y:61.5,id:"a9043c87",index:0,general_property:[{id:"retry_count",value:"1",name:"重试次数"},{id:"retry_interval",value:"50",name:"重试时间间隔(ms)"},{id:"execution_timeout",value:"5000",name:"执行超时时间(ms)"},{id:"delayed_execution_time",value:"50",name:"延迟执行时间(ms)"},{id:"waiting_time_after_execution",value:"50",name:"执行后等待时间"}]},{"v-146d869c":"",type:"node",shape:"flow-circle",shapeType:"End",size:"44*44",label:"结束",color:"#DC3C00",operation_id:"end",plugin_id:"base",input:[],output:{},version:"1.0.0",x:417.671875,y:479,id:"9e189b9d",index:1,general_property:[{id:"retry_count",value:"1",name:"重试次数"},{id:"retry_interval",value:"50",name:"重试时间间隔(ms)"},{id:"execution_timeout",value:"5000",name:"执行超时时间(ms)"},{id:"delayed_execution_time",value:"50",name:"延迟执行时间(ms)"},{id:"waiting_time_after_execution",value:"50",name:"执行后等待时间"}]}]});xt.writeJsonSync("".concat(this.projects_path).concat(this.projectName,"/").concat(this.projectName,".json"),e,"utf8")}this.$router.push({path:"/project",query:{projectName:this.projectName,projectType:"local"}}),this.showDialog=!1}}else this.message("项目名称不能为空","warning")},handleSetLineChartData:function(t){t.isDownloading?this.$message({type:"warning",message:"该项目暂无法操作"}):this.$router.push({path:"/project",query:{projectName:t.project_name,projectType:t.project_type}})},run:function(t){Ct(t)},editClick:function(t){t.isDownloading?this.$message({type:"warning",message:"该项目暂无法操作"}):this.$refs["editForm"]&&this.$refs["editForm"].show(t)},download:function(t){if(t.isDownloading)this.$message({type:"warning",message:"该项目暂无法操作"});else{var e=this,a=new vt,n=xt.readJsonSync("".concat(this.projects_path,"/").concat(t.project_name,"/").concat(t.project_name,".json"));n.project_type="cloud",xt.writeFileSync("".concat(this.projects_path).concat(t.project_name,"/").concat(t.project_name,".json"),JSON.stringify(n,null,"\t"),"utf8");var i="".concat(this.projects_path).concat(t.project_name),o=a.folder(t.project_name);this.readDir(o,i),a.generateAsync({type:"nodebuffer",compression:"DEFLATE",compressionOptions:{level:9}}).then((function(n){a.remove(t.project_name),yt.existsSync(e.projects_path+"../zip/")||xt.ensureDirSync(e.projects_path+"../zip/"),yt.writeFileSync(e.projects_path+"../zip/"+t.project_name+".zip",n,"utf-8"),e.$message({message:"项目导出成功，导出路径：".concat(gt.normalize(e.projects_path+"../zip/"+t.project_name+".zip")),type:"success"});var i=xt.readJsonSync("".concat(e.projects_path,"/").concat(t.project_name,"/").concat(t.project_name,".json"));i.project_type="local",xt.writeFileSync("".concat(e.projects_path).concat(t.project_name,"/").concat(t.project_name,".json"),JSON.stringify(i,null,"\t"),"utf8")}))}},readDir:function(t,e){var a=this,n=yt.readdirSync(e);n.forEach((function(n,i){if(".DS_Store"!==n){var o=e+"/"+n,s=yt.statSync(o);if(s.isDirectory()){var r=t.folder(n);a.readDir(r,o)}else t.file(n,yt.readFileSync(o))}}))},exportProject:function(){var t=this;jt({properties:["openFile"]}).then((function(e){Array.isArray(e)&&(t.filePath=e[0])}))},upload:function(){var t=this,e=this;if(p["default"].projectsPath){if(this.dialogSelectVisible=!1,this.uploadLoading=!0,"zip"!==this.filePath.split(".")[this.filePath.split(".").length-1])return this.uploadLoading=!1,void e.$message({type:"error",message:"文件格式错误"});var a=this.filePath.replace(/\\/g,"/").split("/"),n=a[a.length-1].split(".zip")[0],i="".concat(p["default"].projectsPath,"/../projects_temp/").concat(n),o=p["default"].projectsPath+"/";yt.existsSync(i)||xt.ensureDirSync(i),yt.existsSync(o)||xt.ensureDirSync(o),bt(this.filePath,i,{filter:function(t){var e=!0;return t.path.startsWith("__MACOSX")&&(e=!1),e}}).then((function(a){if(a&&a.length){var r=s.a.find(a,{path:"".concat(n,"/").concat(n,".json")});if(r){var l=xt.readJsonSync(i+"/"+r.path);if(!yt.existsSync(i)||l.project_name!==n||l.nodes&&!l.nodes.length||l.edges&&!l.edges.length)e.uploadLoading=!1,xt.emptyDirSync(i),yt.rmdirSync(i),e.$message({type:"error",message:"包内文件不合法，请检查包内容后再试!"});else{var c=s.a.uniq(s.a.map(l.nodes,"plugin_id")),u=s.a.difference(yt.readdirSync(p["default"].pluginsPath+"/"),["list.json"]),d=s.a.map(t.webPlugins_global,"plugin_id"),h=s.a.difference(c,u),f=function(){e.uploadLoading=!1;var t=s.a.cloneDeep(i);"directory"===a[0].type&&(t=t+"/"+a[0].path),yt.existsSync(o+n+"/"+n+".json")?e.$confirm("导入的项目已存在, 是否更新替换?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message({type:"success",message:"更新成功!"})})):(e.filePath="",e.$message({type:"success",message:"导入成功!"})),l.project_type="local",yt.writeFileSync("".concat(t,"/").concat(n,".json"),JSON.stringify(l,null,"\t"),"utf8"),xt.moveSync(t,o+n,{overwrite:!0}),xt.emptyDirSync(t);try{yt.rmdirSync(t),yt.rmdirSync(i)}catch(r){}e.addProject(n)};if(h.length){var m=s.a.difference(h,d);if(m.length)e.$confirm("检测到".concat(m,"插件本地且云端不存在，是否继续导入项目？"),"提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){f()}));else{var v=[];s.a.each(t.webPlugins_global,(function(t){s.a.each(h,(function(e){t.plugin_id==e&&v.push(t)}))})),t.pluginDownloadFn(v).then((function(t){f()}))}}else f()}}else e.filePath="",e.uploadLoading=!1,e.$message({type:"error",message:"zip包名与包内项目名不匹配!"})}})).catch((function(t){console.error(t),e.uploadLoading=!1,e.$message({type:"error",message:"文件解压失败"})}))}else this.message("请先到系统管理设置项目路径","warning")},pluginViewsFn:function(){return new Promise((function(t,e){Object(c["c"])({attributes:["plugin_id","version","attachment_md5"]}).then((function(e){t(e.data)})).catch((function(t){console.error(t),e()}))}))},pluginDownloadFn:function(t){var e=this;return new Promise((function(a,n){_t.mapSeries(t,(function(t,a){St({plugin:t,listener_name:"downstate"+t.plugin_id+"@"+t.version,downloadPath:p["default"].serverUrl+"/downloads/plugins/"+t.plugin_id+"@"+t.version,configPath:gt.normalize(p["default"].pluginsPath+"/../plugins_temp/")}).then((function(n){e.$store.dispatch("plugin/pluginDownloadDelete",t.plugin_id).then((function(a){var n={plugin_id:t.plugin_id,needUpdate:!1,buttonText:"已安装最新版本"};e.$store.dispatch("plugin/pluginStatus",n).then((function(t){}))})),a(null,n)})).catch((function(n){console.error(n);var i={plugin_id:t.plugin_id,needUpdate:!0,buttonText:"重新下载"};e.$store.dispatch("plugin/pluginStatus",i),a(n,null)}))}),(function(t,e){t?n(t):a(e)}))}))},deleteProject:function(t){var e=this;t.isDownloading?this.$message({type:"warning",message:"该项目暂无法操作"}):this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.delDir(e.projects_path+t.project_name),e.$message({type:"success",message:"删除成功"}),e.$store.commit("project/LOCAL_PROJECT_DELETE",t)})).catch((function(t){console.log(t),e.$message({type:"".concat("cancel"===t?"info":"error"),message:"".concat("cancel"===t?"已取消删除":"文件被占用，请稍后再试")})}))},delDir:function(t){var e=this,a=[];yt.existsSync(t)&&(a=yt.readdirSync(t),a.forEach((function(a,n){var i=t+"/"+a;yt.statSync(i).isDirectory()?e.delDir(i):yt.unlinkSync(i)})),yt.rmdirSync(t))},searchClick:function(){this.showSearch=!this.showSearch,this.showSearch&&this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.focus()},searchFn:function(){var t=this;this.searchProjectLs=[];var e=this.search.replace(/\s+/g,"");e.length&&s.a.each(this.projectLs,(function(a,n){a.project_name.indexOf(e)>-1&&t.searchProjectLs.push(a)})),this.searchProjectLs.length||this.$message({type:"warning",message:"找不到该项目"})},syncProject:function(){var t=xt.readJsonSync("".concat(gt.resolve(),"/.uiauto/uiauto.conf")).deviceId;t?Object(c["a"])({deviceId:t}).then((function(t){t.data.length&&$t(t.data)})):this.$message({type:"warning",message:"获取机器码失败，请联系管理员"})},createFolder:function(){this.$refs["childFolder"].createFolder()},enterFolder:function(t){this.$refs["childFolder"].enterFolder(t)},leaveFolder:function(t){this.$refs["childFolder"].leaveFolder(t)},editFolder:function(t){this.$refs["childFolder"].editFolder(t)},deleteFolder:function(t){this.$refs["childFolder"].deleteFolder(t)},drog:function(t,e){this.$refs["childFolder"].drog(t,e)},dragstart:function(t,e){this.$refs["childFolder"].dragstart(t,e)},dragend:function(t){this.$refs["childFolder"].dragend(t)},changeStatus:function(t){var e=this.searchProjectLs;if(e.length){var a=s.a.findIndex(e,(function(e){return e.project_name===t}));if(-1!==a)return!0}var n=this.local_folder_projects,i=s.a.findIndex(n,(function(e){return e===t}));return-1===i},openFolder:function(t){this.$refs["childFolder"].openFolder(t)},outFolder:function(t){this.$refs["childFolder"].outFolder(t)}}},Lt=Pt,Ft=(a("1457"),Object(g["a"])(Lt,n,i,!1,null,"1c62eda8",null));e["default"]=Ft.exports},"959d":function(t,e,a){"use strict";var n=a("0f95"),i=a.n(n);i.a},9821:function(t,e,a){},"9a0f":function(t,e,a){"use strict";var n=a("9821"),i=a.n(n);i.a},a530:function(t,e,a){"use strict";a.r(e),a.d(e,"formatResult",(function(){return n}));var n=function(t,e,a,n){if(t){var i=t.status?t.status:500;return a.status(i).json({isSuccess:!1,code:t.code?t.code:"0x0001",error:t.message?t.message:t,data:e})}a.json({isSuccess:!0,code:"0x0001",data:e})}},a9a8:function(t,e,a){},b82b:function(t,e,a){},ba7e:function(t,e,a){},c182:function(t,e,a){"use strict";a.r(e),a.d(e,"router",(function(){return o}));var n=window.require("express"),i=n.Router();i.use("/common",a("02b9").router),i.use("/task",a("fffa").router);var o=i},ce74:function(t,e,a){"use strict";a.r(e),a.d(e,"start_server",(function(){return l}));var n=a("f22f"),i=window.require("express"),o=a("c182"),s=o.router,r=(a("e3a6"),a("389c"));function l(){var t=i();t.all("*",(function(t,e,a){e.header("Access-Control-Allow-Origin","*"),e.header("Access-Control-Allow-Headers","Accept-Ranges,DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-XSRF-TOKEN"),e.header("Access-Control-Allow-Methods","POST,GET"),a()})),t.listen(n["default"].express.port,"0.0.0.0",(function(){console.info("服务启动监听地址："+n["default"].express.domain),console.info("服务启动监听端口："+n["default"].express.port)})),t.use("/uiauto",s),r.start_server()}},e889:function(t,e){window.require("path")},e98d:function(t,e,a){},eb31:function(t,e,a){"use strict";var n=a("1fa3"),i=a.n(n);i.a},f492:function(t,e,a){"use strict";a.r(e),a.d(e,"executeTask",(function(){return o}));a("e889"),a("a530");var n=window.require("path"),i=window.require(n.normalize(n.resolve()+"/public/runner/child_process_cache")),o=(i.stop,i.views,function(t,e){var a=t.body;window["executor"].execute(a.projectName,a.params).then((function(t){console.log(t),e.json({isSuccess:!0})})).catch((function(t){e.json({isSuccess:!0,error:t.stack})}))})},ff96:function(t,e,a){"use strict";var n=a("ba7e"),i=a.n(n);i.a},fffa:function(t,e,a){"use strict";a.r(e),a.d(e,"router",(function(){return r}));var n=window.require("express"),i=a("f492"),o=window.require("body-parser"),s=n.Router();s.post("/execute",o.json(),i.executeTask);var r=s}}]);