(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59dcd276"],{"0663":function(e,t,s){"use strict";var r=s("1cdd"),i=s.n(r);i.a},"1cdd":function(e,t,s){},"1e76":function(e,t,s){},2017:function(e,t,s){"use strict";var r=s("b12d"),i=s.n(r);i.a},2192:function(e,t,s){"use strict";var r=s("1e76"),i=s.n(r);i.a},"3c79":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var r=s("2b0e"),i=new r["default"]},"54d9":function(e,t,s){},"65de":function(e,t,s){"use strict";var r=s("54d9"),i=s.n(r);i.a},"8fbb":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAsCAYAAADFP/AjAAAAAXNSR0IArs4c6QAAAu9JREFUaAXtmrtrFUEYxbPqRXyCBp9RxMpX8EEUURRsAqI2gpUR/BuECHYWQhpLLVNYaLCwSKGCLwiCYGVjYSwEFYyNCEYFEfX6+2RvstzMndkzd9eFsB8cdnfmfOfsN7O7d3a5SU+X0Ww2+5HYB2xr2AUuJUlym22pgfdmDA6Clq9t7y+KcUVsPXnnwHlgQu2xoL2hqGO8l6F1Bpj3MZCAbDySikJwG9lXwQmwMKtU9j7eq/EYAUNguc8vV1EIGu8iuAwW+wTL6MPfZuY6WJdHP1gUgjsRugnsvvmvkc7OKKanFWNvUYhuR2wCrFFEi+DivRKdh2BA1et4QyO6FbHHoIqCluJ7D8gFkdPjLIqCNtD3BPQZKSK+RuT8S8G7wc44OBKpMe3MQ/gOUOMXCWNgj1M0ZyP5w6pxyp9ge9xpQ8dghOhzcuxy7SrQ2AimRf+P8A93NKazAV6Joi/hr+ooKnSgc0v0/gx/t9cCwgVR9A18u/+6DnQOid7fLCdoDGlSFD4ZFM1JwPeG6H0lKI3ggCj6Hr7z6Rk0ayOgswQo99Jv+FvaZGYOsyd1dqY1384oK/E/+ahB1ikYK4KsWcIDvN/NHjr2bMTBFFBik0MqqgnTccUYrq0F/QHpgCj6xa+Yvxdfe+L+EP13+Bxal99eH8nR98HRFttk60t15e/1bxWlrgKmYitw5Kne37mf3EuhVDy2KO9IOU7c16QWFfS2B4S9Dvt/leee0qe5TdEtalFBb5spe4rZu4sSTYUc4NqHGiWC3vaS2Ksoptz9zPCwJ+8u1/2kpz/bpfr3BbxfJBCO4vA061LA/hBFjYV08G7A+Rniif3X7PJTLz3Rw0svxXveFqWsubzDHtFZirfNVCnCOQssxduKMhQdwcdualiKdxmiRQ+QrFcXJQ9ZRQn1TFU08LJtPVPykFWUUM9URQMv29YzJQ9ZRQn1TFU08LLtvJwp+0Zhfyko+u8Ez/hG8TY0xHivhTMY4on9r/8C2QzmGeYm/igAAAAASUVORK5CYII="},"92c2":function(e,t,s){"use strict";var r=s("dd76"),i=s.n(r);i.a},"9ed6":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-container"},[e._m(0),e._v(" "),s("div",{staticClass:"login-body"},[s("div",{staticClass:"left-body"}),e._v(" "),s("div",{staticClass:"right-body"},[s("svg-icon",{staticStyle:{width:"18px",height:"18px",color:"#333",position:"absolute",right:"10px",top:"10px",cursor:"pointer"},attrs:{"icon-class":"setting"},on:{click:e.setting}}),e._v(" "),e._m(1),e._v(" "),s("div",{staticClass:"login-switch-tab"},[s("a",{staticClass:"login-tab-item",class:{"login-tab-highlight":"passwordLogin"===e.loginType},attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.handleLoginType("passwordLogin")}}},[e._v("密码登录")]),e._v(" "),s("a",{staticClass:"login-tab-item",class:{"login-tab-highlight":"mobileLogin"===e.loginType},attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.handleLoginType("mobileLogin")}}},[e._v("短信登录")])]),e._v(" "),"passwordLogin"===e.loginType?s("passwordLogin"):e._e(),e._v(" "),"mobileLogin"===e.loginType?s("mobileLogin"):e._e()],1)]),e._v(" "),s("settingForm",{ref:"settingForm"})],1)},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{width:"850px",margin:"6% auto 20px"}},[r("img",{staticStyle:{"vertical-align":"sub"},attrs:{src:s("8fbb")}}),e._v(" "),r("span",{staticStyle:{color:"#ffffff","font-size":"40px","font-weight":"400","margin-left":"15px"}},[e._v("让您的工作，更加高效！")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"title-container"},[s("h3",{staticClass:"title"},[e._v("系统登录")])])}],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"setting"},[s("el-dialog",{attrs:{title:"服务器信息",visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t},closed:e.reset}},[e.dialogFormVisible?s("el-form",{ref:"setting-form",attrs:{"label-width":"100px","status-icon":""}},[s("el-form-item",{attrs:{label:"服务器地址"}},[s("el-input",{staticStyle:{width:"100%"},attrs:{id:"serverUrl",disabled:!1,type:"text"},model:{value:e.serverUrl,callback:function(t){e.serverUrl=t},expression:"serverUrl"}})],1)],1):e._e(),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticStyle:{background:"#2249a8"},attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")]),e._v(" "),s("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1)],1)},a=[],n=s("f22f"),c=s("1e55"),l=(c.fileSelector,window.require("path"),window.require("os")),d=(window.require("fs-extra"),window.require("fs")),m="".concat(l.homedir(),"/.uiauto/uiauto.conf"),u={data:function(){return{dialogFormVisible:!1,serverUrl:""}},watch:{serverUrl:function(e){n["default"].serverUrl=e}},methods:{show:function(e){this.dialogFormVisible=!0,this.serverUrl=n["default"].serverUrl},reset:function(){},handleConfirm:function(){var e=JSON.parse(d.readFileSync(m,"utf8")),t={pluginsPath:e.pluginsPath,projectsPath:e.projectsPath,pythonPath:e.pythonPath,serverUrl:this.serverUrl,deviceId:e.deviceId||""};d.writeFileSync(m,JSON.stringify(t,null,"\t")),this.$message({message:"修改成功",type:"success"}),this.dialogFormVisible=!1}}},f=u,p=(s("65de"),s("2877")),g=Object(p["a"])(f,o,a,!1,null,"0fa8f03c",null),v=g.exports,h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"password-login",staticStyle:{margin:"0 40px"}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[s("el-form-item",{staticStyle:{"margin-top":"30px"},attrs:{prop:"username"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"user"}})],1),e._v(" "),s("el-input",{ref:"username",staticStyle:{color:"#333333"},attrs:{placeholder:"用户名",name:"username",type:"text","auto-complete":"on"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"password"}})],1),e._v(" "),s("el-input",{ref:"password",staticStyle:{color:"#333333"},attrs:{type:e.passwordType,placeholder:"密码",name:"password","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),s("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),e._v(" "),s("el-button",{staticStyle:{width:"100%",background:"#2249a8","margin-bottom":"20px"},attrs:{loading:e.loading,size:"max",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")]),e._v(" "),s("div",{staticStyle:{"text-align":"end"}},[s("el-link",{staticStyle:{"margin-right":"10px"},attrs:{href:"#",type:"info",size:"mini",underline:!1},nativeOn:{click:function(t){return t.preventDefault(),e.handleResetPassword()}}},[e._v("忘记密码")]),e._v(" "),s("el-link",{staticStyle:{"margin-right":"10px"},attrs:{href:"#",type:"info",size:"mini",underline:!1},nativeOn:{click:function(t){return t.preventDefault(),e.handleResetUsername()}}},[e._v("忘记用户名")]),e._v(" "),s("el-link",{attrs:{href:"#",type:"info",size:"mini",underline:!1},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister()}}},[e._v("快速注册")])],1)],1),e._v(" "),s("resetPassword",{ref:"resetPassword"}),e._v(" "),s("resetUsername",{ref:"resetUsername"}),e._v(" "),s("registerForm",{ref:"registerForm"})],1)},w=[],y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"reset-password"},[s("el-dialog",{attrs:{title:"忘记密码",visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t},closed:e.reset}},[s("el-form",{ref:"resetForm",staticStyle:{margin:"0 40px"},attrs:{model:e.resetForm,rules:e.resetRules}},[s("el-form-item",{attrs:{prop:"password"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{staticStyle:{color:"#333","margin-left":"15px"},attrs:{"icon-class":"password"}})],1),e._v(" "),s("el-input",{ref:"resetPassword",staticStyle:{color:"#333333"},attrs:{type:e.passwordType,placeholder:"密码不少于6位","auto-complete":"off"},model:{value:e.resetForm.password,callback:function(t){e.$set(e.resetForm,"password",t)},expression:"resetForm.password"}}),e._v(" "),s("span",{staticClass:"show-pwd",on:{click:function(t){return e.showPwd()}}},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{prop:"mobile"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"mobile"}})],1),e._v(" "),s("el-input",{attrs:{placeholder:"手机号",autocomplete:"off"},model:{value:e.resetForm.mobile,callback:function(t){e.$set(e.resetForm,"mobile",t)},expression:"resetForm.mobile"}})],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{prop:"cerification_code"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"code"}})],1),e._v(" "),s("el-input",{attrs:{maxlength:"6",placeholder:"验证码",autocomplete:"off"},model:{value:e.resetForm.cerification_code,callback:function(t){e.$set(e.resetForm,"cerification_code",t)},expression:"resetForm.cerification_code"}}),e._v(" "),s("el-button",{staticStyle:{position:"absolute",right:"5px",top:"5px",background:"#2249a8"},attrs:{size:"max",type:"primary",disabled:e.isSendCode},on:{click:e.sendMsg}},[e._v(e._s(e.statusMsg))])],1)],1),e._v(" "),s("el-button",{staticStyle:{background:"#2249a8"},attrs:{type:"primary",size:"max"},on:{click:e.handleReset}},[e._v("确 定")]),e._v(" "),s("el-button",{attrs:{size:"max"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1)},b=[],_={data:function(){var e=function(e,t,s){t.length<6?s(new Error("密码不能少于6位")):s()},t=function(e,t,s){/^1[34578]\d{9}$/.test(t)?s():s(new Error("请输入正确的手机号码"))},s=function(e,t,s){if(""===t)s(new Error("请输入验证码"));else if(""!==t){var r=/^\d{6}$/;r.test(t)||s(new Error("验证码不能少于6位纯数字"))}else s()};return{dialogFormVisible:!1,passwordType:"password",statusMsg:"发送验证码",isSendCode:!1,timer:null,resetForm:{password:"",mobile:"",cerification_code:""},resetRules:{password:[{required:!0,trigger:"blur",validator:e}],mobile:[{required:!0,trigger:"blur",validator:t}],cerification_code:[{required:!0,trigger:"blur",validator:s}]}}},methods:{show:function(){this.dialogFormVisible=!0},reset:function(){this.dialogFormVisible=!1,this.statusMsg="发送验证码",this.isSendCode=!1,this.passwordType="password",clearInterval(this.timer),this.timer=null,this.resetForm={password:"",mobile:"",cerification_code:""},this.$refs.resetForm.resetFields()},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs["resetPassword"].focus()}))},sendMsg:function(){var e=this;this.$refs.resetForm.validateField("mobile",(function(t){t?e.$message({message:t,type:"error"}):e.$store.dispatch("user/sendMsg",{type:"recover",mobile:e.resetForm.mobile}).then((function(){var t=e;e.statusMsg="验证码已发送",e.isSendCode=!0;var s=60;e.statusMsg="".concat(s--,"s后重新获取"),e.timer=setInterval((function(){t.statusMsg="".concat(s--,"s后重新获取"),0===s&&(t.isSendCode=!1,t.statusMsg="重新发送",clearInterval(t.timer))}),1e3),e.$message({message:"验证码发送成功，请前往手机查看",type:"success"})})).catch((function(t){t.isSuccess||e.$message({message:t.error,type:"error"})}))}))},handleReset:function(){var e,t,s,r=this;this.$refs.resetForm.validateField("password",(function(t){e=t})),this.$refs.resetForm.validateField("mobile",(function(e){t=e})),this.$refs.resetForm.validateField("cerification_code",(function(e){s=e})),e||t||s?this.$message({message:e||t||s,type:"error"}):this.$store.dispatch("user/smsRecoverPassword",this.resetForm).then((function(){r.$message({message:"密码重置成功",type:"success"}),r.reset()})).catch((function(e){e.isSuccess||r.$message({message:e.error,type:"error"})}))}}},F=_,x=Object(p["a"])(F,y,b,!1,null,"8de33d60",null),$=x.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"reset-username"},[s("el-dialog",{attrs:{title:"忘记用户名",visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t},closed:e.reset}},[s("el-form",{ref:"resetForm",staticStyle:{margin:"0 40px"},attrs:{model:e.resetForm,rules:e.resetRules}},[s("el-form-item",{attrs:{prop:"mobile"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"mobile"}})],1),e._v(" "),s("el-input",{attrs:{placeholder:"手机号",autocomplete:"off"},model:{value:e.resetForm.mobile,callback:function(t){e.$set(e.resetForm,"mobile",t)},expression:"resetForm.mobile"}})],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{prop:"cerification_code"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"code"}})],1),e._v(" "),s("el-input",{attrs:{maxlength:"6",placeholder:"验证码",autocomplete:"off"},model:{value:e.resetForm.cerification_code,callback:function(t){e.$set(e.resetForm,"cerification_code",t)},expression:"resetForm.cerification_code"}}),e._v(" "),s("el-button",{staticStyle:{position:"absolute",right:"5px",top:"5px",background:"#2249a8"},attrs:{size:"max",type:"primary",disabled:e.isSendCode},on:{click:e.sendMsg}},[e._v(e._s(e.statusMsg))])],1),e._v(" "),e.showUsername?s("el-form-item",{staticStyle:{"margin-top":"20px"}},[s("span",[e._v("您的用户名为："+e._s(this.showUsername))])]):e._e()],1),e._v(" "),s("el-button",{staticStyle:{background:"#2249a8"},attrs:{type:"primary",size:"max"},on:{click:e.handleConfirm}},[e._v("确 定")]),e._v(" "),s("el-button",{attrs:{size:"max"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1)},k=[],C={data:function(){var e=function(e,t,s){/^1[34578]\d{9}$/.test(t)?s():s(new Error("请输入正确的手机号码"))},t=function(e,t,s){if(""===t)s(new Error("请输入验证码"));else if(""!==t){var r=/^\d{6}$/;r.test(t)||s(new Error("验证码不能少于6位纯数字"))}else s()};return{dialogFormVisible:!1,statusMsg:"发送验证码",showUsername:"",isSendCode:!1,timer:null,resetForm:{mobile:"",cerification_code:""},resetRules:{mobile:[{required:!0,trigger:"blur",validator:e}],cerification_code:[{required:!0,trigger:"blur",validator:t}]}}},methods:{show:function(){this.dialogFormVisible=!0},reset:function(){this.statusMsg="发送验证码",clearInterval(this.timer),this.timer=null,this.showUsername="",this.isSendCode=!1,this.dialogFormVisible=!1,this.resetForm={mobile:"",cerification_code:""},this.$refs.resetForm.resetFields()},sendMsg:function(){var e=this;this.$refs.resetForm.validateField("mobile",(function(t){t?e.$message({message:t,type:"error"}):e.$store.dispatch("user/sendMsg",{type:"recover",mobile:e.resetForm.mobile}).then((function(){var t=e;e.statusMsg="验证码已发送",e.isSendCode=!0;var s=60;e.statusMsg="".concat(s--,"s后重新获取"),e.timer=setInterval((function(){t.statusMsg="".concat(s--,"s后重新获取"),0===s&&(t.isSendCode=!1,t.statusMsg="重新发送",clearInterval(t.timer))}),1e3),e.$message({message:"验证码发送成功，请前往手机查看",type:"success"})})).catch((function(t){t.isSuccess||e.$message({message:t.error,type:"error"})}))}))},handleConfirm:function(){var e,t,s=this;this.$refs.resetForm.validateField("mobile",(function(t){e=t})),this.$refs.resetForm.validateField("cerification_code",(function(e){t=e})),e||t?this.$message({message:e||t,type:"error"}):this.$store.dispatch("user/smsGetUsername",this.resetForm).then((function(e){s.showUsername=e.data.username,s.$message({message:e.data.message,type:"success"})})).catch((function(e){e.isSuccess||s.$message({message:e.error,type:"error"})}))}}},M=C,R=Object(p["a"])(M,S,k,!1,null,"627745fc",null),U=R.exports,P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"register-form"},[s("el-dialog",{attrs:{title:"快速注册",visible:e.showRegisterDialog,width:"500px"},on:{"update:visible":function(t){e.showRegisterDialog=t},closed:e.reset}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[s("el-form-item",{staticStyle:{margin:"0 40px"},attrs:{prop:"username"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"user"}})],1),e._v(" "),s("el-input",{attrs:{autocomplete:"off",type:"text",placeholder:"用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),s("el-form-item",{staticStyle:{margin:"30px 40px"},attrs:{prop:"password"}},[s("span",{staticClass:"svg-container",staticStyle:{"margin-left":"15px"}},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"password"}})],1),e._v(" "),s("el-input",{ref:"password1",staticStyle:{color:"#333333"},attrs:{type:e.passwordType1,placeholder:"密码不少于6位","auto-complete":"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),s("span",{staticClass:"show-pwd",on:{click:function(t){return e.showRegistrationPwd(1)}}},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"password"===e.passwordType1?"eye":"eye-open"}})],1)],1),e._v(" "),s("el-form-item",{staticStyle:{margin:"30px 40px"},attrs:{prop:"checkPassword"}},[s("span",{staticClass:"svg-container",staticStyle:{"margin-left":"15px"}},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"password"}})],1),e._v(" "),s("el-input",{ref:"password2",staticStyle:{color:"#333333"},attrs:{type:e.passwordType2,placeholder:"请重新输入密码","auto-complete":"off"},model:{value:e.form.checkPassword,callback:function(t){e.$set(e.form,"checkPassword",t)},expression:"form.checkPassword"}}),e._v(" "),s("span",{staticClass:"show-pwd",on:{click:function(t){return e.showRegistrationPwd(2)}}},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"password"===e.passwordType2?"eye":"eye-open"}})],1)],1),e._v(" "),s("el-form-item",{staticStyle:{margin:"30px 40px"},attrs:{prop:"email"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"email"}})],1),e._v(" "),s("el-input",{attrs:{autocomplete:"off",type:"email",placeholder:"邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),s("el-form-item",{staticStyle:{margin:"30px 40px"},attrs:{prop:"mobile"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"phone"}})],1),e._v(" "),s("el-input",{attrs:{placeholder:"手机号",autocomplete:"off"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),s("el-form-item",{staticStyle:{margin:"30px 40px"},attrs:{prop:"cerification_code"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"code"}})],1),e._v(" "),s("el-input",{attrs:{maxlength:"6",placeholder:"验证码",autocomplete:"off"},model:{value:e.form.cerification_code,callback:function(t){e.$set(e.form,"cerification_code",t)},expression:"form.cerification_code"}}),e._v(" "),s("el-button",{staticStyle:{position:"absolute",right:"5px",top:"5px",background:"#2249a8"},attrs:{size:"max",type:"primary",disabled:e.isSendCode},on:{click:e.sendMsg}},[e._v(e._s(e.statusMsg))])],1)],1),e._v(" "),s("el-button",{staticStyle:{background:"#2249a8"},attrs:{type:"primary",size:"max"},on:{click:e.handleRegister}},[e._v("注 册")]),e._v(" "),s("el-button",{attrs:{size:"max"},on:{click:e.reset}},[e._v("取 消")])],1)],1)},A=[],E={name:"RegisterLogin",components:{},data:function(){var e=this,t=function(e,t,s){t?s():s(new Error("请输入用户名"))},s=function(t,s,r){s.length<6?r(new Error("密码不能少于6位")):(""!==e.form.checkPassword&&e.$refs.form.validateField("checkPassword"),r())},r=function(t,s,r){""===s?r(new Error("请再次输入密码")):s!==e.form.password?r(new Error("两次输入密码不一致!")):r()},i=function(e,t,s){/^1[34578]\d{9}$/.test(t)?s():s(new Error("请输入正确的手机号码"))},o=function(e,t,s){if(""===t)s(new Error("请正确填写邮箱"));else{if(""!==t){var r=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9](\w|\-)+\.([a-zA-Z]{2,4})$/;r.test(t)||s(new Error("请输入有效的邮箱"))}s()}},a=function(e,t,s){if(""===t)s(new Error("请输入验证码"));else if(""!==t){var r=/^\d{6}$/;r.test(t)||s(new Error("验证码不能少于6位纯数字"))}else s()};return{showRegisterDialog:!1,isSendCode:!1,statusMsg:"发送验证码",passwordType1:"password",passwordType2:"password",timer:null,form:{username:"",password:"",checkPassword:"",email:"",mobile:"",cerification_code:""},rules:{username:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,trigger:"blur",validator:s}],checkPassword:[{trigger:"blur",validator:r}],mobile:[{required:!0,trigger:"blur",validator:i}],email:[{required:!0,trigger:"blur",validator:o}],cerification_code:[{required:!0,trigger:"blur",validator:a}]}}},methods:{show:function(){this.showRegisterDialog=!0},reset:function(){this.form={username:"",password:"",checkPassword:"",email:"",mobile:"",cerification_code:""},this.showRegisterDialog=!1,this.isSendCode=!1,this.statusMsg="发送验证码",clearInterval(this.timer),this.timer=null,this.$refs.form.resetFields()},showRegistrationPwd:function(e){var t=this;"password"===this["passwordType".concat(e)]?this["passwordType".concat(e)]="":this["passwordType".concat(e)]="password",this.$nextTick((function(){t.$refs["password".concat(e)].focus()}))},sendMsg:function(){var e,t=this;this.form.mobile?(this.$refs.form.validateField("mobile",(function(t){e=t})),e?this.$message({message:"请输入正确的手机号",type:"error"}):this.$store.dispatch("user/sendMsg",{type:"registered",mobile:this.form.mobile}).then((function(){var e=t;t.statusMsg="验证码已发送",t.isSendCode=!0;var s=60;t.statusMsg="".concat(s--,"s后重新获取"),t.timer=setInterval((function(){e.statusMsg="".concat(s--,"s后重新获取"),0===s&&(e.isSendCode=!1,e.statusMsg="重新发送",clearInterval(e.timer))}),1e3),t.$message({message:"验证码发送成功，请前往手机查看",type:"success"})})).catch((function(e){e.isSuccess||t.$message({message:e.error,type:"error"})}))):this.$message({message:"手机号不能为空",type:"error"})},handleRegister:function(){var e,t,s,r,i,o,a=this;this.$refs.form.validateField("username",(function(t){e=t})),this.$refs.form.validateField("password",(function(e){t=e})),this.$refs.form.validateField("checkPassword",(function(e){s=e})),this.$refs.form.validateField("email",(function(e){r=e})),this.$refs.form.validateField("mobile",(function(e){i=e})),this.$refs.form.validateField("cerification_code",(function(e){o=e})),e||t||s||r||i||o?this.$message({message:e||t||s||r||i||o,type:"error"}):this.$store.dispatch("user/register",this.form).then((function(){a.$message({message:"注册成功",type:"success"}),a.reset()})).catch((function(e){e.isSuccess||a.$message({message:e.error,type:"error"})}))}}},T=E,L=Object(p["a"])(T,P,A,!1,null,"bcf09d0a",null),O=L.exports,q=s("3c79"),z={name:"PasswordLogin",components:{resetPassword:$,resetUsername:U,registerForm:O},data:function(){var e=function(e,t,s){t?s():s(new Error("请输入用户名"))},t=function(e,t,s){t.length<6?s(new Error("密码不能少于6位")):s()};return{loading:!1,redirect:null,passwordType:"password",form:{username:"",password:""},rules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]}}},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e,t,s=this;this.$refs.form.validateField("username",(function(t){e=t})),this.$refs.form.validateField("password",(function(e){t=e})),e||t?this.$message({message:e||t,type:"error"}):(this.loading=!0,this.$store.dispatch("user/login",this.form).then((function(){q["a"].$emit("is_first_run");var e=localStorage.getItem("is_first_run");null!==e&&!0!==e||(s.redirect="/workspace/index"),s.$router.push({path:s.redirect||"/"}),s.$store.state.user.name=s.form.username,s.loading=!1})).catch((function(e){s.loading=!1,e.isSuccess||s.$message({message:e.error,type:"error"})})))},handleResetPassword:function(){this.$refs["resetPassword"]&&this.$refs["resetPassword"].show()},handleResetUsername:function(){this.$refs["resetUsername"]&&this.$refs["resetUsername"].show()},handleRegister:function(){this.$refs["registerForm"]&&this.$refs["registerForm"].show()}}},V=z,D=(s("2192"),Object(p["a"])(V,h,w,!1,null,"74a37cfc",null)),I=D.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mobile-login",staticStyle:{margin:"0 40px"}},[s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[s("el-form-item",{staticStyle:{"margin-top":"30px"},attrs:{prop:"mobile"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"mobile"}})],1),e._v(" "),s("el-input",{attrs:{placeholder:"手机号",autocomplete:"off"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{prop:"cerification_code"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{staticStyle:{color:"#333"},attrs:{"icon-class":"code"}})],1),e._v(" "),s("el-input",{attrs:{maxlength:"6",placeholder:"验证码",autocomplete:"off"},model:{value:e.form.cerification_code,callback:function(t){e.$set(e.form,"cerification_code",t)},expression:"form.cerification_code"}}),e._v(" "),s("el-button",{staticStyle:{position:"absolute",right:"5px",top:"5px",background:"#2249a8"},attrs:{size:"max",type:"primary",disabled:e.isSendCode},on:{click:e.sendMsg}},[e._v(e._s(e.statusMsg))])],1),e._v(" "),s("el-button",{staticStyle:{width:"100%",background:"#2249a8","margin-bottom":"20px"},attrs:{loading:e.loading,size:"max",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")]),e._v(" "),s("div",{staticStyle:{"text-align":"end"}},[s("el-link",{attrs:{href:"#",type:"info",size:"mini",underline:!1},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister()}}},[e._v("快速注册")])],1)],1),e._v(" "),s("registerForm",{ref:"registerForm"})],1)},K=[],Q={name:"MobileLogin",components:{registerForm:O},data:function(){var e=function(e,t,s){/^1[34578]\d{9}$/.test(t)?s():s(new Error("请输入正确的手机号码"))},t=function(e,t,s){if(""===t)s(new Error("请输入验证码"));else if(""!==t){var r=/^\d{6}$/;r.test(t)||s(new Error("验证码不能少于6位纯数字"))}else s()};return{loading:!1,redirect:null,isSendCode:!1,statusMsg:"发送验证码",form:{mobile:"",cerification_code:""},rules:{mobile:[{required:!0,trigger:"blur",validator:e}],cerification_code:[{required:!0,trigger:"blur",validator:t}]}}},methods:{handleLogin:function(){var e,t,s=this;this.$refs.form.validateField("mobile",(function(t){e=t})),this.$refs.form.validateField("cerification_code",(function(e){t=e})),e||t?this.$message({message:e||t,type:"error"}):(this.loading=!0,this.$store.dispatch("user/smsLogin",this.form).then((function(){q["a"].$emit("is_first_run");var e=localStorage.getItem("is_first_run");null!==e&&!0!==e||(s.redirect="/workspace/index"),s.$router.push({path:s.redirect||"/"}),s.$store.state.user.name=s.form.username,s.loading=!1})).catch((function(e){s.loading=!1,e.isSuccess||s.$message({message:e.error,type:"error"})})))},sendMsg:function(){var e=this;this.$refs.form.validateField("mobile",(function(t){t?e.$message({message:t,type:"error"}):e.$store.dispatch("user/sendMsg",{type:"recover",mobile:e.form.mobile}).then((function(){var t=e;e.statusMsg="验证码已发送",e.isSendCode=!0;var s=60;e.statusMsg="".concat(s--,"s后重新获取"),e.timer=setInterval((function(){t.statusMsg="".concat(s--,"s后重新获取"),0===s&&(t.isSendCode=!1,t.statusMsg="重新发送",clearInterval(t.timer))}),1e3),e.$message({message:"验证码发送成功，请前往手机查看",type:"success"})})).catch((function(t){t.isSuccess||e.$message({message:t.error,type:"error"})}))}))},handleRegister:function(){this.$refs["registerForm"]&&this.$refs["registerForm"].show()}}},j=Q,J=(s("0663"),Object(p["a"])(j,Y,K,!1,null,"3ca5bb2c",null)),B=J.exports,N=(s("61f7"),{name:"Login",components:{settingForm:v,passwordLogin:I,mobileLogin:B},data:function(){return{loginType:"passwordLogin",redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){},mounted:function(){},destroyed:function(){},methods:{handleLoginType:function(e){this.loginType=e},setting:function(){this.$refs["settingForm"]&&this.$refs["settingForm"].show()}}}),G=N,H=(s("2017"),s("92c2"),Object(p["a"])(G,r,i,!1,null,"56dd465e",null));t["default"]=H.exports},b12d:function(e,t,s){},dd76:function(e,t,s){}}]);