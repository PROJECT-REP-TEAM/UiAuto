(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60aa99de"],{"05ff8":function(t,e,n){},"11e9":function(t,e,n){var i=n("52a7"),a=n("4630"),o=n("6821"),s=n("6a99"),r=n("69a8"),c=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=o(t),e=s(e,!0),c)try{return l(t,e)}catch(n){}if(r(t,e))return a(!i.f.call(t,e),t[e])}},"13cd":function(t,e,n){},"19af":function(t,e,n){},"25f8":function(t,e,n){},2654:function(t,e,n){},"333d":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[n("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},a=[];n("c5f6");Math.easeInOutQuad=function(t,e,n,i){return t/=i/2,t<1?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function s(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function r(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function c(t,e,n){var i=r(),a=t-i,c=20,l=0;e="undefined"===typeof e?500:e;var u=function t(){l+=c;var r=Math.easeInOutQuad(l,i,a,e);s(r),l<e?o(t):n&&"function"===typeof n&&n()};u()}var l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[6,10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&c(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&c(0,800)}}},u=l,d=(n("35d2"),n("2877")),p=Object(d["a"])(u,i,a,!1,null,"820c5f22",null);e["a"]=p.exports},"34b0":function(t,e,n){"use strict";n("19af")},"35d2":function(t,e,n){"use strict";n("a38a")},"51ea":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-wrapper"},[n("plugin-navbar"),t._v(" "),n("plugin-list")],1)},a=[];n("b775");var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-main-content",staticStyle:{margin:"10px",background:"#fff"}},[n("div",{staticClass:"filter-container"},[n("el-row",[n("el-col",{staticClass:"advanced-search-groups",attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[t._v("\n        插件名称/描述：\n        "),n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"插件名称/描述",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSeach()}},model:{value:t.searchName,callback:function(e){t.searchName="string"===typeof e?e.trim():e},expression:"searchName"}})],1),t._v(" "),n("el-col",{staticClass:"advanced-search-groups",attrs:{xs:24,sm:12,md:8,lg:8,xl:8}},[t._v("\n        插件状态：\n        "),n("el-select",{staticClass:"filter-item",attrs:{placeholder:"插件状态"},on:{change:function(e){return t.handleFilterInit()}},model:{value:t.searchStatus,callback:function(e){t.searchStatus=e},expression:"searchStatus"}},[n("el-option",{attrs:{label:"全部",value:"全部"}}),t._v(" "),"local"!==t.tabName?n("el-option",{attrs:{label:"下载",value:"下载"}}):t._e(),t._v(" "),n("el-option",{attrs:{label:"更新",value:"更新"}})],1)],1),t._v(" "),n("el-col",{staticClass:"advanced-search-operations",attrs:{align:"right",xs:24,sm:24,md:24,lg:24,xl:24}},[n("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.getList()}}},[t._v("搜索")])],1)],1)],1),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{height:"100%"},attrs:{"element-loading-background":"#FFFFFF"}},[n("div",{staticStyle:{position:"relative",display:"inline-block",width:"100%"}},t._l(t.list,(function(e){return n("div",{key:e.plugin_id,staticClass:"card-panel",staticStyle:{"margin-top":"1%",width:"48.5%",float:"left","margin-left":"1%",height:"180px"},attrs:{id:e.plugin_id}},[n("el-card",{attrs:{"body-style":{padding:"0px",height:"100%"},shadow:"never"}},["nodejs"===e.language?n("svg",{staticClass:"icon",staticStyle:{float:"right",margin:"14px 10px 0px 0px"},attrs:{t:"1565963200375",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4393",width:"46",height:"46"}},[n("path",{attrs:{d:"M875.2 262.3L546.7 72.7c-20.7-11.8-48.3-11.8-69 0L148.8 262.3c-21.5 12.2-34.5 34.9-34.5 59.7v379.2c0 24.8 13.4 47.9 34.5 60.1l86.1 49.5c41.8 20.7 56.8 20.7 75.9 20.7 62.1 0 97.4-37.8 97.4-102.7V354.4c0-5.3-4.1-9.3-9.3-9.3h-41.4c-5.3 0-9.3 4.1-9.3 9.3v374.3c0 28.8-30 57.7-78.8 33.3l-90.1-52c-3.2-2-5.3-5.3-5.3-8.9V321.9c0-3.7 2-7.3 5.3-8.9l328.1-190c3.2-1.6 7.3-1.6 10.2 0l328.5 189.6c3.2 1.6 5.3 5.3 5.3 8.9v379.2c0 3.7-2 7.3-4.9 8.9L517.9 899.3c-2.8 1.6-7.3 1.6-10.2 0l-84.4-49.9c-2.4-1.2-5.7-1.6-8.1-0.4-23.1 13.4-27.6 15-49.5 22.7-5.7 1.6-13.4 4.9 2.8 14.2l109.6 65c10.6 6.1 22.3 9.3 34.5 9.3 11.8-0.4 24-3.2 34.1-9.7l328.5-189.6c21.1-12.2 34.5-34.9 34.5-59.7V321.9c0-24.3-13.4-47.5-34.5-59.6z",fill:"#689F63","p-id":"4394"}}),t._v(" "),n("path",{attrs:{d:"M614.1 641.1c-86.9 0-106-21.9-112.5-65-0.8-4.9-4.5-8.1-9.3-8.1h-42.6c-5.3 0-9.3 4.1-9.3 9.3 0 55.2 30 121.4 173.8 121.4l-0.4-0.4c103.9 0 163.6-41 163.6-112.5 0-70.6-47.9-89.7-149-103.1-101.9-13.4-112.5-20.3-112.5-44.3 0-19.5 8.9-45.9 84.4-45.9 67.8 0 92.6 14.6 102.7 60.1 1.2 4.1 4.9 7.3 9.3 7.3H755c2.4 0 5.3-0.8 6.9-2.8 1.6-2 2.8-4.5 2.4-7.3-6.9-78.4-58.9-114.9-164-114.9-93.4 0-149.4 39.4-149.4 105.6 0 71.9 55.6 91.8 145.8 100.7 107.6 10.6 116.1 26.4 116.1 47.5 0 36.5-29.3 52.4-98.7 52.4z",fill:"#689F63","p-id":"4395"}})]):t._e(),t._v(" "),"python"===e.language?n("svg",{staticClass:"icon",staticStyle:{float:"right",margin:"14px 10px 0 0"},attrs:{t:"1565963546363",viewBox:"0 0 1029 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5140",width:"40",height:"40"}},[n("path",{attrs:{d:"M610.304 7.68l38.4 8.704 31.232 11.264 25.088 12.8 19.456 13.824 14.336 14.336 10.752 14.336 6.656 14.336 4.096 12.8 1.536 11.264 1.024 8.704-0.512 5.632v227.84l-2.048 26.624-5.632 23.552-9.216 19.456-11.264 16.384-12.8 13.312-14.336 10.752-14.848 8.192-14.848 6.144-14.336 4.096-12.8 3.072-11.264 1.536-9.216 1.024H376.832l-29.696 2.048-25.088 6.144-21.504 9.216-17.408 11.776-13.824 13.824-11.264 14.848-8.704 15.36-6.144 15.872-4.096 14.848-3.072 13.824-1.536 11.264-1.024 9.216v130.56h-95.744l-9.216-1.024-11.776-3.072-13.824-5.12-14.848-7.68-15.36-11.264-15.36-15.36-14.848-19.456L28.672 678.4l-11.776-31.232-8.704-37.376L2.048 563.2 0 510.464l2.56-52.224 6.656-44.544 10.24-36.864 13.824-30.208 15.36-24.576 16.896-18.944 17.92-13.824 17.92-10.24 16.896-6.656 15.36-4.096 13.824-2.048 10.24-0.512h6.656l2.56 0.512h348.16v-35.328H266.24l-0.512-117.248-1.024-15.872 2.048-14.336 4.608-13.312 7.168-11.776 10.752-11.264 13.312-9.728 16.384-8.704 18.944-7.68 21.504-6.144L384 9.728l27.648-4.608 30.208-2.56 32.768-1.536L510.464 0l54.272 2.048 45.568 5.632zM342.016 92.16l-9.728 14.336-3.584 17.408 3.584 17.408 9.728 14.336 14.336 9.216 17.408 4.096 17.408-4.096 14.336-9.216 9.728-14.336 3.584-17.408-4.096-17.92-9.728-13.824-14.336-9.216-17.408-4.096-17.408 4.096-13.824 9.216z",fill:"#0075AA","p-id":"5141"}}),t._v(" "),n("path",{attrs:{d:"M900.096 260.608l11.776 2.56 13.824 5.12 14.848 7.68 15.36 11.264 15.36 14.848 14.848 19.968 13.824 25.088 11.776 31.232 9.216 37.376 6.144 44.544 2.048 52.224-2.56 52.224-6.656 44.544-10.24 36.864-13.824 30.208-15.36 24.576-16.896 19.456-17.92 14.336-17.92 10.24-16.896 6.656-15.36 4.096-13.824 2.048-10.24 1.024-6.656-0.512h-350.72v34.816H762.88l0.512 117.76 1.024 15.36-2.048 14.336-4.608 13.312-7.168 12.288-10.752 10.752-13.312 10.24-16.384 8.704-18.944 7.168-21.504 6.144-24.576 5.632-27.136 4.096-30.208 3.072-32.768 1.536-35.84 0.512-54.272-1.536-45.568-6.144-38.4-8.704-31.232-10.752-25.088-12.8-19.456-14.336-14.336-14.336-10.752-14.336-6.656-14.336-4.096-12.8-1.536-10.752-1.024-8.704 0.512-5.632v-227.84l2.048-27.136 5.632-23.04 9.216-19.456 11.264-16.384 12.8-13.824 14.336-10.24 14.848-8.704 14.848-6.144 13.824-4.096 12.8-2.56 11.264-1.536 9.216-1.024 5.632-0.512h249.344l29.696-2.048 25.088-6.144 21.504-8.704 17.408-11.776 14.336-13.824 11.264-14.848 8.704-15.36 6.144-15.36 4.096-14.848 3.072-13.824 1.536-11.776 1.024-9.216V259.072h89.088l6.144 0.512 6.656 1.024zM624.128 868.864L614.4 883.2l-3.584 17.408 3.584 17.408 9.728 14.336 14.336 9.728 17.408 3.584 17.408-3.584 14.336-9.728 9.728-14.336 3.584-17.408-3.584-17.408-9.728-14.336-14.336-9.728-17.408-3.584-17.408 3.584-14.336 9.728z",fill:"#FFD400","p-id":"5142"}})]):t._e(),t._v(" "),"java"===e.language?n("svg",{staticClass:"icon",staticStyle:{float:"right",margin:"14px 10px 0 0"},attrs:{t:"1572767890841",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2391","data-spm-anchor-id":"a313x.7781069.0.i2",width:"40",height:"40"}},[n("path",{staticClass:"selected",attrs:{d:"M701.72245 245.828637s-162.696653 40.05327-190.648146 134.112978c-27.951493 94.059708 107.42585 114.379856 24.790581 191.957666 0 0 71.165674-36.847202 71.165675-85.796181s-67.37258-73.73956-48.316797-120.746836c19.055783-47.097588 143.008687-119.527627 143.008687-119.527627z",fill:"#E83418","p-id":"2392","data-spm-anchor-id":"a313x.7781069.0.i1"}}),t._v(" "),n("path",{attrs:{d:"M594.2966 68.501477s64.843851 74.371742-34.950655 184.326322-185.590687 106.116329-55.948141 286.017375c0 0-141.11214-93.427526-103.5876-183.69414s234.539666-126.481633 194.486396-286.649557z",fill:"#E83418","p-id":"2393"}}),t._v(" "),n("path",{staticClass:"selected",attrs:{d:"M408.073731 545.79918s-88.324911 23.526216-88.324911 38.788905c0 15.262689 223.702253 34.318472 370.549191-7.631345 0 0-102.323235 46.375094-266.284253 46.375094s-251.06672-48.903823-15.940027-77.532654zM371.226529 645.593685s-45.110729 12.056621-45.110729 29.893196c0 17.791419 96.588438 69.269127 331.760286 12.688804 0 0-30.525378-15.894871-35.582837-21.629669 0 0-324.761124 46.42025-251.06672-20.952331zM390.282312 738.389029s-65.476033 55.270803 207.1752 20.320148l45.110729 22.894033s-73.73956 29.215857-163.328835 29.215858-175.385457-38.111567-88.957094-72.430039zM322.27755 804.497244s-81.370904 15.262689-81.370905 33.054108 125.217269 34.950655 275.812145 34.950654 291.074834-26.054946 256.756361-61.637782c0 0 15.894871 6.999162 15.894871 18.423601s-36.847202 64.843851-333.656832 64.84385-266.916435-44.478547-266.916436-44.478546 7.044318-34.363628 133.480796-45.155885z",fill:"#06509B","p-id":"2394","data-spm-anchor-id":"a313x.7781069.0.i0"}}),t._v(" "),n("path",{attrs:{d:"M303.221767 910.613573s366.710941 52.742073 523.040613-54.63862c0 0 12.056621 62.269965-228.172686 76.900471s-294.867928-22.261851-294.867927-22.261851zM708.08943 552.798342s81.370904-17.159236 81.370904 48.948979-99.162323 105.484147-99.162323 105.484147 136.641707-21.629669 136.641708-110.586762-118.850289-43.846364-118.850289-43.846364z",fill:"#06509B","p-id":"2395"}})]):t._e(),t._v(" "),n("div",{staticStyle:{padding:"14px"}},[n("span",{staticClass:"plugin_name"},[t._v(t._s(e.plugin_name))]),t._v(" "),n("div",{staticClass:"bottom"},[n("span",{staticStyle:{"font-size":"14px",color:"#999999"}},[t._v("作者:")]),t._v("\n              "+t._s(e.author)+"  \n              "),n("span",{staticStyle:{"font-size":"14px",color:"#999999"}},[t._v("版本号:")]),t._v("\n              "+t._s(e.version)+"  \n              "),n("span",{staticStyle:{"font-size":"14px",color:"#999999"}},[t._v("最近更新时间:")]),t._v("\n              "+t._s(e.updatedAt)+"\n            ")]),t._v(" "),n("div",{staticClass:"bottom",staticStyle:{height:"50px"}},[n("span",{staticClass:"paragraph"},[n("span",{staticStyle:{"font-size":"14px",color:"#999999"}},[t._v("描述:")]),t._v("\n                "+t._s(e.plugin_description)+"\n              ")])]),t._v(" "),n("div",[n("div",[t.download_plugin[e.plugin_id]&&"exception"===t.download_plugin[e.plugin_id].downloadStatus&&t.download_plugin[e.plugin_id].errLog?n("span",{staticStyle:{"font-size":"12px",color:"#F56C6C",float:"left","margin-bottom":"-15px"}},[t._v(t._s(t.download_plugin[e.plugin_id].errLog))]):t._e(),t._v(" "),t.download_plugin[e.plugin_id]?n("el-progress",{staticClass:"download-progress",attrs:{percentage:t.download_plugin[e.plugin_id].downloadRate,status:t.download_plugin[e.plugin_id].downloadStatus}},[t._v(t._s(t.download_plugin[e.plugin_id].downloadRate)+"%")]):t._e(),t._v(" "),"local"!==t.tabName||e.is_uiauto_base_integration?t._e():n("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{type:"danger"},on:{click:function(n){return t.deletePlugin(e)}}},[t._v("删除")]),t._v(" "),n("el-button",{staticStyle:{cursor:"pointer",float:"right"},attrs:{plain:!t.plugin_status[e.plugin_id].needUpdate,type:t.plugin_status[e.plugin_id].needUpdate?"primary":"info",disabled:!t.plugin_status[e.plugin_id].needUpdate,loading:!!t.download_plugin[e.plugin_id]&&t.download_plugin[e.plugin_id].isDownloading},on:{click:function(n){return t.singleDownload(e)}}},[t._v(t._s(t.plugin_status[e.plugin_id].buttonText))])],1)])])])],1)})),0),t._v(" "),n("div",{staticStyle:{width:"100%","margin-top":"6px"}},[n("center",[n("pagination",{staticStyle:{display:"inline-block"},attrs:{total:t.total,page:t.listQuery.pageIndex,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"pageIndex",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)],1)])])},s=[],r=(n("7f7f"),n("28a5"),n("7514"),n("6762"),n("2fdb"),n("55dd"),n("96cf"),n("1da1")),c=n("2ef0"),l=n.n(c),u=(n("4328"),n("9448")),d=n("333d"),p=n("f22f"),g=n("ed08"),h=n("2b0e"),f=new h["default"],_=new h["default"],m=window.require("fs"),v=window.require("path"),y=window.require("fs-extra"),S=(window.require("axios"),window.require("electron").ipcRenderer,n("1e55")),b=S.allDownload,w=S.executeDownload,x={name:"PluginList",components:{Pagination:d["a"]},data:function(){return{list:[],total:0,searchName:"",searchStatus:"全部",listQuery:{pageIndex:1,pageSize:6},loading:!0}},mounted:function(){var t=this;_.$on("getdownloadAllPlugin",(function(e){t.getAllDownloadParams()}))},computed:{tabName:function(){return this.$store.state.plugin.tab},refresh:function(){return this.$store.state.plugin.refresh},download_plugin:function(){return this.$store.state.plugin.pluginDownload},plugin_status:function(){return this.$store.state.plugin.pluginStatus}},watch:{tabName:function(){this.listQuery={pageIndex:1,pageSize:6},this.total=0,this.searchStatus="全部",this.searchName="",this.getList()},refresh:function(t,e){this.getList()}},created:function(){this.getList()},methods:{singleDownload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("python"!==e.language){t.next=8;break}if(!this.$store.state.plugin.has_python_downloading){t.next=6;break}return this.$message({message:"当前已有python插件在下载，请稍候再下载！",type:"error"}),t.abrupt("return",!1);case 6:"uiauto_uiselector"===e.plugin_id&&window.uiselector.exit_uiselector(),this.$store.commit("plugin/MARK_PYTHON_DOWNLOADING",!0);case 8:w(e).then((function(t){})).catch((function(t){}));case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getAllDownloadParams:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=this,Object(u["c"])({}).then((function(t){var i=t.data,a=v.join(v.resolve(),"/public/base_integration/"),o=l.a.map(l.a.difference(m.readdirSync(a),[".DS_Store"]),(function(t){return{plugin_id:t,version:m.existsSync("".concat(a).concat(t,"/package.json"))?y.readJsonSync("".concat(a).concat(t,"/package.json")).version:""}})),s=p["default"].pluginsPath+"/",r=l.a.map(l.a.difference(m.readdirSync(s),["list.json","npm_i.sh",".DS_Store"]),(function(t){var e=l.a.difference(m.readdirSync("".concat(s).concat(t)),[".DS_Store"]).sort(n.versionFn);return{plugin_id:t,version:e[e.length-1]}}));r=l.a.concat(r,o),l.a.remove(i,(function(t){var n="";return n=m.existsSync(v.normalize("".concat(a).concat(t.plugin_id,"/").concat(t.version,"/package.json")))?v.normalize("".concat(a).concat(t.plugin_id,"/").concat(t.version,"/package.json")):v.normalize("".concat(p["default"].pluginsPath,"/").concat(t.plugin_id,"/package.json")),l.a.includes(r,t.plugin_id)&&!1===Object(g["a"])(t.version,y.readJsonSync(n).version)||!!e.download_plugin[t.plugin_id]&&!0===e.download_plugin[t.plugin_id]["isDownloading"]})),l.a.map(i,(function(t){return t["latestVersion"]=t.version})),l.a.each(i,(function(t,e){var i="";if(m.existsSync(v.normalize("".concat(a).concat(t.plugin_id,"/").concat(t.version,"/package.json")))?("uiauto_uiselector"===t.plugin_id&&window.uiselector.exit_uiselector(),i=v.normalize("".concat(a).concat(t.plugin_id,"/").concat(t.version,"/package.json"))):i=v.normalize("".concat(p["default"].pluginsPath,"/").concat(t.plugin_id,"/").concat(t.version,"/package.json")),m.existsSync(i)){var o=y.readJsonSync(i);t.is_uiauto_base_integration=!!o.is_uiauto_base_integration}else t.is_uiauto_base_integration=!1;var s={plugin_id:t.plugin_id,downloadRate:0,downloadStatus:"text",isWaitDownload:!0,isDownloading:!0};n.$store.commit("plugin/PLUGIN_DOWNLOAD",s);var r={plugin_id:t.plugin_id,needUpdate:!0,buttonText:"等待下载"};n.$store.commit("plugin/PLUGIN_STATUS",r)})),setTimeout((function(){b(i,0)}),0)}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getList:function(){l.a.includes(["下载","更新"],this.searchStatus)?this.handleFilter():(this.loading=!0,this.list=[],"all"===this.tabName?this.getWebPlugins():"local"===this.tabName&&this.getLocalPlugins())},handleSeach:function(){this.listQuery={pageIndex:1,pageSize:6},this.getList()},getWebPlugins:function(){var t=this;return new Promise((function(e,n){var i=v.join(v.resolve(),"/public/base_integration/"),a=l.a.map(l.a.difference(m.readdirSync(i),[".DS_Store"]),(function(t){return{plugin_id:t,version:m.existsSync("".concat(i).concat(t,"/package.json"))?y.readJsonSync("".concat(i).concat(t,"/package.json")).version:""}})),o=p["default"].pluginsPath+"/",s=l.a.map(l.a.difference(m.readdirSync(o),["list.json","npm_i.sh",".DS_Store"]),(function(e){var n=l.a.difference(m.readdirSync("".concat(o).concat(e)),[".DS_Store"]).sort(t.versionFn);return{plugin_id:e,version:n[n.length-1]}}));s=l.a.concat(s,a),""!==t.searchName?t.listQuery.where={plugin_name:t.searchName,plugin_description:t.searchName}:t.listQuery.where={},Object(u["b"])(t.listQuery).then((function(e){var n=e.data.list;l.a.map(n,(function(e){var n=l.a.find(s,{plugin_id:e.plugin_id});if(n){var a="".concat(o).concat(n.plugin_id,"/").concat(n.version,"/package.json");if(m.existsSync(a)||(a="".concat(i).concat(n.plugin_id,"/package.json")),m.existsSync(a)){"uiauto_logMonitor"===n.plugin_id&&(n.is_uiauto_base_integration=!0);var r=y.readJsonSync(a);e.is_uiauto_base_integration=!!r.is_uiauto_base_integration,e.latestVersion=e.version;var c={plugin_id:e.plugin_id,needUpdate:!!Object(g["a"])(e.version,r.version),buttonText:t.download_plugin[e.plugin_id]?"exception"===t.download_plugin[e.plugin_id]["downloadStatus"]?"重新下载":!0===t.download_plugin[e.plugin_id]["isWaitDownload"]?"等待下载":"正在下载":Object(g["a"])(e.version,r.version)?"更新":"已安装最新版本"};t.$store.commit("plugin/PLUGIN_STATUS",c)}else{e.latestVersion=e.version;var u={plugin_id:e.plugin_id,needUpdate:!0,buttonText:t.download_plugin[e.plugin_id]?"exception"===t.download_plugin[e.plugin_id]["downloadStatus"]?"重新下载":!0===t.download_plugin[e.plugin_id]["isWaitDownload"]?"等待下载":"正在下载":"下载"};t.$store.commit("plugin/PLUGIN_STATUS",u)}}else{e.latestVersion=e.version;var d={plugin_id:e.plugin_id,needUpdate:!0,buttonText:t.download_plugin[e.plugin_id]?"exception"===t.download_plugin[e.plugin_id]["downloadStatus"]?"重新下载":!0===t.download_plugin[e.plugin_id]["isWaitDownload"]?"等待下载":"正在下载":"下载"};t.$store.commit("plugin/PLUGIN_STATUS",d)}})),t.list=n,t.total=e.data.total,t.loading=!1})).catch((function(e){t.loading=!1,console.warn("err"),console.warn(e)}))}))},versionFn:function(t,e){for(var n=t.split("."),i=e.split("."),a=Math.min(n.length,i.length),o=(Math.max(n.length,i.length),0);o<a;o++){if(parseInt(n[o])>parseInt(i[o]))return 1;if(parseInt(n[o])<parseInt(i[o]))return-1;if(o+1==a)return n.length>i.length?1:-1}},getLocalPlugins:function(){var t=this,e=v.join(v.resolve(),"/public/base_integration/"),n=l.a.map(l.a.difference(m.readdirSync(e),[".DS_Store"]),(function(t){return{plugin_id:t,version:y.readJsonSync("".concat(e).concat(t,"/package.json")).version}})),i=p["default"].pluginsPath+"/",a=l.a.map(l.a.difference(m.readdirSync(i),["list.json","npm_i.sh",".DS_Store"]),(function(e){var n=l.a.difference(m.readdirSync("".concat(i).concat(e)),[".DS_Store"]).sort(t.versionFn);return{plugin_id:e,version:n[n.length-1]}}));a=l.a.concat(a,n);var o=[],s={};s=""!==this.searchName?{plugin_name:this.searchName,plugin_description:this.searchName}:{plugin_name:l.a.map(a,"plugin_id")},Object(u["c"])(s).then((function(n){var s=n.data;""!==t.searchName&&(a=l.a.pullAllWith(a,l.a.map(s,(function(t){return{plugin_id:t.plugin_id,version:t.version}})),l.a.isEqual)),l.a.map(a,(function(n){var a="".concat(i).concat(n.plugin_id,"/").concat(n.version,"/package.json");if(m.existsSync(a)||(a="".concat(e,"/").concat(n.plugin_id,"/").concat(n.version,"/package.json")),m.existsSync(a)){var r=y.readJsonSync(a),c=l.a.find(s,(function(t){return t.plugin_id==r.id}));"uiauto_logMonitor"===r.id&&(r.is_uiauto_base_integration=!0),o.push({plugin_id:r.id,plugin_name:r.name,author:r.author,version:r.version,language:r.language,latestVersion:c?c.version:r.version,plugin_description:r.description,attachment_md5:c?c.attachment_md5:null,is_uiauto_base_integration:!!r.is_uiauto_base_integration});var u={plugin_id:r.id,needUpdate:!!t.download_plugin[r.id]||!!Object(g["a"])(c?c.version:r.version,r.version),buttonText:t.download_plugin[r.id]?"exception"===t.download_plugin[r.id]["downloadStatus"]?"重新下载":!0===t.download_plugin[r.id]["isWaitDownload"]?"等待下载":"正在下载":Object(g["a"])(c?c.version:r.version,r.version)?"更新":"已安装最新版本"};t.$store.commit("plugin/PLUGIN_STATUS",u)}})),t.list=l.a.chunk(o,t.listQuery.pageSize)[t.listQuery.pageIndex-1],t.total=o.length,t.loading=!1})).catch((function(e){console.warn(e),t.loading=!1}))},deletePlugin:function(t){var e=this;this.$confirm("此操作将永久删除该插件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=e.$loading({text:"正在删除",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",target:"#"+t.plugin_id}),i=p["default"].pluginsPath+"/",a=l.a.difference(m.readdirSync(i),["list.json"]),o=i+a[l.a.indexOf(a,t.plugin_id)]+"/";if(m.existsSync(o))try{y.emptyDirSync(o),m.rmdirSync(o),n.close(),e.getList(),e.$message({showClose:!0,message:"删除成功",type:"success"})}catch(s){n.close(),e.$message({showClose:!0,message:s,type:"error"})}else n.close(),e.$message({showClose:!0,message:"删除失败，插件已被删除或文件不合法",type:"error"})})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleFilterInit:function(){this.listQuery.pageIndex=1,this.handleFilter()},handleFilter:function(){var t=this;if(l.a.includes(["下载","更新"],this.searchStatus)){var e=[],n=[],i=v.join(v.resolve(),"/public/base_integration/"),a=l.a.map(l.a.difference(m.readdirSync(i),[".DS_Store"]),(function(t){return{plugin_id:t,version:m.existsSync("".concat(i).concat(t,"/package.json"))?y.readJsonSync("".concat(i).concat(t,"/package.json")).version:""}})),o=p["default"].pluginsPath+"/",s=l.a.map(l.a.difference(m.readdirSync(o),["list.json","npm_i.sh",".DS_Store"]),(function(e){var n=l.a.difference(m.readdirSync("".concat(o).concat(e)),[".DS_Store"]).sort(t.versionFn);return{plugin_id:e,version:n[n.length-1]}}));s=l.a.concat(s,a),Object(u["c"])({}).then((function(i){l.a.each(i.data,(function(e){var i="".concat(p["default"].pluginsPath,"/").concat(e.plugin_id,"/").concat(e.version,"/package.json"),a=v.join(v.resolve(),"/public/base_integration/");m.existsSync(i)||(i="".concat(a).concat(e.plugin_id,"/").concat(e.version,"/package.json")),l.a.includes(["uiauto_executor","uiauto_uiselector","uiauto_logMonitor"],e.plugin_id)?e.is_uiauto_base_integration=!0:e.is_uiauto_base_integration=!1;var o=l.a.find(s,{plugin_id:e.plugin_id})?l.a.find(s,{plugin_id:e.plugin_id}).version:null,r={plugin_id:e.plugin_id,needUpdate:"下载"===t.searchStatus||!!Object(g["a"])(e.version,o||e.version),buttonText:l.a.find(s,{plugin_id:e.plugin_id})?Object(g["a"])(e.version,o||e.version)?"更新":"已安装最新版本":"下载"};n.push(r),t.$store.commit("plugin/PLUGIN_STATUS",r)})),"下载"===t.searchStatus?l.a.each(n,(function(n){if("下载"===n.buttonText){var a=l.a.find(i.data,{plugin_id:n.plugin_id});""!==t.searchName?a&&(a.plugin_id.indexOf(t.searchName)>-1||a.plugin_description&&a.plugin_description.indexOf(t.searchName)>-1)&&e.push({plugin_id:a.plugin_id,plugin_name:a.plugin_name,author:a.author,version:a.version,latestVersion:a.version,language:a.language,plugin_description:a.plugin_description,attachment_md5:a.attachment_md5,is_uiauto_base_integration:a.is_uiauto_base_integration,updatedAt:a.updatedAt}):e.push({plugin_id:a.plugin_id,plugin_name:a.plugin_name,author:a.author,version:a.version,latestVersion:a.version,language:a.language,plugin_description:a.plugin_description,attachment_md5:a.attachment_md5,is_uiauto_base_integration:a.is_uiauto_base_integration,updatedAt:a.updatedAt})}})):"更新"===t.searchStatus&&l.a.each(n,(function(n){if("更新"===n.buttonText){var a=l.a.find(i.data,{plugin_id:n.plugin_id});""!==t.searchName?a&&(a.plugin_id.indexOf(t.searchName)>-1||a.plugin_description&&a.plugin_description.indexOf(t.searchName)>-1)&&e.push({plugin_id:a.plugin_id,plugin_name:a.plugin_name,author:a.author,version:a.version,latestVersion:a.version,language:a.language,plugin_description:a.plugin_description,attachment_md5:a.attachment_md5,is_uiauto_base_integration:a.is_uiauto_base_integration,updatedAt:a.updatedAt}):e.push({plugin_id:a.plugin_id,plugin_name:a.plugin_name,author:a.author,version:a.version,latestVersion:a.version,language:a.language,plugin_description:a.plugin_description,attachment_md5:a.attachment_md5,is_uiauto_base_integration:a.is_uiauto_base_integration,updatedAt:a.updatedAt})}})),t.list=l.a.chunk(e,t.listQuery.pageSize)[t.listQuery.pageIndex-1],t.total=e.length}))}else this.listQuery.pageIndex=1,this.getList()}}},P=x,k=(n("e3df"),n("2877")),j=Object(k["a"])(P,o,s,!1,null,"5b384a20",null),C=j.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar"},[n("breadcrumb",{staticClass:"breadcrumb-container"}),t._v(" "),n("plugin-tabs",{staticClass:"select"}),t._v(" "),n("div",{staticClass:"right-menu"},[n("uploadPlugin",{staticClass:"right-menu-item",staticStyle:{"margin-right":"10px"}}),t._v(" "),n("downloadPlugin",{staticClass:"right-menu-item"})],1)],1)},D=[],$=(n("386d"),n("a481"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-tabs",{model:{value:t.tabActiveName,callback:function(e){t.tabActiveName=e},expression:"tabActiveName"}},[n("el-tab-pane",{attrs:{label:"本地",name:"local"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"全部",name:"all"}})],1)],1)}),A=[],I={name:"PluginTabs",components:{},data:function(){return this.$store.state.plugin.tab="all",{}},computed:{tabActiveName:{get:function(){return this.$store.state.plugin.tab},set:function(t){return this.$store.state.plugin.tab=t,t}}},watch:{tabActiveName:function(){}},mounted:function(){},methods:{}},z=I,F=Object(k["a"])(z,$,A,!1,null,"516f5602",null),O=F.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.handleCompressionPlugin}},[t._v("压缩插件")]),t._v(" "),n("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(e){t.dialogSelectVisible=!0}}},[t._v("导入插件")]),t._v(" "),n("el-dialog",{attrs:{title:"导入插件",visible:t.dialogSelectVisible,width:"30%",center:""},on:{"update:visible":function(e){t.dialogSelectVisible=e},close:t.close}},[n("el-dialog",{attrs:{width:"25%",top:"25vh",visible:t.uploadLoading,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"append-to-body":"",center:""},on:{"update:visible":function(e){t.uploadLoading=e}}},[n("span",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.uploadTitle))]),t._v(" "),n("div",{staticClass:"loading"},[n("i",{staticClass:"el-icon-loading uploadLoading"})])]),t._v(" "),n("el-input",{attrs:{autocomplete:"off",readonly:!0},model:{value:t.filePath,callback:function(e){t.filePath=e},expression:"filePath"}},[n("template",{slot:"append"},[n("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t.productionUploadUrl,headers:t.headers,data:t.uploadData,"on-change":t.fileChange,"on-success":t.uploadSuccess,"on-error":t.uploadError,"before-upload":t.beforeupload,"show-file-list":!1,"auto-upload":!1}},[n("el-button",{attrs:{type:"primary"}},[t._v("选择文件")])],1)],1)],2),t._v(" "),n("center",[n("el-checkbox",{staticClass:"checkbox",model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("是否上传为私有插件")])],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticStyle:{color:"#1890ff",border:"1px solid #1890ff"},on:{click:function(e){t.dialogSelectVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{staticStyle:{color:"white"},attrs:{type:"primary",disabled:""===t.filePath},on:{click:function(e){return t.upload()}}},[t._v("导 入")])],1)],1),t._v(" "),n("compressionPlugin",{ref:"compressionPlugin"})],1)},L=[],E=(n("f559"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{title:"压缩插件",width:"40%",visible:t.dialogFormVisible,center:""},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",{attrs:{"label-position":"top","label-width":"80px"}},[n("el-row",[n("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[n("el-form-item",{attrs:{label:"插件路径",prop:"name"}},[n("el-input",{staticStyle:{width:"80%"},attrs:{id:"filePath_input",type:"text",placeholder:"请选择插件路径"},model:{value:t.filePath,callback:function(e){t.filePath=e},expression:"filePath"}}),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.openFileDialog("filePath_input","filePath")}}},[n("i",{staticClass:"el-icon-folder-opened"})])],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[n("el-form-item",{attrs:{label:"输出路径",prop:"name"}},[n("el-input",{staticStyle:{width:"80%"},attrs:{id:"outputPath_input",type:"text",placeholder:"请选择输出路径"},model:{value:t.outputPath,callback:function(e){t.outputPath=e},expression:"outputPath"}}),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.openFileDialog("filePath_input","outputPath")}}},[n("i",{staticClass:"el-icon-folder-opened"})])],1)],1)],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleCompression()}}},[t._v("压 缩")])],1)],1)],1)}),V=[],M=(n("ac6a"),n("5df3"),n("1e55")),U=M.fileSelector,q=n("c4e3a"),R=(n("71f1"),window.require("fs")),Q=(window.require("os"),window.require("path")),J=window.require("fs-extra"),G=n("95a9"),B=G.nodeGenerateCache,W=G.pythonGenerateCache,H={data:function(){return{dialogFormVisible:!1,filePath:"",outputPath:""}},computed:{},watch:{},created:function(){},methods:{reset:function(){this.dialogFormVisible=!1,this.filePath="",this.outputPath=""},show:function(){this.dialogFormVisible=!0},openFileDialog:function(t,e){var n=this;document.getElementById(t).blur(),U({properties:["openDirectory"]}).then((function(t){Array.isArray(t)&&("filePath"===e?n.filePath=t[0]:n.outputPath=t[0])}))},handleCompression:function(){var t=this;if(this.filePath&&this.outputPath){this.$message({message:"正在生成插件缓存文件，请稍候查看...",type:"success"}),this.dialogFormVisible=!1;var e=l.a.takeRight(Q.normalize(this.filePath).split("\\"))[0],n=Q.normalize("".concat(p["default"].pluginsPath,"/../plugins_temp/").concat(e));l.a.includes(["uiauto_executor","uiauto_logMonitor","uiauto_uiselector","uiauto-chrome-plugin"],e)?(J.ensureDirSync("".concat(n,"/").concat(J.readJsonSync("".concat(this.filePath,"/package.json")).version)),J.copySync(this.filePath,"".concat(n,"/").concat(J.readJsonSync("".concat(this.filePath,"/package.json")).version))):(J.ensureDirSync(n),J.copySync(this.filePath,n));var i=l.a.compact(l.a.map(l.a.difference(R.readdirSync(n),[".DS_Store"]),(function(t){if(R.statSync("".concat(n,"/").concat(t)).isDirectory())return"".concat(n,"/").concat(t)}))),a=[];l.a.each(i,(function(t){if(l.a.includes(["uiauto_executor","uiauto_logMonitor","uiauto_uiselector","uiauto-chrome-plugin"],e))Promise.resolve();else if(R.existsSync("".concat(t,"/package.json"))){var n=J.readJsonSync("".concat(t,"/package.json"));"nodejs"===n.language?a.push(B(t)):"python"===n.language&&a.push(W(t))}})),Promise.all(a).then((function(i){var a=new q,o=a.folder(e);t.readDir(o,n),a.generateAsync({type:"nodebuffer",compression:"DEFLATE",compressionOptions:{level:9}}).then((function(i){a.remove(e),R.writeFileSync("".concat(t.outputPath,"/").concat(e,".zip"),i,"utf-8"),t.deleteFolder("".concat(n)),t.$message({message:"插件'".concat(e,"'压缩成功"),type:"success"}),t.reset()}))}))}else this.$message({type:"warning",message:"请选择路径"})},readDir:function(t,e){var n=this,i=R.readdirSync(e);i.forEach((function(i,a){if(".DS_Store"!==i){var o=e+"/"+i,s=R.statSync(o);if(s.isDirectory()){var r=t.folder(i);n.readDir(r,o)}else t.file(i,R.readFileSync(o))}}))},deleteFolder:function(t){var e=[],n=this;R.existsSync(t)&&(e=R.readdirSync(t),e.forEach((function(e,i){var a="".concat(t,"/").concat(e);R.statSync(a).isDirectory()?n.deleteFolder(a):R.unlinkSync(a)})),R.rmdirSync(t))}}},X=H,Y=Object(k["a"])(X,E,V,!1,null,"673025e4",null),K=Y.exports,Z=n("71f1"),tt=(window.require("electron").ipcRenderer,window.require("electron").remote.app,window.require("fs-extra")),et=window.require("fs"),nt=window.require("crypto"),it=window.require("decompress"),at=window.require("path"),ot=n("95a9"),st=ot.nodeInit,rt=ot.pythonInit,ct={components:{compressionPlugin:K},data:function(){return{productionUploadUrl:p["default"].serverUrl+"/api/v1/plugins/upload",dialogSelectVisible:!1,uploadLoading:!1,filePath:"",headers:null,uploadData:null,checked:!1,uploadTitle:""}},computed:{},watch:{},created:function(){},methods:{handleCompressionPlugin:function(){this.$refs["compressionPlugin"]&&this.$refs["compressionPlugin"].show()},close:function(){this.filePath="",this.checked=!1,this.headers=null,this.uploadData=null},fileChange:function(t,e){this.filePath=t.raw.path,console.log(this.filePath);var n=et.readFileSync(this.filePath),i=nt.createHash("md5").update(n).digest("hex");console.log(i),this.headers={Authorization:localStorage.getItem("access_token")},this.uploadData={private:this.checked,md5:i},console.log(this.uploadData)},beforeupload:function(t){console.log("beforeupload"),console.log(t.path),this.uploadTitle="正在上传",this.uploadLoading=!0},upload:function(){this.$refs.upload.submit()},uploadSuccess:function(t,e){console.log(e),this.uploadTitle="正在安装",this.installPlugin()},uploadError:function(t,e){this.uploadLoading=!1,this.dialogSelectVisible=!1,this.uploadTitle="",this.$message({showClose:!0,message:"上传失败",type:"error"})},installPlugin:function(){var t=this,e=this,n=at.normalize("".concat(p["default"].pluginsPath,"/../plugins_temp/")),i="".concat(p["default"].pluginsPath,"/");et.existsSync(n)||et.mkdirSync(n),et.existsSync(i)||et.mkdirSync(i),it(this.filePath,n,{filter:function(t){var e=!0;return t.path.startsWith("__MACOSX")&&(e=!1),e}}).then((function(a){var o=l.a.takeRight(at.normalize(t.filePath).split(".")[0].split("\\"))[0],s=l.a.find(a,{type:"directory",path:"".concat(o,"/")});if(a&&a.length)if(s)if(l.a.includes(["uiauto_executor","uiauto_logMonitor","uiauto_uiselector","uiauto-chrome-plugin"],o)){var r="".concat(n).concat(o),c=l.a.difference(et.readdirSync(r),[".DS_Store"]).sort(t.versionFn);tt.copySync("".concat(r,"/").concat(c[c.length-1]),at.join(at.resolve(),"/public/base_integration/".concat(o))),e.importSuccess(o,tt.readJsonSync("".concat(r,"/").concat(c[c.length-1],"/package.json")).version),tt.emptyDirSync(r),et.rmdirSync(r)}else{var u="".concat(n).concat(o),d=l.a.compact(l.a.map(l.a.difference(et.readdirSync(u),[".DS_Store"]),(function(t){if(et.statSync("".concat(u,"/").concat(t)).isDirectory())return"".concat(u,"/").concat(t)})));Z.mapSeries(d,(function(t,n){if(et.existsSync("".concat(t,"/package.json"))){var a=tt.readJsonSync("".concat(t,"/package.json"));"nodejs"===a.language?st(t).then((function(s){et.existsSync("".concat(i,"/").concat(o,"/").concat(a.version))||tt.ensureDirSync("".concat(i,"/").concat(o,"/").concat(a.version)),tt.copySync("".concat(t),"".concat(i,"/").concat(o,"/").concat(a.version)),e.importSuccess(o,a.version),n(null,s)})).catch((function(i){e.importError(i,t),n(i,null)})):"python"===a.language?rt(t,a.version).then((function(s){et.existsSync("".concat(i,"/").concat(o,"/").concat(a.version))||tt.ensureDirSync("".concat(i,"/").concat(o,"/").concat(a.version)),tt.copySync("".concat(t),"".concat(i,"/").concat(o,"/").concat(a.version)),e.importSuccess(o,a.version),n(null,s)})).catch((function(i){e.importError(i,t),n(i,null)})):n(1,null)}else n(1,null)}),(function(t,e){tt.emptyDirSync("".concat(n,"/").concat(o)),et.rmdirSync("".concat(n,"/").concat(o))}))}else t.importError("文件格式有误","".concat(n,"/").concat(o));else t.importError("解压未发现存在文件","".concat(n,"/").concat(o))})).catch((function(e){console.log("decompress err",e),t.$message({showClose:!0,message:"文件解压失败",type:"error"}),t.importError("".concat(plugin_name,"插件不支持导入"),"".concat(n,"/").concat(plugin_name))}))},importSuccess:function(t,e){this.uploadLoading=!1,this.dialogSelectVisible=!1,this.uploadTitle="",this.$message({showClose:!0,message:"".concat(t,"-").concat(e,"导入成功"),type:"success"}),this.$store.dispatch("plugin/refreshPugin")},importError:function(t,e){this.uploadLoading=!1,this.dialogSelectVisible=!1,this.uploadTitle="",e&&(tt.emptyDirSync(e),et.rmdirSync(e)),this.$message({showClose:!0,message:t,type:"error"})},versionFn:function(t,e){for(var n=t.split("."),i=e.split("."),a=Math.min(n.length,i.length),o=(Math.max(n.length,i.length),0);o<a;o++){if(parseInt(n[o])>parseInt(i[o]))return 1;if(parseInt(n[o])<parseInt(i[o]))return-1;if(o+1==a)return n.length>i.length?1:-1}}}},lt=ct,ut=(n("90e8"),Object(k["a"])(lt,T,L,!1,null,"41cde44e",null)),dt=ut.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{staticClass:"button",attrs:{type:"primary",loading:t.allDownloadStatus},on:{click:function(e){return t.download()}}},[t._v(t._s(!0===t.allDownloadStatus?"正在下载":"全部下载"))])],1)},gt=[],ht=(window.require("path"),{data:function(){return{}},computed:{allDownloadStatus:function(){return this.$store.state.plugin.has_all_plugin_downloading}},created:function(){},methods:{download:function(){this.$store.commit("plugin/ALL_PLUGIN_DOWNLOADING",!0),_.$emit("getdownloadAllPlugin",!0)}}}),ft=ht,_t=(n("9c1d3"),Object(k["a"])(ft,pt,gt,!1,null,"6e966954",null)),mt=_t.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(e){t.dialogSelectVisible=!0}}},[t._v("设置依赖库源地址")]),t._v(" "),n("el-dialog",{attrs:{title:"设置依赖库源地址",visible:t.dialogSelectVisible,width:"45%",center:""},on:{"update:visible":function(e){t.dialogSelectVisible=e}}},[n("div",[n("el-row",[n("el-col",{attrs:{xs:6,sm:3,md:3,lg:3,xl:3}},[t._v("\n          Python源\n        ")]),t._v(" "),n("el-col",{attrs:{xs:6,sm:6,md:6,lg:6,xl:4}},[n("el-select",{staticClass:"filter-item",on:{change:t.pythonSourceChange},model:{value:t.used_python_source_id,callback:function(e){t.used_python_source_id=e},expression:"used_python_source_id"}},t._l(t.package_source.python,(function(t){return n("el-option",{key:t.name,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),n("el-col",{attrs:{xs:12,sm:15,md:15,lg:15,xl:16}},[n("el-input",{attrs:{disabled:"custom"!=t.used_python_source.id},model:{value:t.used_python_source.url,callback:function(e){t.$set(t.used_python_source,"url",e)},expression:"used_python_source.url"}})],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{xs:6,sm:3,md:3,lg:3,xl:3}},[t._v("\n          Node.js源\n        ")]),t._v(" "),n("el-col",{attrs:{xs:6,sm:6,md:6,lg:6,xl:4}},[n("el-select",{staticClass:"filter-item",on:{change:t.nodejsSourceChange},model:{value:t.used_nodejs_source_id,callback:function(e){t.used_nodejs_source_id=e},expression:"used_nodejs_source_id"}},t._l(t.package_source.nodejs,(function(t){return n("el-option",{key:t.name,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),n("el-col",{attrs:{xs:12,sm:15,md:15,lg:15,xl:16}},[n("el-input",{attrs:{disabled:"custom"!=t.used_nodejs_source.id},model:{value:t.used_nodejs_source.url,callback:function(e){t.$set(t.used_nodejs_source,"url",e)},expression:"used_nodejs_source.url"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticStyle:{color:"#1890ff",border:"1px solid #1890ff"},on:{click:function(e){t.dialogSelectVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{staticStyle:{color:"white"},attrs:{type:"primary"},on:{click:t.save}},[t._v("保 存")])],1)])],1)},yt=[],St=(window.require("electron").ipcRenderer,window.require("electron").remote.app,window.require("fs-extra"),window.require("fs")),bt=window.require("os"),wt=(window.require("crypto"),window.require("decompress"),window.require("path"),n("95a9")),xt=(wt.nodeInit,wt.pythonInit,"".concat(bt.homedir(),"/.uiauto/uiauto.conf")),Pt=JSON.parse(St.readFileSync(xt,"utf-8")),kt={data:function(){var t={python:[{id:"PyPi",name:"PyPi",url:"https://pypi.python.org/simple",is_default:!0},{id:"custom",name:"自定义",url:"",is_default:!1}],nodejs:[{id:"npm",name:"npm",url:"https://registry.npmjs.org/",is_default:!0},{id:"yarn",name:"yarn",url:"https://registry.yarnpkg.com/",is_default:!1},{id:"cnpm",name:"cnpm",url:"http://r.cnpmjs.org/",is_default:!1},{id:"taobao",name:"taobao",url:"https://registry.npm.taobao.org/",is_default:!1},{id:"custom",name:"自定义",url:"",is_default:!1}]};Pt.pipSource=l.a.unionBy(Pt.pipSource,t.python,"id"),Pt.npmSource=l.a.unionBy(Pt.npmSource,t.nodejs,"id"),console.log(">>>>>>>>>>>.",Pt.pipSource);var e=l.a.find(Pt.pipSource,{is_default:!0}),n=l.a.find(Pt.npmSource,{is_default:!0});return{package_source:{python:Pt.pipSource,nodejs:Pt.npmSource},used_python_source_id:e.id,used_python_source:e,used_nodejs_source_id:n.id,used_nodejs_source:n,dialogSelectVisible:!1}},computed:{},watch:{},created:function(){},methods:{pythonSourceChange:function(t){this.used_python_source.is_default=!1,this.used_python_source=l.a.find(this.package_source.python,{id:this.used_python_source_id}),this.used_python_source.is_default=!0},nodejsSourceChange:function(t){this.used_nodejs_source.is_default=!1,this.used_nodejs_source=l.a.find(this.package_source.nodejs,{id:this.used_nodejs_source_id}),this.used_nodejs_source.is_default=!0},pythonSourceUrlChange:function(){console.log(this.used_python_source.url),console.log(this.package_source.python)},save:function(){Pt.pipSource=this.package_source.python,Pt.npmSource=this.package_source.nodejs,St.writeFileSync(xt,JSON.stringify(Pt,null,"\t"),"utf8"),this.dialogSelectVisible=!1}}},jt=kt,Ct=(n("9f9db"),Object(k["a"])(jt,vt,yt,!1,null,"bb066876",null)),Nt=Ct.exports,Dt=n("6350"),$t={name:"PluginNavbar",components:{uploadPlugin:dt,downloadPlugin:mt,sourceSetting:Nt,pluginTabs:O,Breadcrumb:Dt["a"]},data:function(){return{search:"",show:!1}},methods:{searchClick:function(){console.log("searchClick"),this.show=!this.show,this.show&&this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.focus()},addSearch:function(){var t=this.search.replace(/\s+/g,"");f.$emit("getSearchParameters",{searchName:t})},tabClick:function(t,e){console.log("tabClick"),console.log(t,e),console.log(this.tabActiveName)}}},At=$t,It=(n("34b0"),Object(k["a"])(At,N,D,!1,null,"501dfea3",null)),zt=It.exports,Ft={name:"Plugins",components:{PluginList:C,PluginNavbar:zt},data:function(){return{}},created:function(){},methods:{},destroyed:function(){f.$off("getSearchParameters"),_.$off("getdownloadAllPlugin")}},Ot=Ft,Tt=(n("d2a8"),Object(k["a"])(Ot,i,a,!1,null,"025424c1",null));e["default"]=Tt.exports},"5dbc":function(t,e,n){var i=n("d3f4"),a=n("8b97").set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&a&&a(t,o),t}},"5df3":function(t,e,n){"use strict";var i=n("02f4")(!0);n("01f9")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},6981:function(t,e,n){},"8b97":function(t,e,n){var i=n("d3f4"),a=n("cb7c"),o=function(t,e){if(a(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},9093:function(t,e,n){var i=n("ce10"),a=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,a)}},"90e8":function(t,e,n){"use strict";n("2654")},"9c1d3":function(t,e,n){"use strict";n("25f8")},"9f9db":function(t,e,n){"use strict";n("05ff8")},a38a:function(t,e,n){},aa77:function(t,e,n){var i=n("5ca1"),a=n("be13"),o=n("79e5"),s=n("fdef"),r="["+s+"]",c="​",l=RegExp("^"+r+r+"*"),u=RegExp(r+r+"*$"),d=function(t,e,n){var a={},r=o((function(){return!!s[t]()||c[t]()!=c})),l=a[t]=r?e(p):s[t];n&&(a[n]=l),i(i.P+i.F*r,"String",a)},p=d.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},c5f6:function(t,e,n){"use strict";var i=n("7726"),a=n("69a8"),o=n("2d95"),s=n("5dbc"),r=n("6a99"),c=n("79e5"),l=n("9093").f,u=n("11e9").f,d=n("86cc").f,p=n("aa77").trim,g="Number",h=i[g],f=h,_=h.prototype,m=o(n("2aeb")(_))==g,v="trim"in String.prototype,y=function(t){var e=r(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():p(e,3);var n,i,a,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+e}for(var s,c=e.slice(2),l=0,u=c.length;l<u;l++)if(s=c.charCodeAt(l),s<48||s>a)return NaN;return parseInt(c,i)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(m?c((function(){_.valueOf.call(n)})):o(n)!=g)?s(new f(y(e)),n,h):y(e)};for(var S,b=n("9e1e")?l(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)a(f,S=b[w])&&!a(h,S)&&d(h,S,u(f,S));h.prototype=_,_.constructor=h,n("2aba")(i,g,h)}},d2a8:function(t,e,n){"use strict";n("6981")},e3df:function(t,e,n){"use strict";n("13cd")},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);