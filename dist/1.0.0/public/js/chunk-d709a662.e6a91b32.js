(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d709a662"],{"02b9":function(e,t,a){"use strict";a.r(t),a.d(t,"router",(function(){return s}));var i=window.require("express"),n=a("54b5"),o=i.Router();o.get("/get_device_id",n.getDeviceId),o.get("/uiselector/static_assets/:file_path",n.getUiSelectorStaticAssets);var s=o},"0f95":function(e,t,a){},1:function(e,t){},"1e5f":function(e,t,a){"use strict";a.r(t),a.d(t,"doGetDeviceId",(function(){return n})),a.d(t,"doGetUiSelectorStaticAssets",(function(){return o}));var i=window.require("path"),n=function(){var e=new Promise((function(e,t){e({is_installed:!0})}));return e},o=function(e,t){t.sendFile(i.resolve()+"/public/base_integration/uiauto_uiselector/js/"+e.params.file_path)}},"1fa3":function(e,t,a){},2:function(e,t){},"2cfa":function(e,t,a){"use strict";var i=a("a9a8"),n=a.n(i);n.a},"344a":function(e,t,a){"use strict";var i=a("53db"),n=a.n(i);n.a},"389c":function(e,t,a){"use strict";a.r(t),a.d(t,"start_server",(function(){return n}));var i=window.require("ws");function n(){var e=new i.Server({port:63380,perMessageDeflate:!1}),t=null;e.on("connection",(function(e){console.log("websocket connect>>>>>>>>>>"),e.on("message",(function(a){console.log("message>>>>>>>",a),a=JSON.parse(a),"browser"===a.client&&(console.log(window["pythonws"]),t&&t.send(JSON.stringify(a.data))),"python"===a.client&&(t=e),console.log("received: %s",a)}))}))}},"4a80":function(e,t,a){"use strict";var i=a("b82b"),n=a.n(i);n.a},"53db":function(e,t,a){},"54b5":function(e,t,a){"use strict";a.r(t),a.d(t,"getDeviceId",(function(){return o})),a.d(t,"getUiSelectorStaticAssets",(function(){return s}));var i=a("1e5f"),n=a("a530"),o=function(e,t){i.doGetDeviceId().then((function(e){n.formatResult(null,e,t)})).catch((function(e){n.formatResult(e,null,t)}))},s=function(e,t){i.doGetUiSelectorStaticAssets(e,t)}},"5a10":function(e,t,a){},7146:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{background:"#eeeeee"}},[a("div",{staticClass:"navbar"},[a("div",{staticClass:"left-menu"},[e._v("项目库")]),e._v(" "),a("el-button",{staticClass:"button",staticStyle:{float:"right",margin:"5px 15px 5px 0",height:"30px"},attrs:{type:"primary",size:"mini"},on:{click:e.syncProject}},[e._v("同步项目\n    ")]),e._v(" "),a("el-button",{staticClass:"button",staticStyle:{float:"right",margin:"5px 15px",height:"30px"},attrs:{type:"primary",size:"mini"},on:{click:function(t){e.dialogSelectVisible=!0}}},[e._v("导入项目\n    ")]),e._v(" "),a("el-dialog",{attrs:{title:"导入项目",visible:e.dialogSelectVisible,width:"30%",center:""},on:{"update:visible":function(t){e.dialogSelectVisible=t}}},[a("el-dialog",{attrs:{title:"正在导入项目环境",width:"25%",top:"25vh",visible:e.uploadLoading,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"append-to-body":"",center:""},on:{"update:visible":function(t){e.uploadLoading=t}}},[a("div",{staticClass:"loading"},[a("i",{staticClass:"el-icon-loading uploadLoading"})])]),e._v(" "),a("div",{attrs:{"class-name":"small-padding fixed-width"}},[a("el-input",{staticStyle:{width:"70%",height:"32px"},attrs:{autocomplete:"off",readonly:!0},model:{value:e.filePath,callback:function(t){e.filePath=t},expression:"filePath"}}),e._v(" "),a("el-button",{staticStyle:{height:"32px","line-height":"7px"},attrs:{type:"primary"},on:{click:function(t){return e.exportProject()}}},[e._v("选择文件\n        ")])],1),e._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px"},attrs:{type:"primary",disabled:""===e.filePath},on:{click:function(t){return e.upload()}}},[e._v("导入\n        ")]),e._v(" "),a("el-button",{staticStyle:{color:"#1890ff",border:"1px solid #1890ff",width:"70px",height:"32px","line-height":"7px"},on:{click:function(t){e.dialogSelectVisible=!1,e.filePath=""}}},[e._v("取消\n        ")])],1)],1),e._v(" "),a("div",{staticClass:"header-search",class:{showSearch:e.showSearch}},[a("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"search"},on:{click:function(t){return t.stopPropagation(),e.searchClick(t)}}}),e._v(" "),a("el-input",{ref:"headerSearchSelect",staticClass:"header-search-select",attrs:{placeholder:"请输入项目名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchFn()}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),e._v(" "),a("div",{staticClass:"welcome-container"},[a("div",{staticClass:"dashboard-editor-container"},[a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col-created",attrs:{xs:12,sm:12,lg:6},nativeOn:{click:function(t){e.showDialog=!0}}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-edit"},[a("svg-icon",{attrs:{"icon-class":"edit","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description",staticStyle:{margin:"51px 0"}},[a("div",{staticClass:"card-panel-text",staticStyle:{color:"#1890ff"}},[e._v("新建项目")])])])]),e._v(" "),a("el-col",{staticClass:"card-panel-col-created",attrs:{xs:12,sm:12,lg:6},nativeOn:{click:function(t){return e.createFolder()}}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-edit"},[a("svg-icon",{attrs:{"icon-class":"createfolder","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description",staticStyle:{margin:"51px 0"}},[a("div",{staticClass:"card-panel-text",staticStyle:{color:"#1890ff"}},[e._v("新建文件夹")])])])])],1),e._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[e.showTip?a("div",{staticStyle:{height:"60px","line-height":"60px","text-align":"center",color:"#909399"}},[e._v("请到系统管理设置项目路径\n        ")]):e._e(),e._v(" "),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-s-grid"}),e._v(" 项目宫格\n          ")]),e._v(" "),a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[e._l(e.local_folderLs,(function(t,i){return a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.hideFolder(),expression:"hideFolder()"}],key:i,staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6},on:{dragover:function(e){e.preventDefault()}},nativeOn:{drop:function(a){return e.drog(a,t.folder_name)},click:function(a){return e.openFolder(t)}}},[a("div",{staticClass:"card-panel",staticStyle:{"margin-top":"20px"},on:{mouseenter:function(a){return e.enterFolder(t)},mouseleave:function(a){return e.leaveFolder(t)}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-clipboard"},[a("svg-icon",{attrs:{"icon-class":"folder","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description",staticStyle:{position:"absolute",left:"120px",top:"auto"}},[a("div",{staticClass:"card-panel-text"},[e._v(e._s(t.folder_name))]),e._v(" "),a("div",{staticClass:"card-panel-num"},[e._v("文件夹")]),e._v(" "),a("div",{staticClass:"card-panel-num"},[e._v(e._s(t.date))])]),e._v(" "),a("transition",{attrs:{name:"slide-fade"}},[e.show&&e.showCurrent===t.folder_name?a("div",{staticStyle:{position:"absolute",right:"0",margin:"13px 20px"}},[a("div",{staticStyle:{"margin-bottom":"5px"}},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(a){return a.stopPropagation(),e.editFolder(t)}}})],1),e._v(" "),a("div",[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return a.stopPropagation(),e.deleteFolder(t)}}})],1)]):e._e()])],1)])})),e._v(" "),e._l(e.searchProjectLs.length?e.searchProjectLs:e.projectLs,(function(t){return a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.changeStatus(t.project_name),expression:"changeStatus(item.project_name)"}],key:t.project_name,staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6,draggable:"true"},nativeOn:{click:function(a){t.json&&e.handleSetLineChartData(t)},dragstart:function(a){return e.dragstart(a,t.project_name)},dragend:function(t){return e.dragend(t)}}},[a("div",{staticClass:"card-panel",staticStyle:{"margin-top":"20px"},on:{mouseenter:function(a){t.json&&e.enter(t)},mouseleave:function(a){t.json&&e.leave(t)}}},[t.isDownloading?a("el-progress",{staticClass:"progress",attrs:{type:"circle",percentage:t.downloadRate,width:50,"stroke-width":3}}):e._e(),e._v(" "),t.isDownloading?a("div",{style:{filter:"blur("+(100-t.downloadRate)/10+"px) contrast(0.8)"}},[a("div",{staticClass:"card-panel-icon-wrapper icon-clipboard"},[a("svg-icon",{attrs:{"icon-class":"clipboard","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description",staticStyle:{position:"absolute",left:"120px"}},[a("div",{staticClass:"card-panel-text"},[e._v(e._s(t.project_name))]),e._v(" "),a("div",{staticClass:"card-panel-num"},[e._v(e._s(t.project_type?"cloud"==t.project_type?"云端":"本地":"")+"\n                    ")]),e._v(" "),a("div",{staticClass:"card-panel-num"},[e._v(e._s(t.date))])])]):e._e(),e._v(" "),t.isDownloading?e._e():a("div",[a("div",{staticClass:"card-panel-icon-wrapper icon-clipboard"},[a("svg-icon",{attrs:{"icon-class":"clipboard","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description",staticStyle:{position:"absolute",left:"120px"}},[a("div",{staticClass:"card-panel-text"},[e._v(e._s(t.project_name))]),e._v(" "),a("div",{staticClass:"card-panel-num"},[e._v(e._s(t.project_type?"cloud"==t.project_type?"云端":"本地":"")+"\n                    ")]),e._v(" "),a("div",{staticClass:"card-panel-num"},[e._v(e._s(t.date))])])]),e._v(" "),a("transition",{attrs:{name:"slide-fade"}},[e.show&&e.showCurrent===t.project_name?a("div",{staticStyle:{position:"absolute",right:"0",margin:"13px 20px"}},[a("div",{staticStyle:{"margin-bottom":"5px"}},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(a){return a.stopPropagation(),e.editClick(t)}}})],1),e._v(" "),a("div",{staticStyle:{"margin-bottom":"5px"}},[a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-download",circle:""},on:{click:function(a){return a.stopPropagation(),e.download(t)}}})],1),e._v(" "),a("div",[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return a.stopPropagation(),e.deleteProject(t)}}})],1)]):e._e()])],1)])}))],2)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"项目列表"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-s-unfold"}),e._v(" 项目列表\n          ")]),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{border:"",data:e.searchProjectLs.length?e.searchProjectLs:e.projectLs}},[a("el-table-column",{attrs:{prop:"project_name",align:"center",label:"项目名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"json.cron",align:"center",label:"执行规则"}}),e._v(" "),a("el-table-column",{attrs:{prop:"json.retry_count",align:"center",label:"重试次数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"json.retry_interval",align:"center",label:"重试间隔(毫秒)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"json.time_out",align:"center",label:"超时时间(毫秒)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",align:"center",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"300","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.editClick(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return e.handleSetLineChartData(t.row)}}},[e._v("查看\n                ")]),e._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){return e.download(t.row)}}},[e._v("导出")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.deleteProject(t.row)}}},[e._v("删除")])]}}])})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新建项目",visible:e.showDialog,center:"","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.showDialog=t}}},[a("div",{staticStyle:{height:"32px","margin-bottom":"12px"}},[a("span",{staticClass:"title-name"},[e._v("项目名称：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.projectName,expression:"projectName"}],staticStyle:{"vertical-align":"middle",resize:"none","word-wrap":"normal",overflow:"hidden",width:"70%",height:"32px","line-height":"24px","border-radius":"5px",border:"1px solid #ccc"},attrs:{maxlength:"100",clearable:""},domProps:{value:e.projectName},on:{input:function(t){t.target.composing||(e.projectName=t.target.value)}}})]),e._v(" "),a("div",[a("span",{staticClass:"title-name"},[e._v("项目描述：")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticStyle:{"vertical-align":"top",resize:"none",overflow:"hidden",width:"70%",height:"150px","line-height":"24px","border-radius":"5px",border:"1px solid #ccc"},attrs:{clearable:""},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]),e._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px"},attrs:{type:"primary"},on:{click:function(t){return e.commitHandleClick()}}},[e._v("确定\n          ")]),e._v(" "),a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px",color:"#1890ff",border:"1px solid #1890ff"},on:{click:function(t){return e.cancelClick()}}},[e._v("取消\n          ")])],1)]),e._v(" "),a("folder",{ref:"childFolder"}),e._v(" "),a("edit",{ref:"editForm"})],1)])])},n=[],o=(a("386d"),a("7514"),a("f559"),a("a481"),a("28a5"),a("20d6"),a("ac6a"),a("2ef0")),s=a.n(o),r=a("c1df"),l=a.n(r),c=a("9448"),p=a("f22f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑操作",visible:e.showDialog,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.showDialog=t},closed:e.reset}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:8}},[e._v("项目名称")]),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:"请输入项目名称",disabled:e.isDisabled},model:{value:e.form.project_name,callback:function(t){e.$set(e.form,"project_name",t)},expression:"form.project_name"}}),e._v(" "),e.isDisabled?a("font",{staticStyle:{float:"left","font-size":"12px",color:"red"}},[e._v("云端项目不支持修改")]):e._e()],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:8}},[e._v("开启执行规则")]),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-switch",{staticStyle:{float:"left",height:"32px"},attrs:{"active-text":"是","inactive-text":"否"},model:{value:e.cronOpen,callback:function(t){e.cronOpen=t},expression:"cronOpen"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:8}},[e._v("开启录屏")]),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-switch",{staticStyle:{float:"left",height:"32px"},attrs:{"active-text":"是","inactive-text":"否"},model:{value:e.recordOpen,callback:function(t){e.recordOpen=t},expression:"recordOpen"}})],1)],1),e._v(" "),e.cronOpen?a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[e.cronOpen?a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:8}},[e._v("执行规则")]),e._v(" "),a("el-col",{attrs:{span:16}},[e.showCronBox?a("cron",{model:{value:e.form.cron,callback:function(t){e.$set(e.form,"cron",t)},expression:"form.cron"}}):e._e(),e._v(" "),a("el-input",{attrs:{"auto-complete":"off",readonly:"",placeholder:"请输入定时策略"},model:{value:e.form.cron,callback:function(t){e.$set(e.form,"cron",t)},expression:"form.cron"}},[e.showCronBox?a("el-button",{attrs:{slot:"append",icon:"el-icon-arrow-down",title:"关闭图形配置"},on:{click:function(t){e.showCronBox=!1}},slot:"append"}):a("el-button",{attrs:{slot:"append",icon:"el-icon-arrow-up",title:"打开图形配置"},on:{click:function(t){e.showCronBox=!0}},slot:"append"})],1)],1)],1):e._e(),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:8}},[e._v("重试(次)")]),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:"请输入重试次数",type:"number"},model:{value:e.form.retry_count,callback:function(t){e.$set(e.form,"retry_count",t)},expression:"form.retry_count"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:8}},[e._v("重试间隔(毫秒)")]),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:"请输入重试时间",type:"number"},model:{value:e.form.retry_interval,callback:function(t){e.$set(e.form,"retry_interval",t)},expression:"form.retry_interval"}})],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:8}},[e._v("超时时间(毫秒)")]),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-input",{attrs:{placeholder:"请输入超时时间",type:"number"},model:{value:e.form.time_out,callback:function(t){e.$set(e.form,"time_out",t)},expression:"form.time_out"}})],1)],1)],1):e._e(),e._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px"},attrs:{type:"primary"},on:{click:function(t){return e.commitEdit()}}},[e._v("确定")]),e._v(" "),a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px",color:"#1890ff",border:"1px solid #1890ff"},on:{click:function(t){e.showDialog=!1}}},[e._v("取消")])],1)],1)},u=[],h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cron",attrs:{val:e.value_}},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"秒",name:"s"}},[a("second-and-minute",{attrs:{lable:"秒"},model:{value:e.sVal,callback:function(t){e.sVal=t},expression:"sVal"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"分",name:"m"}},[a("second-and-minute",{attrs:{lable:"分"},model:{value:e.mVal,callback:function(t){e.mVal=t},expression:"mVal"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"时",name:"h"}},[a("hour",{attrs:{lable:"时"},model:{value:e.hVal,callback:function(t){e.hVal=t},expression:"hVal"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"日",name:"d"}},[a("day",{attrs:{lable:"日"},model:{value:e.dVal,callback:function(t){e.dVal=t},expression:"dVal"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"月",name:"month"}},[a("month",{attrs:{lable:"月"},model:{value:e.monthVal,callback:function(t){e.monthVal=t},expression:"monthVal"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"周",name:"week"}},[a("week",{attrs:{lable:"周"},model:{value:e.weekVal,callback:function(t){e.weekVal=t},expression:"weekVal"}})],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"mini",border:""}},[a("el-table-column",{attrs:{prop:"sVal",label:"秒",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mVal",label:"分",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"hVal",label:"时",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dVal",label:"日",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"monthVal",label:"月",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"weekVal",label:"周",width:"70"}})],1)],1)},f=[],m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{val:e.value_}},[a("div",[a("el-radio",{attrs:{label:"1",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("每"+e._s(e.lable))])],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"2",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("周期")]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[e._v("从")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:59,size:"mini"},on:{change:function(t){e.type="2"}},model:{value:e.cycle.start,callback:function(t){e.$set(e.cycle,"start",t)},expression:"cycle.start"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[e._v("至")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:2,max:59,size:"mini"},on:{change:function(t){e.type="2"}},model:{value:e.cycle.end,callback:function(t){e.$set(e.cycle,"end",t)},expression:"cycle.end"}}),e._v("\n    "+e._s(e.lable)+"\n  ")],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"3",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("循环")]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[e._v("从")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,max:59,size:"mini"},on:{change:function(t){e.type="3"}},model:{value:e.loop.start,callback:function(t){e.$set(e.loop,"start",t)},expression:"loop.start"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[e._v(e._s(e.lable)+"开始，每")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:59,size:"mini"},on:{change:function(t){e.type="3"}},model:{value:e.loop.end,callback:function(t){e.$set(e.loop,"end",t)},expression:"loop.end"}}),e._v("\n    "+e._s(e.lable)+"执行一次\n  ")],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"4",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("指定")]),e._v(" "),a("el-checkbox-group",{model:{value:e.appoint,callback:function(t){e.appoint=t},expression:"appoint"}},e._l(6,(function(t){return a("div",{key:t,staticStyle:{"margin-left":"10px","line-height":"25px"}},e._l(10,(function(i){return a("el-checkbox",{key:i,attrs:{label:(t-1==0?"":t-1)+""+(i-1)},on:{change:function(t){e.type="4"}}})})),1)})),0)],1)])},v=[],_={props:{value:{type:String,default:"*"},lable:{type:String}},data:function(){return{type:"1",cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},work:0,last:0,appoint:[]}},computed:{value_:function(){var e=[];switch(this.type){case"1":e.push("*");break;case"2":e.push("".concat(this.cycle.start,"-").concat(this.cycle.end));break;case"3":e.push("".concat(this.loop.start,"/").concat(this.loop.end));break;case"4":e.push(this.appoint.join(","));break;case"6":e.push("".concat(0===this.last?"":this.last,"L"));break;default:e.push("?");break}return this.$emit("input",e.join("")),e.join("")}},watch:{value:function(e,t){this.updateVal()}},methods:{updateVal:function(){this.value&&("?"===this.value?this.type="5":-1!==this.value.indexOf("-")?2===this.value.split("-").length&&(this.type="2",this.cycle.start=this.value.split("-")[0],this.cycle.end=this.value.split("-")[1]):-1!==this.value.indexOf("/")?2===this.value.split("/").length&&(this.type="3",this.loop.start=this.value.split("/")[0],this.loop.end=this.value.split("/")[1]):-1!==this.value.indexOf("*")?this.type="1":-1!==this.value.indexOf("L")?(this.type="6",this.last=this.value.replace("L","")):-1!==this.value.indexOf("#")?2===this.value.split("#").length&&(this.type="7",this.week.start=this.value.split("#")[0],this.week.end=this.value.split("#")[1]):-1!==this.value.indexOf("W")?(this.type="8",this.work=this.value.replace("W","")):(this.type="4",this.appoint=this.value.split(",")))}},created:function(){this.updateVal()}},y=_,g=(a("4a80"),a("2877")),x=Object(g["a"])(y,m,v,!1,null,null,null),b=x.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{val:e.value_}},[a("div",[a("el-radio",{attrs:{label:"1",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("每时")])],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"2",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("周期")]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[e._v("从")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,max:23,size:"mini"},on:{change:function(t){e.type="2"}},model:{value:e.cycle.start,callback:function(t){e.$set(e.cycle,"start",t)},expression:"cycle.start"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[e._v("至")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:2,max:23,size:"mini"},on:{change:function(t){e.type="2"}},model:{value:e.cycle.end,callback:function(t){e.$set(e.cycle,"end",t)},expression:"cycle.end"}}),e._v("\n    时\n  ")],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"3",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("循环")]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[e._v("从")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,max:23,size:"mini"},on:{change:function(t){e.type="3"}},model:{value:e.loop.start,callback:function(t){e.$set(e.loop,"start",t)},expression:"loop.start"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[e._v("时开始，每")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:23,size:"mini"},on:{change:function(t){e.type="3"}},model:{value:e.loop.end,callback:function(t){e.$set(e.loop,"end",t)},expression:"loop.end"}}),e._v("\n    时执行一次\n  ")],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"4",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("指定")]),e._v(" "),a("el-checkbox-group",{model:{value:e.appoint,callback:function(t){e.appoint=t},expression:"appoint"}},e._l(3,(function(t){return a("div",{key:t,staticStyle:{"margin-left":"10px","line-height":"25px"}},e._l(10,(function(i){return parseInt(t-1+""+(i-1))<24?a("el-checkbox",{key:i,attrs:{label:(t-1==0?"":t-1)+""+(i-1)},on:{change:function(t){e.type="4"}}}):e._e()})),1)})),0)],1)])},j=[],S={props:{value:{type:String,default:"*"}},data:function(){return{type:"1",cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},work:0,last:0,appoint:[]}},computed:{value_:function(){var e=[];switch(this.type){case"1":e.push("*");break;case"2":e.push("".concat(this.cycle.start,"-").concat(this.cycle.end));break;case"3":e.push("".concat(this.loop.start,"/").concat(this.loop.end));break;case"4":e.push(this.appoint.join(","));break;case"6":e.push("".concat(0===this.last?"":this.last,"L"));break;default:e.push("?");break}return this.$emit("input",e.join("")),e.join("")}},watch:{value:function(e,t){this.updateVal()}},methods:{updateVal:function(){this.value&&("?"===this.value?this.type="5":-1!==this.value.indexOf("-")?2===this.value.split("-").length&&(this.type="2",this.cycle.start=this.value.split("-")[0],this.cycle.end=this.value.split("-")[1]):-1!==this.value.indexOf("/")?2===this.value.split("/").length&&(this.type="3",this.loop.start=this.value.split("/")[0],this.loop.end=this.value.split("/")[1]):-1!==this.value.indexOf("*")?this.type="1":-1!==this.value.indexOf("L")?(this.type="6",this.last=this.value.replace("L","")):-1!==this.value.indexOf("#")?2===this.value.split("#").length&&(this.type="7",this.week.start=this.value.split("#")[0],this.week.end=this.value.split("#")[1]):-1!==this.value.indexOf("W")?(this.type="8",this.work=this.value.replace("W","")):(this.type="4",this.appoint=this.value.split(",")))}},created:function(){this.updateVal()}},k=S,D=(a("ff96"),Object(g["a"])(k,w,j,!1,null,null,null)),$=D.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{val:e.value_}},[a("div",[a("el-radio",{attrs:{label:"1",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("每日")])],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"2",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("周期")]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[e._v("从")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:31,size:"mini"},on:{change:function(t){e.type="2"}},model:{value:e.cycle.start,callback:function(t){e.$set(e.cycle,"start",t)},expression:"cycle.start"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[e._v("至")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:2,max:31,size:"mini"},on:{change:function(t){e.type="2"}},model:{value:e.cycle.end,callback:function(t){e.$set(e.cycle,"end",t)},expression:"cycle.end"}}),e._v("\n    日\n  ")],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"3",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("循环")]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[e._v("从")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:31,size:"mini"},on:{change:function(t){e.type="3"}},model:{value:e.loop.start,callback:function(t){e.$set(e.loop,"start",t)},expression:"loop.start"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[e._v("日开始，每")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:31,size:"mini"},on:{change:function(t){e.type="3"}},model:{value:e.loop.end,callback:function(t){e.$set(e.loop,"end",t)},expression:"loop.end"}}),e._v("\n    日执行一次\n  ")],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"8",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("工作日")]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[e._v("本月")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:7,size:"mini"},on:{change:function(t){e.type="8"}},model:{value:e.work,callback:function(t){e.work=t},expression:"work"}}),e._v("\n    号，最近的工作日\n  ")],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"6",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("本月最后一天")])],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"4",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("指定")]),e._v(" "),a("el-checkbox-group",{model:{value:e.appoint,callback:function(t){e.appoint=t},expression:"appoint"}},e._l(4,(function(t){return a("div",{key:t,staticStyle:{"margin-left":"10px","line-height":"25px"}},e._l(10,(function(i){return parseInt(t-1+""+(i-1))<32&&(1!==t||1!==i)?a("el-checkbox",{key:i,attrs:{label:(t-1==0?"":t-1)+""+(i-1)},on:{change:function(t){e.type="4"}}}):e._e()})),1)})),0)],1)])},O=[],N={props:{value:{type:String,default:"*"}},data:function(){return{type:"5",cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},work:0,last:0,appoint:[]}},computed:{value_:function(){var e=[];switch(this.type){case"1":e.push("*");break;case"2":e.push("".concat(this.cycle.start,"-").concat(this.cycle.end));break;case"3":e.push("".concat(this.loop.start,"/").concat(this.loop.end));break;case"4":e.push(this.appoint.join(","));break;case"6":e.push("".concat(0===this.last?"":this.last,"L"));break;case"7":e.push("".concat(this.week.start,"#").concat(this.week.end));break;case"8":e.push("".concat(this.work,"W"));break;default:e.push("*");break}return this.$emit("input",e.join("")),e.join("")}},watch:{value:function(e,t){this.updateVal()}},methods:{updateVal:function(){this.value&&("?"===this.value?this.type="5":-1!==this.value.indexOf("-")?2===this.value.split("-").length&&(this.type="2",this.cycle.start=this.value.split("-")[0],this.cycle.end=this.value.split("-")[1]):-1!==this.value.indexOf("/")?2===this.value.split("/").length&&(this.type="3",this.loop.start=this.value.split("/")[0],this.loop.end=this.value.split("/")[1]):-1!==this.value.indexOf("*")?this.type="1":-1!==this.value.indexOf("L")?(this.type="6",this.last=this.value.replace("L","")):-1!==this.value.indexOf("#")?2===this.value.split("#").length&&(this.type="7",this.week.start=this.value.split("#")[0],this.week.end=this.value.split("#")[1]):-1!==this.value.indexOf("W")?(this.type="8",this.work=this.value.replace("W","")):(this.type="4",this.appoint=this.value.split(",")))}},created:function(){this.updateVal()}},C=N,P=(a("2cfa"),Object(g["a"])(C,F,O,!1,null,null,null)),L=P.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{val:e.value_}},[a("div",[a("el-radio",{attrs:{label:"1",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("每月")])],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"2",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("周期")]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[e._v("从")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:12,size:"mini"},on:{change:function(t){e.type="2"}},model:{value:e.cycle.start,callback:function(t){e.$set(e.cycle,"start",t)},expression:"cycle.start"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[e._v("至")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:2,max:12,size:"mini"},on:{change:function(t){e.type="2"}},model:{value:e.cycle.end,callback:function(t){e.$set(e.cycle,"end",t)},expression:"cycle.end"}}),e._v("\n    月\n  ")],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"3",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("循环")]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[e._v("从")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:12,size:"mini"},on:{change:function(t){e.type="3"}},model:{value:e.loop.start,callback:function(t){e.$set(e.loop,"start",t)},expression:"loop.start"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[e._v("月开始，每")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:12,size:"mini"},on:{change:function(t){e.type="3"}},model:{value:e.loop.end,callback:function(t){e.$set(e.loop,"end",t)},expression:"loop.end"}}),e._v("\n    月执行一次\n  ")],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"4",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("指定")]),e._v(" "),a("el-checkbox-group",{staticStyle:{"margin-left":"0px","line-height":"25px"},model:{value:e.appoint,callback:function(t){e.appoint=t},expression:"appoint"}},e._l(12,(function(t){return a("el-checkbox",{key:t,attrs:{label:t},on:{change:function(t){e.type="4"}}})})),1)],1)])},V=[],E={props:{value:{type:String,default:"*"}},data:function(){return{type:"1",cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},work:0,last:0,appoint:[]}},computed:{value_:function(){var e=[];switch(this.type){case"1":e.push("*");break;case"2":e.push("".concat(this.cycle.start,"-").concat(this.cycle.end));break;case"3":e.push("".concat(this.loop.start,"/").concat(this.loop.end));break;case"4":e.push(this.appoint.join(","));break;case"6":e.push("".concat(0===this.last?"":this.last,"L"));break;default:e.push("?");break}return this.$emit("input",e.join("")),e.join("")}},watch:{value:function(e,t){this.updateVal()}},methods:{updateVal:function(){this.value&&("?"===this.value?this.type="5":-1!==this.value.indexOf("-")?2===this.value.split("-").length&&(this.type="2",this.cycle.start=this.value.split("-")[0],this.cycle.end=this.value.split("-")[1]):-1!==this.value.indexOf("/")?2===this.value.split("/").length&&(this.type="3",this.loop.start=this.value.split("/")[0],this.loop.end=this.value.split("/")[1]):-1!==this.value.indexOf("*")?this.type="1":-1!==this.value.indexOf("L")?(this.type="6",this.last=this.value.replace("L","")):-1!==this.value.indexOf("#")?2===this.value.split("#").length&&(this.type="7",this.week.start=this.value.split("#")[0],this.week.end=this.value.split("#")[1]):-1!==this.value.indexOf("W")?(this.type="8",this.work=this.value.replace("W","")):(this.type="4",this.appoint=this.value.split(",")))}},created:function(){this.updateVal()}},Y=E,J=(a("9a0f"),Object(g["a"])(Y,z,V,!1,null,null,null)),A=J.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{val:e.value_}},[a("div",[a("el-radio",{attrs:{label:"1",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("每周")])],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"2",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("周期")]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[e._v("从星期")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:7,size:"mini"},on:{change:function(t){e.type="2"}},model:{value:e.cycle.start,callback:function(t){e.$set(e.cycle,"start",t)},expression:"cycle.start"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[e._v("至星期")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:2,max:7,size:"mini"},on:{change:function(t){e.type="2"}},model:{value:e.cycle.end,callback:function(t){e.$set(e.cycle,"end",t)},expression:"cycle.end"}})],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"3",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("循环")]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[e._v("从星期")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:7,size:"mini"},on:{change:function(t){e.type="3"}},model:{value:e.loop.start,callback:function(t){e.$set(e.loop,"start",t)},expression:"loop.start"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[e._v("开始，每")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:7,size:"mini"},on:{change:function(t){e.type="3"}},model:{value:e.loop.end,callback:function(t){e.$set(e.loop,"end",t)},expression:"loop.end"}}),e._v("\n    天执行一次\n  ")],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"7",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("指定周")]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[e._v("本月第")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:4,size:"mini"},on:{change:function(t){e.type="7"}},model:{value:e.week.start,callback:function(t){e.$set(e.week,"start",t)},expression:"week.start"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[e._v("周，星期")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:7,size:"mini"},on:{change:function(t){e.type="7"}},model:{value:e.week.end,callback:function(t){e.$set(e.week,"end",t)},expression:"week.end"}})],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"6",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("本月最后一个")]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[e._v("星期")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:1,max:7,size:"mini"},on:{change:function(t){e.type="6"}},model:{value:e.last,callback:function(t){e.last=t},expression:"last"}})],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"4",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("指定")]),e._v(" "),a("el-checkbox-group",{staticStyle:{"margin-left":"50px","line-height":"25px"},model:{value:e.appoint,callback:function(t){e.appoint=t},expression:"appoint"}},e._l(7,(function(t){return a("el-checkbox",{key:t,attrs:{label:t},on:{change:function(t){e.type="4"}}})})),1)],1)])},M=[],R={props:{value:{type:String,default:"*"}},data:function(){return{type:"1",cycle:{start:0,end:0},loop:{start:0,end:0},week:{start:0,end:0},work:0,last:0,appoint:[]}},computed:{value_:function(){var e=[];switch(this.type){case"1":e.push("*");break;case"2":e.push("".concat(this.cycle.start,"-").concat(this.cycle.end));break;case"3":e.push("".concat(this.loop.start,"/").concat(this.loop.end));break;case"4":e.push(this.appoint.join(","));break;case"6":e.push("".concat(0===this.last?"":this.last,"L"));break;case"7":e.push("".concat(this.week.start,"#").concat(this.week.end));break;default:e.push("?");break}return this.$emit("input",e.join("")),e.join("")}},watch:{value:function(e,t){this.updateVal()}},methods:{updateVal:function(){this.value&&("?"===this.value?this.type="5":-1!==this.value.indexOf("-")?2===this.value.split("-").length&&(this.type="2",this.cycle.start=this.value.split("-")[0],this.cycle.end=this.value.split("-")[1]):-1!==this.value.indexOf("/")?2===this.value.split("/").length&&(this.type="3",this.loop.start=this.value.split("/")[0],this.loop.end=this.value.split("/")[1]):-1!==this.value.indexOf("*")?this.type="1":-1!==this.value.indexOf("L")?(this.type="6",this.last=this.value.replace("L","")):-1!==this.value.indexOf("#")?2===this.value.split("#").length&&(this.type="7",this.week.start=this.value.split("#")[0],this.week.end=this.value.split("#")[1]):-1!==this.value.indexOf("W")?(this.type="8",this.work=this.value.replace("W","")):(this.type="4",this.appoint=this.value.split(",")))}},created:function(){this.updateVal()}},I=R,q=(a("344a"),Object(g["a"])(I,T,M,!1,null,null,null)),H=q.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{val:e.value_}},[a("div",[a("el-radio",{attrs:{label:"1",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("每年")])],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"5",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("不指定")])],1),e._v(" "),a("div",[a("el-radio",{attrs:{label:"2",size:"mini",border:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[e._v("周期")]),e._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"5px"}},[e._v("从")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:2e3,size:"mini"},on:{change:function(t){e.type="2"}},model:{value:e.cycle.start,callback:function(t){e.$set(e.cycle,"start",t)},expression:"cycle.start"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"5px","margin-right":"5px"}},[e._v("至")]),e._v(" "),a("el-input-number",{staticStyle:{width:"100px"},attrs:{min:2e3,size:"mini"},on:{change:function(t){e.type="2"}},model:{value:e.cycle.end,callback:function(t){e.$set(e.cycle,"end",t)},expression:"cycle.end"}}),e._v("\n    年\n  ")],1)])},W=[],U={props:{value:{type:String,default:"*"}},data:function(){var e=(new Date).getFullYear();return{type:"1",cycle:{start:e,end:e},loop:{start:0,end:0},week:{start:0,end:0},work:0,last:0,appoint:[]}},computed:{value_:function(){var e=[];switch(this.type){case"1":e.push("*");break;case"2":e.push("".concat(this.cycle.start,"-").concat(this.cycle.end));break;case"3":e.push("".concat(this.loop.start,"/").concat(this.loop.end));break;case"4":e.push(this.appoint.join(","));break;case"6":e.push("".concat(0===this.last?"":this.last,"L"));break;default:e.push("?");break}return this.$emit("input",e.join("")),e.join("")}},watch:{value:function(e,t){this.updateVal()}},methods:{updateVal:function(){this.value&&("?"===this.value?this.type="5":-1!==this.value.indexOf("-")?2===this.value.split("-").length&&(this.type="2",this.cycle.start=this.value.split("-")[0],this.cycle.end=this.value.split("-")[1]):-1!==this.value.indexOf("/")?2===this.value.split("/").length&&(this.type="3",this.loop.start=this.value.split("/")[0],this.loop.end=this.value.split("/")[1]):-1!==this.value.indexOf("*")?this.type="1":-1!==this.value.indexOf("L")?(this.type="6",this.last=this.value.replace("L","")):-1!==this.value.indexOf("#")?2===this.value.split("#").length&&(this.type="7",this.week.start=this.value.split("#")[0],this.week.end=this.value.split("#")[1]):-1!==this.value.indexOf("W")?(this.type="8",this.work=this.value.replace("W","")):(this.type="4",this.appoint=this.value.split(",")))}},created:function(){this.updateVal()}},G=U,X=(a("eb31"),Object(g["a"])(G,B,W,!1,null,null,null)),K=X.exports,Q={props:{value:{type:String}},data:function(){return{activeName:"s",sVal:"",mVal:"",hVal:"",dVal:"",monthVal:"",weekVal:""}},watch:{value:function(e,t){this.updateVal()}},computed:{tableData:function(){return[{sVal:this.sVal,mVal:this.mVal,hVal:this.hVal,dVal:this.dVal,monthVal:this.monthVal,weekVal:this.weekVal}]},value_:function(){if(!this.dVal&&!this.weekVal)return"";var e="".concat(this.sVal," ").concat(this.mVal," ").concat(this.hVal," ").concat(this.dVal," ").concat(this.monthVal," ").concat(this.weekVal);return e!==this.value&&this.$emit("input",e),e}},methods:{updateVal:function(){if(this.value){var e=this.value.split(" ");this.sVal=e[0],this.mVal=e[1],this.hVal=e[2],this.dVal=e[3],this.monthVal=e[4],this.weekVal=e[5]}}},created:function(){this.updateVal()},components:{SecondAndMinute:b,hour:$,day:L,month:A,week:H,year:K}},Z=Q,ee=(a("959d"),Object(g["a"])(Z,h,f,!1,null,null,null)),te=ee.exports,ae=(a("71f1"),window.require("fs")),ie=(window.require("os"),window.require("path"),window.require("fs-extra")),ne=(window.require("decompress"),{name:"Edit",components:{cron:te},data:function(){return{showDialog:!1,cronOpen:!0,recordOpen:!1,showCronBox:!1,isDisabled:!1,propProjectName:"",readJson:"",form:{project_name:"",cron:"",retry_count:"",retry_interval:"",time_out:""},folderName:""}},computed:{},mounted:function(){},methods:{show:function(e){this.readJson=e.json,this.showDialog=!0,this.propProjectName=e.json.project_name,this.cronOpen=!!e.json.cron,this.recordOpen=!!e.json.automatic_recording,this.form.project_name=e.json.project_name,this.form.cron=e.json.cron||"",this.form.retry_count=e.json.retry_count||"",this.form.retry_interval=e.json.retry_interval||"",this.form.time_out=e.json.time_out||"",this.isDisabled="cloud"===e.project_type,this.folderName=e.folder_name},reset:function(){this.showDialog=!1,this.cronOpen=!0,this.recordOpen=!1,this.showCronBox=!1,this.isDisabled=!1,this.propProjectName="",this.form={project_name:"",cron:"",retry_count:"",retry_interval:"",time_out:""},this.folderName=""},commitEdit:function(){var e=this,t=this;if(this.cronOpen||(this.form.cron=""),this.cronOpen&&!this.cron&&(this.cronOpen=!1),"* * * * * *"!==this.form.cron)if(this.recordOpen?this.readJson["automatic_recording"]=!0:this.readJson["automatic_recording"]=!1,s.a.each(["cron","retry_count","retry_interval","time_out","updateAt"],(function(t){e.readJson[t]="updateAt"===t?l()().format("YYYY-MM-DD HH:mm:ss"):e.form[t]})),this.propProjectName!==this.form.project_name){if(ae.existsSync("".concat(p["default"].projectsPath,"/").concat(this.form.project_name)))return void this.$message({message:"项目已存在",type:"error"});if(this.$parent.delDir("".concat(p["default"].projectsPath,"/").concat(this.propProjectName)),this.$store.commit("project/LOCAL_PROJECT_DELETE",{project_name:this.propProjectName}),ie.ensureDirSync("".concat(p["default"].projectsPath,"/").concat(this.form.project_name)),this.readJson["project_name"]=this.form.project_name,ie.writeFileSync("".concat(p["default"].projectsPath,"/").concat(this.form.project_name,"/").concat(this.form.project_name,".json"),JSON.stringify(this.readJson,null,"\t"),"utf8"),this.showDialog=!1,this.$parent.addProject(this.form.project_name),this.folderName){this.$store.commit("project/LOCAL_PROJECT_FOLDER_DELETE",{folder_name:this.folderName});var a="";try{a=ie.readJsonSync("".concat(p["default"].projectsPath,"/").concat(this.folderName,"/").concat(this.folderName,".json"))}catch(o){console.log(o)}var i=s.a.findIndex(a["projects"],(function(e){return e===t.propProjectName}));-1!==i&&(a["projects"][i]=this.form.project_name),a["updateAt"]=l()().format("YYYY-MM-DD HH:mm:ss"),ie.writeFileSync("".concat(p["default"].projectsPath,"/").concat(this.folderName,"/").concat(this.folderName,".json"),JSON.stringify(a,null,"\t"),"utf8");var n={folder_name:this.folderName,project_type:a.project_type||"folder",projects:a.projects||[],json:a,date:l()(a.updateAt).format("YYYY-MM-DD")};this.$store.commit("project/LOCAL_PROJECT_FOLDERS",n)}else console.log("===============================");this.$parent.$refs["childFolder"].showOpenFolder=!1,this.$message({message:"修改成功",type:"success"})}else ie.writeFileSync("".concat(p["default"].projectsPath,"/").concat(this.propProjectName,"/").concat(this.propProjectName,".json"),JSON.stringify(this.readJson,null,"\t"),"utf8"),this.showDialog=!1,this.$parent.addProject(this.propProjectName),this.$message({message:"修改成功",type:"success"});else this.$message({message:"cron不能设置为每秒执行",type:"error"})}}}),oe=ne,se=Object(g["a"])(oe,d,u,!1,null,"2e831afa",null),re=se.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"新建文件夹",visible:e.showDialog_create_folder,center:"","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.showDialog_create_folder=t}}},[a("div",{staticStyle:{height:"32px","margin-bottom":"12px"}},[a("span",{staticClass:"title-name"},[e._v("文件夹名称：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.folderName,expression:"folderName"}],staticStyle:{"vertical-align":"middle",resize:"none","word-wrap":"normal",overflow:"hidden",width:"70%",height:"32px","line-height":"24px","border-radius":"5px",border:"1px solid #ccc"},attrs:{maxlength:"100",clearable:""},domProps:{value:e.folderName},on:{input:function(t){t.target.composing||(e.folderName=t.target.value)}}})]),e._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px"},attrs:{type:"primary"},on:{click:function(t){return e.commitCreateFolder()}}},[e._v("确定")]),e._v(" "),a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px",color:"#1890ff",border:"1px solid #1890ff"},on:{click:function(t){return e.cancelCreateFolder()}}},[e._v("取消")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"重命名文件夹",visible:e.showDialog_rename_folder,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.showDialog_rename_folder=t}}},[a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"title-name",staticStyle:{"line-height":"32px"},attrs:{span:6}},[e._v("文件夹新名称")]),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入文件夹名称"},model:{value:e.folderNewName,callback:function(t){e.folderNewName=t},expression:"folderNewName"}})],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px"},attrs:{type:"primary"},on:{click:function(t){return e.commitRenameFolder()}}},[e._v("确定")]),e._v(" "),a("el-button",{staticStyle:{width:"70px",height:"32px","line-height":"7px",color:"#1890ff",border:"1px solid #1890ff"},on:{click:function(t){return e.cancelRenameFolder()}}},[e._v("取消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.showProjectMove,width:"30%",center:""},on:{"update:visible":function(t){e.showProjectMove=t}}},[a("span",{staticStyle:{"font-size":"large"}},[e._v("确定将项目 "+e._s(e.dropData.projectName)+" 移动到文件夹 "+e._s(e.dropData.folderName)+" 下吗？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showProjectMove=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.moveProject}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:e.tempFolderName,visible:e.showOpenFolder,width:"50%",center:""},on:{"update:visible":function(t){e.showOpenFolder=t}}},[a("el-row",{staticStyle:{"margin-bottom":"5px"},attrs:{gutter:24,type:"flex",justify:"end"}},[a("el-col",{attrs:{span:6,align:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus",size:"mini"},on:{click:e.showCreateProject}},[e._v("新建项目")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.openFolderInfo,fit:""}},[a("el-table-column",{attrs:{prop:"project_name",align:"center",label:"项目名称",draggable:"true"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.editClick(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return e.handleSetLineChartData(t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){return e.download(t.row)}}},[e._v("导出")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){return e.outFolder(t.row)}}},[e._v("移出")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.deleteProject(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.showDeleteFolder,width:"30%"},on:{"update:visible":function(t){e.showDeleteFolder=t}}},[a("span",{staticStyle:{"font-size":"large"}},[e._v("此操作将永久删除文件夹 "+e._s(e.dropData.folderName)+" ，是否继续？")]),e._v(" "),e.showDeleteProject?a("el-checkbox",{model:{value:e.isDelete,callback:function(t){e.isDelete=t},expression:"isDelete"}},[a("span",{staticStyle:{color:"red"}},[e._v("该文件夹不为空，是否同时删除文件夹内容？")])]):e._e(),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showDeleteFolder=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteFolder}},[e._v("确 定")])],1)],1)],1)},ce=[],pe=(a("bc2e"),a("71f1"),window.require("fs")),de=(window.require("os"),window.require("path"),window.require("fs-extra")),ue=(window.require("decompress"),{name:"Folder",components:[],data:function(){return{projects_path:"",showDialog_create_folder:!1,folderName:"",folders:[],showDialog_rename_folder:!1,folderNewName:"",showProjectMove:!1,dropData:"",tempFolders:[],folderJson:{},folderInfo:"",openFolderInfo:"",showOpenFolder:!1,tempFolderName:"",showDeleteFolder:!1,isDelete:!1,deleteInfo:"",showDeleteProject:!1}},computed:{},mounted:function(){this.getFolderList()},methods:{createFolder:function(){this.showDialog_create_folder=!0},addFolder:function(e){var t=this;t.projects_path=p["default"].projectsPath+"/";var a="";try{a=de.readJsonSync("".concat(t.projects_path,"/").concat(e,"/").concat(e,".json"))}catch(n){}var i={folder_name:a.folder_name,project_type:a.project_type||"folder",projects:a.projects||[],json:a,date:l()(a.updatedAt).format("YYYY-MM-DD")};this.$store.commit("project/LOCAL_PROJECT_FOLDERS",i)},getFolderList:function(){var e=this,t=this;if(p["default"].projectsPath){t.projects_path=p["default"].projectsPath+"/";var a=[],i="",n=pe.readdirSync(t.projects_path);n.forEach((function(e,n){var o=pe.statSync(t.projects_path+"\\"+e);o.isDirectory()&&(i=de.readJsonSync("".concat(t.projects_path,"/").concat(e,"/").concat(e,".json")),"folder"===i.project_type&&a.push(e))})),this.tempFolders=s.a.each(a,(function(t,a){e.addFolder(t)}))}},commitCreateFolder:function(){var e=this;if(this.folderName.trim()){if(!p["default"].projectsPath)return void this.$parent.message("请先到系统管理设置项目路径","warning");try{pe.accessSync(this.$parent.projects_path+this.folderName+"/"+this.folderName+".json",pe.F_OK);var t=s.a.findIndex(this.$parent.local_folderLs,(function(t){return t.folder_name===e.folderName}));if(t>=0)return void this.$parent.message("已存在同名文件夹","warning");if(t=s.a.findIndex(this.$parent.projectLs,(function(t){return t.project_name===e.folderName})),t>=0)return void this.$parent.message("已存在同名项目","warning")}catch(i){if(!pe.existsSync(this.$parent.projects_path+this.folderName)){de.ensureDirSync(this.$parent.projects_path+this.folderName);var a=s.a.extend({folder_name:this.folderName},{project_type:"folder"},{projects:[]},{createAt:l()().format("YYYY-MM-DD HH:mm:ss")},{updateAt:l()().format("YYYY-MM-DD HH:mm:ss")});de.writeJsonSync("".concat(this.$parent.projects_path).concat(this.folderName,"/").concat(this.folderName,".json"),a,"utf8"),this.addFolder(this.folderName)}}this.cancelCreateFolder()}else this.$parent.message("文件夹名称不能为空","warning")},cancelCreateFolder:function(){this.folderName="",this.showDialog_create_folder=!1},enterFolder:function(e){this.$parent.show=!0,this.$parent.showCurrent=e.folder_name},leaveFolder:function(e){this.$parent.show=!1,this.$parent.showCurrent=""},editFolder:function(e){var t="";try{t=de.readJsonSync("".concat(this.$parent.projects_path,"/").concat(e.folder_name,"/").concat(e.folder_name,".json"))}catch(a){}this.folderInfo=t,this.folderNewName=t.folder_name,this.showDialog_rename_folder=!0},commitRenameFolder:function(){if(this.folderNewName.trim()){var e=this;if(s.a.each(["folder_name","project_type","projects","createAt","updateAt"],(function(t){e.folderJson[t]="updateAt"===t?l()().format("YYYY-MM-DD HH:mm:ss"):e.folderInfo[t]})),this.folderInfo.folder_name!==this.folderNewName){if(pe.existsSync("".concat(p["default"].projectsPath,"/").concat(this.folderNewName)))return void this.$message({message:"文件夹已存在",type:"error"});this.$parent.delDir("".concat(p["default"].projectsPath,"/").concat(this.folderInfo.folder_name)),this.$store.commit("project/LOCAL_PROJECT_FOLDER_DELETE",this.folderInfo),de.ensureDirSync("".concat(p["default"].projectsPath,"/").concat(this.folderNewName)),e.folderJson["folder_name"]=this.folderNewName,de.writeFileSync("".concat(p["default"].projectsPath,"/").concat(this.folderNewName,"/").concat(this.folderNewName,".json"),JSON.stringify(e.folderJson,null,"\t"),"utf8"),this.addFolder(this.folderNewName),this.$message({message:"修改成功",type:"success"}),this.folderNewName="",this.showDialog_rename_folder=!1}else de.writeFileSync("".concat(p["default"].projectsPath,"/").concat(this.folderInfo.folder_name,"/").concat(this.folderInfo.folder_name,".json"),JSON.stringify(this.folderJson,null,"\t"),"utf8"),this.folderNewName="",this.showDialog_rename_folder=!1,this.addFolder(this.folderInfo.folder_name),this.$message({message:"修改成功",type:"success"})}else this.$parent.message("文件夹名称不能为空","warning")},cancelRenameFolder:function(){this.folderNewName="",this.showDialog_rename_folder=!1},deleteFolder:function(){var e=this;try{if(this.isDelete){var t=this;s.a.each(t.deleteInfo.projects,(function(t){e.$parent.delDir(e.$parent.projects_path+t),e.$store.commit("project/LOCAL_PROJECT_DELETE",{project_name:t})}))}this.$parent.delDir(this.$parent.projects_path+this.deleteInfo.folder_name),this.$message({type:"success",message:"删除成功"}),this.$store.commit("project/LOCAL_PROJECT_FOLDER_DELETE",this.deleteInfo)}catch(a){console.log(a),this.$message({type:"".concat("cancel"===a?"info":"error"),message:"".concat("cancel"===a?"已取消删除":"文件被占用，请稍后再试")})}this.showDeleteFolder=!1,this.showDeleteProject=!1,this.isDelete=!1,this.deleteInfo=""},dragstart:function(e,t){console.log("dragstart======================"),e.dataTransfer.setData("item",t)},dragend:function(e){console.log("dragend=========================="),e.dataTransfer.clearData()},drog:function(e,t){e.preventDefault(),console.log("droping==============================");var a=e.dataTransfer.getData("item");console.log("project: ",a),this.dropData={folderName:t,projectName:a},this.moveProject()},moveProject:function(){try{var e=this;e.projects_path=p["default"].projectsPath+"/";var t="";try{t=de.readJsonSync("".concat(e.projects_path,"/").concat(this.dropData.folderName,"/").concat(this.dropData.folderName,".json"))}catch(n){}var a=s.a.findIndex(t.projects,(function(t){return t===e.dropData.projectName}));if(-1!==a)return void this.$message({message:"文件夹 ".concat(this.dropData.folderName," 中已存在项目 ").concat(this.dropData.projectName),type:"warning"});t["projects"].push(this.dropData.projectName),t["updateAt"]=l()().format("YYYY-MM-DD HH:mm:ss"),de.writeFileSync("".concat(e.projects_path,"/").concat(this.dropData.folderName,"/").concat(this.dropData.folderName,".json"),JSON.stringify(t,null,"\t"),"utf8"),this.$store.commit("project/LOCAL_PROJECT_FOLDER_DELETE",{folder_name:this.dropData.folderName});var i={folder_name:this.dropData.folderName,project_type:t.project_type||"folder",projects:t.projects||[],json:t,date:l()(t.updateAt).format("YYYY-MM-DD")};this.$store.commit("project/LOCAL_PROJECT_FOLDERS",i),this.$message({type:"success",message:"移动成功"}),this.showProjectMove=!1,this.dropData=""}catch(o){this.$message({type:"error",message:"移动失败"})}},outFolder:function(e){var t=this;this.$confirm("是否将项目 ".concat(e.project_name," 移出文件夹 ").concat(e.folder_name,"?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=[],i=t.$parent.local_folderLs,n=s.a.findIndex(i,(function(t){return t.folder_name===e.folder_name}));t.$store.commit("project/LOCAL_PROJECT_FOLDER_DELETE",e);var o="";try{o=de.readJsonSync("".concat(p["default"].projectsPath,"/").concat(e.folder_name,"/").concat(e.folder_name,".json"))}catch(c){console.error(c)}a=-1!==n?i[n].projects:o.projects,o["projects"]=s.a.pull(a,e.project_name),o["updateAt"]=l()().format("YYYY-MM-DD HH:mm:ss"),de.writeFileSync("".concat(p["default"].projectsPath,"/").concat(e.folder_name,"/").concat(e.folder_name,".json"),JSON.stringify(o,null,"\t"),"utf8");var r={folder_name:e.folder_name,project_type:o.project_type||"folder",projects:o.projects||[],json:o,date:l()(o.updateAt).format("YYYY-MM-DD")};t.$store.commit("project/LOCAL_PROJECT_FOLDERS",r),t.$message({type:"success",message:"移出成功"}),t.showOpenFolder=!1})).catch((function(e){console.log(e),t.$message({type:"".concat("cancel"===e?"info":"error"),message:"".concat("cancel"===e?"已取消移出":"文件被占用，请稍后再试")})}))},openFolder:function(e){var t=this;t.projects_path=p["default"].projectsPath+"/",this.tempFolderName="",this.showOpenFolder=!0;var a=this.$parent.local_folderLs,i=this.$parent.local_folder_projects,n="";if(a.length){var o=s.a.findIndex(a,(function(t){return t.folder_name===e.folder_name}));if(-1!==o){this.tempFolderName=a[o].folder_name;var r=[];s.a.each(a[o].projects,(function(e){var c=s.a.findIndex(i,(function(t){return t===e}));if(-1!==c){try{n=de.readJsonSync("".concat(t.projects_path,"/").concat(e,"/").concat(e,".json"))}catch(p){}r.push({project_name:e,folder_name:a[o].folder_name,folder_info:a[o].json,date:l()(n.updatedAt).format("YYYY-MM-DD"),project_type:n.project_type||"",json:n})}})),this.openFolderInfo=r}}},editClick:function(e){this.$parent.editClick(e)},handleSetLineChartData:function(e){this.$parent.handleSetLineChartData(e)},download:function(e){this.$parent.download(e)},deleteProject:function(e){this.$parent.deleteProject(e)},showCreateProject:function(){this.$parent.showDialog=!0}}}),he=ue,fe=Object(g["a"])(he,le,ce,!1,null,"6b154065",null),me=fe.exports,ve=a("7c39"),_e=a("71f1"),ye=window.require("fs"),ge=window.require("os"),xe=window.require("path"),be=window.require("fs-extra"),we=window.require("decompress"),je=(window.require("electron").remote.app,window.require("electron").ipcRenderer,a("1e55")),Se=je.fileSelector,ke=a("1e55"),De=ke.pluginDownload,$e=a("9e11"),Fe=$e.getSynchronizeParams,Oe=window.require(xe.resolve()+"/public/runner/index.js"),Ne=Oe.execute,Ce=a("ce74");Ce.start_server(),document.ondragover=function(e){e.preventDefault()},document.ondrop=function(e){e.preventDefault()};var Pe={name:"Workspace",components:{edit:re,folder:me},data:function(){return{search:"",showSearch:!1,show:!1,showTip:""===p["default"].projectsPath,showCurrent:"",projectName:"",description:"",projects_path:"",showDialog:!1,projectList:[],uploadLoading:!1,filePath:"",dialogSelectVisible:!1,cronExpression:"",webPlugins_global:[],searchProjectLs:[]}},computed:{vuex_download_projectLs:function(){return this.$store.state.project.projectDownload},vuex_local_projectLs:function(){return this.$store.state.project.localProjectLs},local_projectLs:function(){var e=[];for(var t in this.vuex_local_projectLs)e.push(this.vuex_local_projectLs[t]);return e},download_projectLs:function(){var e=[];for(var t in this.vuex_download_projectLs)e.push(this.vuex_download_projectLs[t]);return e},projectLs:function(){return s.a.concat(this.local_projectLs,this.download_projectLs)},vuex_local_folderLs:function(){return this.$store.state.project.localProjectFoldersLs},local_folderLs:function(){var e=[];for(var t in this.vuex_local_folderLs)e.push(this.vuex_local_folderLs[t]);return e},local_folder_projects:function(){var e=[],t="";for(var a in this.vuex_local_folderLs)t=this.vuex_local_folderLs[a].projects,e=s.a.concat(e,t);return e}},created:function(){},mounted:function(){var e=this;this.getProjectList(),this.pluginViewsFn().then((function(t){e.webPlugins_global=t}))},methods:{addProject:function(e){var t="";try{t=be.readJsonSync("".concat(this.projects_path,"/").concat(e,"/").concat(e,".json"))}catch(i){}var a={project_name:e,project_type:t.project_type||"",json:t,date:l()(t.updateAt).format("YYYY-MM-DD")};this.$store.commit("project/LOCAL_PROJECT",a)},getProjectList:function(){var e=this,t=this;if(p["default"].projectsPath){this.projects_path=p["default"].projectsPath+"/";var a=[],i="",n=ye.readdirSync(this.projects_path);n.forEach((function(e,n){var o=ye.statSync(t.projects_path+"/"+e);o.isDirectory()&&(i=be.readJsonSync("".concat(t.projects_path,"/").concat(e,"/").concat(e,".json")),"folder"!==i.project_type&&a.push(e))})),this.projectList=s.a.each(a,(function(t,a){e.addProject(t)}))}},enter:function(e){this.show=!0,this.showCurrent=e.project_name},leave:function(e){this.show=!1,this.showCurrent=""},cancelClick:function(){this.projectName="",this.description="",this.showDialog=!1},message:function(e,t){this.$message({message:e,type:t})},commitHandleClick:function(){var e=this,t=this;if(this.projectName.trim()){if(!p["default"].projectsPath)return void this.message("请先到系统管理设置项目路径","warning");try{ye.accessSync(this.projects_path+this.projectName+"/"+this.projectName+".json",ye.F_OK);var a=s.a.findIndex(this.local_folderLs,(function(e){return e.folder_name===t.projectName}));a<0?this.$confirm("文件已存在, 是否打开该文件?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$router.push({path:"/project",query:{projectName:e.projectName,projectType:"local"}})})).catch((function(){})):this.$message("已存在同名文件夹","error")}catch(d){if(!ye.existsSync(this.projects_path+this.projectName)){be.ensureDirSync(this.projects_path+this.projectName);var i=s.a.extend({project_name:this.projectName},{project_type:"local"},{createAt:l()().format("YYYY-MM-DD HH:mm:ss")},{updateAt:l()().format("YYYY-MM-DD HH:mm:ss")},{cron:""},{retry_count:""},{retry_interval:""},{time_out:""},{description:this.description},{nodes:[{"v-146d869c":"",type:"node",shape:"flow-circle",shapeType:"Start",size:"44*44",label:"开始",color:"#79C900",operation_id:"start",plugin_id:"base",input:[],output:{},version:"1.0.0",x:417.171875,y:61.5,id:"a9043c87",index:0,general_property:[{id:"retry_count",value:"1",name:"重试次数"},{id:"retry_interval",value:"50",name:"重试时间间隔(ms)"},{id:"execution_timeout",value:"5000",name:"执行超时时间(ms)"},{id:"delayed_execution_time",value:"50",name:"延迟执行时间(ms)"},{id:"waiting_time_after_execution",value:"50",name:"执行后等待时间"}]},{"v-146d869c":"",type:"node",shape:"flow-circle",shapeType:"End",size:"44*44",label:"结束",color:"#DC3C00",operation_id:"end",plugin_id:"base",input:[],output:{},version:"1.0.0",x:417.671875,y:479,id:"9e189b9d",index:1,general_property:[{id:"retry_count",value:"1",name:"重试次数"},{id:"retry_interval",value:"50",name:"重试时间间隔(ms)"},{id:"execution_timeout",value:"5000",name:"执行超时时间(ms)"},{id:"delayed_execution_time",value:"50",name:"延迟执行时间(ms)"},{id:"waiting_time_after_execution",value:"50",name:"执行后等待时间"}]}]});be.writeJsonSync("".concat(this.projects_path).concat(this.projectName,"/").concat(this.projectName,".json"),i,"utf8")}if(this.$refs["childFolder"].tempFolderName){this.$store.commit("project/LOCAL_PROJECT_FOLDER_DELETE",{folder_name:this.$refs["childFolder"].tempFolderName});var n="";try{n=be.readJsonSync("".concat(p["default"].projectsPath,"/").concat(this.$refs["childFolder"].tempFolderName,"/").concat(this.$refs["childFolder"].tempFolderName,".json"))}catch(u){}var o=s.a.findIndex(n["projects"],(function(e){return e===t.projectName})),r=n["projects"];o<0&&(n["projects"]=s.a.concat(r,t.projectName)),n["updateAt"]=l()().format("YYYY-MM-DD HH:mm:ss"),be.writeFileSync("".concat(p["default"].projectsPath,"/").concat(this.$refs["childFolder"].tempFolderName,"/").concat(this.$refs["childFolder"].tempFolderName,".json"),JSON.stringify(n,null,"\t"),"utf8");var c={folder_name:this.$refs["childFolder"].tempFolderName,project_type:n.project_type||"folder",projects:n.projects||[],json:n,date:l()(n.updateAt).format("YYYY-MM-DD")};this.$store.commit("project/LOCAL_PROJECT_FOLDERS",c),this.$refs["childFolder"].showOpenFolder=!1}this.$router.push({path:"/project",query:{projectName:this.projectName,projectType:"local"}}),this.showDialog=!1}}else this.message("项目名称不能为空","warning")},handleSetLineChartData:function(e){e.isDownloading?this.$message({type:"warning",message:"该项目暂无法操作"}):this.$router.push({path:"/project",query:{projectName:e.project_name,projectType:e.project_type}})},run:function(e){Ne(e)},editClick:function(e){e.isDownloading?this.$message({type:"warning",message:"该项目暂无法操作"}):this.$refs["editForm"]&&this.$refs["editForm"].show(e)},download:function(e){if(e.isDownloading)this.$message({type:"warning",message:"该项目暂无法操作"});else{var t=this,a=new ve,i=be.readJsonSync("".concat(this.projects_path,"/").concat(e.project_name,"/").concat(e.project_name,".json"));i.project_type="cloud",be.writeFileSync("".concat(this.projects_path).concat(e.project_name,"/").concat(e.project_name,".json"),JSON.stringify(i,null,"\t"),"utf8");var n="".concat(this.projects_path).concat(e.project_name),o=a.folder(e.project_name);this.readDir(o,n),a.generateAsync({type:"nodebuffer",compression:"DEFLATE",compressionOptions:{level:9}}).then((function(i){a.remove(e.project_name),ye.existsSync(t.projects_path+"../zip/")||be.ensureDirSync(t.projects_path+"../zip/"),ye.writeFileSync(t.projects_path+"../zip/"+e.project_name+".zip",i,"utf-8"),t.$message({message:"项目导出成功，导出路径：".concat(xe.normalize(t.projects_path+"../zip/"+e.project_name+".zip")),type:"success"});var n=be.readJsonSync("".concat(t.projects_path,"/").concat(e.project_name,"/").concat(e.project_name,".json"));n.project_type="local",be.writeFileSync("".concat(t.projects_path).concat(e.project_name,"/").concat(e.project_name,".json"),JSON.stringify(n,null,"\t"),"utf8")}))}},readDir:function(e,t){var a=this,i=ye.readdirSync(t);i.forEach((function(i,n){if(".DS_Store"!==i){var o=t+"/"+i,s=ye.statSync(o);if(s.isDirectory()){var r=e.folder(i);a.readDir(r,o)}else e.file(i,ye.readFileSync(o))}}))},exportProject:function(){var e=this;Se({properties:["openFile"]}).then((function(t){Array.isArray(t)&&(e.filePath=t[0])}))},upload:function(){var e=this,t=this;if(p["default"].projectsPath){if(this.dialogSelectVisible=!1,this.uploadLoading=!0,"zip"!==this.filePath.split(".")[this.filePath.split(".").length-1])return this.uploadLoading=!1,void t.$message({type:"error",message:"文件格式错误"});var a=this.filePath.replace(/\\/g,"/").split("/"),i=a[a.length-1].split(".zip")[0],n="".concat(p["default"].projectsPath,"/../projects_temp/").concat(i),o=p["default"].projectsPath+"/";ye.existsSync(n)||be.ensureDirSync(n),ye.existsSync(o)||be.ensureDirSync(o),we(this.filePath,n,{filter:function(e){var t=!0;return e.path.startsWith("__MACOSX")&&(t=!1),t}}).then((function(a){if(a&&a.length){var r=s.a.find(a,{path:"".concat(i,"/").concat(i,".json")});if(r){var l=be.readJsonSync(n+"/"+r.path);if(!ye.existsSync(n)||l.project_name!==i||l.nodes&&!l.nodes.length||l.edges&&!l.edges.length)t.uploadLoading=!1,be.emptyDirSync(n),ye.rmdirSync(n),t.$message({type:"error",message:"包内文件不合法，请检查包内容后再试!"});else{var c=s.a.uniq(s.a.map(l.nodes,"plugin_id")),d=s.a.difference(ye.readdirSync(p["default"].pluginsPath+"/"),["list.json"]),u=s.a.map(e.webPlugins_global,"plugin_id"),h=s.a.difference(c,d),f=function(){t.uploadLoading=!1;var e=s.a.cloneDeep(n);"directory"===a[0].type&&(e=e+"/"+a[0].path),ye.existsSync(o+i+"/"+i+".json")?t.$confirm("导入的项目已存在, 是否更新替换?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"更新成功!"})})):(t.filePath="",t.$message({type:"success",message:"导入成功!"})),l.project_type="local",ye.writeFileSync("".concat(e,"/").concat(i,".json"),JSON.stringify(l,null,"\t"),"utf8"),be.moveSync(e,o+i,{overwrite:!0}),be.emptyDirSync(e);try{ye.rmdirSync(e),ye.rmdirSync(n)}catch(r){}t.addProject(i)};if(h.length){var m=s.a.difference(h,u);if(m.length)t.$confirm("检测到".concat(m,"插件本地且云端不存在，是否继续导入项目？"),"提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning"}).then((function(){f()}));else{var v=[];s.a.each(e.webPlugins_global,(function(e){s.a.each(h,(function(t){e.plugin_id==t&&v.push(e)}))})),e.pluginDownloadFn(v).then((function(e){f()}))}}else f()}}else t.filePath="",t.uploadLoading=!1,t.$message({type:"error",message:"zip包名与包内项目名不匹配!"})}})).catch((function(e){console.error(e),t.uploadLoading=!1,t.$message({type:"error",message:"文件解压失败"})}))}else this.message("请先到系统管理设置项目路径","warning")},pluginViewsFn:function(){return new Promise((function(e,t){Object(c["c"])({attributes:["plugin_id","version","attachment_md5"]}).then((function(t){e(t.data)})).catch((function(e){console.error(e),t()}))}))},pluginDownloadFn:function(e){var t=this;return new Promise((function(a,i){_e.mapSeries(e,(function(e,a){De({plugin:e,listener_name:"downstate"+e.plugin_id+"@"+e.version,downloadPath:p["default"].serverUrl+"/downloads/plugins/"+e.plugin_id+"@"+e.version,configPath:xe.normalize(p["default"].pluginsPath+"/../plugins_temp/")}).then((function(i){t.$store.dispatch("plugin/pluginDownloadDelete",e.plugin_id).then((function(a){var i={plugin_id:e.plugin_id,needUpdate:!1,buttonText:"已安装最新版本"};t.$store.dispatch("plugin/pluginStatus",i).then((function(e){}))})),a(null,i)})).catch((function(i){console.error(i);var n={plugin_id:e.plugin_id,needUpdate:!0,buttonText:"重新下载"};t.$store.dispatch("plugin/pluginStatus",n),a(i,null)}))}),(function(e,t){e?i(e):a(t)}))}))},deleteProject:function(e){var t=this;e.isDownloading?this.$message({type:"warning",message:"该项目暂无法操作"}):this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(t.delDir(t.projects_path+e.project_name),t.$message({type:"success",message:"删除成功"}),t.$store.commit("project/LOCAL_PROJECT_DELETE",e),t.$refs["childFolder"].showOpenFolder){t.$store.commit("project/LOCAL_PROJECT_FOLDER_DELETE",{folder_name:t.$refs["childFolder"].tempFolderName});var a="";try{a=be.readJsonSync("".concat(p["default"].projectsPath,"/").concat(t.$refs["childFolder"].tempFolderName,"/").concat(t.$refs["childFolder"].tempFolderName,".json"))}catch(o){console.error(o)}var i=s.a.findIndex(a["projects"],(function(t){return t===e.project_name}));-1!==i&&s.a.pull(a["projects"],e.project_name),a["updateAt"]=l()().format("YYYY-MM-DD HH:mm:ss"),be.writeFileSync("".concat(p["default"].projectsPath,"/").concat(t.$refs["childFolder"].tempFolderName,"/").concat(t.$refs["childFolder"].tempFolderName,".json"),JSON.stringify(a,null,"\t"),"utf8");var n={folder_name:t.$refs["childFolder"].tempFolderName,project_type:a.project_type||"folder",projects:a.projects||[],json:a,date:l()(a.updateAt).format("YYYY-MM-DD")};t.$store.commit("project/LOCAL_PROJECT_FOLDERS",n)}t.$refs["childFolder"].showOpenFolder=!1})).catch((function(e){console.log(e),t.$message({type:"".concat("cancel"===e?"info":"error"),message:"".concat("cancel"===e?"已取消删除":"文件被占用，请稍后再试")})}))},delDir:function(e){var t=this,a=[];ye.existsSync(e)&&(a=ye.readdirSync(e),a.forEach((function(a,i){var n=e+"/"+a;ye.statSync(n).isDirectory()?t.delDir(n):ye.unlinkSync(n)})),ye.rmdirSync(e))},searchClick:function(){this.showSearch=!this.showSearch,this.showSearch&&this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.focus()},searchFn:function(){var e=this;this.searchProjectLs=[];var t=this.search.replace(/\s+/g,"");t.length&&s.a.each(this.projectLs,(function(a,i){a.project_name.indexOf(t)>-1&&e.searchProjectLs.push(a)})),this.searchProjectLs.length||this.$message({type:"warning",message:"找不到该项目"})},syncProject:function(){var e=be.readJsonSync("".concat(ge.homedir(),"/.uiauto/uiauto.conf")).deviceId;e?Object(c["a"])({deviceId:e}).then((function(e){e.data.length&&Fe(e.data)})):this.$message({type:"warning",message:"获取机器码失败，请联系管理员"})},createFolder:function(){this.$refs["childFolder"].createFolder()},enterFolder:function(e){this.$refs["childFolder"].enterFolder(e)},leaveFolder:function(e){this.$refs["childFolder"].leaveFolder(e)},editFolder:function(e){this.$refs["childFolder"].editFolder(e)},deleteFolder:function(e){this.$refs["childFolder"].showDeleteFolder=!0,this.$refs["childFolder"].deleteInfo=e,this.$refs["childFolder"].showDeleteProject=!1,e.projects.length>0&&(this.$refs["childFolder"].showDeleteProject=!0)},drog:function(e,t){this.$refs["childFolder"].drog(e,t)},dragstart:function(e,t){this.$refs["childFolder"].dragstart(e,t)},dragend:function(e){this.$refs["childFolder"].dragend(e)},changeStatus:function(e){var t=this.searchProjectLs;if(t.length){var a=s.a.findIndex(t,(function(t){return t.project_name===e}));if(-1!==a)return!0}var i=this.local_folder_projects,n=s.a.findIndex(i,(function(t){return t===e}));return-1===n},openFolder:function(e){this.$refs["childFolder"].openFolder(e)},outFolder:function(e){this.$refs["childFolder"].outFolder(e)},hideFolder:function(){return!this.searchProjectLs.length}}},Le=Pe,ze=(a("9e4a"),Object(g["a"])(Le,i,n,!1,null,"604570c5",null));t["default"]=ze.exports},"959d":function(e,t,a){"use strict";var i=a("0f95"),n=a.n(i);n.a},9821:function(e,t,a){},"9a0f":function(e,t,a){"use strict";var i=a("9821"),n=a.n(i);n.a},"9e4a":function(e,t,a){"use strict";var i=a("5a10"),n=a.n(i);n.a},a530:function(e,t,a){"use strict";a.r(t),a.d(t,"formatResult",(function(){return i}));var i=function(e,t,a,i){if(e){var n=e.status?e.status:500;return a.status(n).json({isSuccess:!1,code:e.code?e.code:"0x0001",error:e.message?e.message:e,data:t})}a.json({isSuccess:!0,code:"0x0001",data:t})}},a9a8:function(e,t,a){},b82b:function(e,t,a){},ba7e:function(e,t,a){},c182:function(e,t,a){"use strict";a.r(t),a.d(t,"router",(function(){return o}));var i=window.require("express"),n=i.Router();n.use("/common",a("02b9").router),n.use("/task",a("fffa").router);var o=n},ce74:function(e,t,a){"use strict";a.r(t),a.d(t,"start_server",(function(){return l}));var i=a("f22f"),n=window.require("express"),o=a("c182"),s=o.router,r=(a("e3a6"),a("389c"));function l(){var e=n();e.all("*",(function(e,t,a){t.header("Access-Control-Allow-Origin","*"),t.header("Access-Control-Allow-Headers","Accept-Ranges,DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-XSRF-TOKEN"),t.header("Access-Control-Allow-Methods","POST,GET"),a()})),e.listen(i["default"].express.port,"0.0.0.0",(function(){console.info("服务启动监听地址："+i["default"].express.domain),console.info("服务启动监听端口："+i["default"].express.port)})),e.use("/uiauto",s),r.start_server()}},e889:function(e,t){window.require("path")},eb31:function(e,t,a){"use strict";var i=a("1fa3"),n=a.n(i);n.a},f492:function(e,t,a){"use strict";a.r(t),a.d(t,"executeTask",(function(){return o}));a("e889"),a("a530");var i=window.require("path"),n=window.require(i.normalize(i.resolve()+"/public/runner/child_process_cache")),o=(n.stop,n.views,function(e,t){var a=e.body;window["executor"].execute(a.projectName,a.params).then((function(e){console.log(e),t.json({isSuccess:!0})})).catch((function(e){t.json({isSuccess:!0,error:e.stack})}))})},ff96:function(e,t,a){"use strict";var i=a("ba7e"),n=a.n(i);n.a},fffa:function(e,t,a){"use strict";a.r(t),a.d(t,"router",(function(){return r}));var i=window.require("express"),n=a("f492"),o=window.require("body-parser"),s=i.Router();s.post("/execute",o.json(),n.executeTask);var r=s}}]);